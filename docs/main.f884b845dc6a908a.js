(self.webpackChunkprojetoFinalFront=self.webpackChunkprojetoFinalFront||[]).push([[179],{190:(Lc,kc,Z)=>{"use strict";function Xe(e){return"function"==typeof e}function Wa(e){const r=e(n=>{Error.call(n),n.stack=(new Error).stack});return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}const $a=Wa(e=>function(r){e(this),this.message=r?`${r.length} errors occurred during unsubscription:\n${r.map((n,i)=>`${i+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=r});function qa(e,t){if(e){const r=e.indexOf(t);0<=r&&e.splice(r,1)}}class kn{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:r}=this;if(r)if(this._parentage=null,Array.isArray(r))for(const o of r)o.remove(this);else r.remove(this);const{initialTeardown:n}=this;if(Xe(n))try{n()}catch(o){t=o instanceof $a?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{Bn(o)}catch(c){t=t??[],c instanceof $a?t=[...t,...c.errors]:t.push(c)}}if(t)throw new $a(t)}}add(t){var r;if(t&&t!==this)if(this.closed)Bn(t);else{if(t instanceof kn){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(t)}}_hasParent(t){const{_parentage:r}=this;return r===t||Array.isArray(r)&&r.includes(t)}_addParent(t){const{_parentage:r}=this;this._parentage=Array.isArray(r)?(r.push(t),r):r?[r,t]:t}_removeParent(t){const{_parentage:r}=this;r===t?this._parentage=null:Array.isArray(r)&&qa(r,t)}remove(t){const{_finalizers:r}=this;r&&qa(r,t),t instanceof kn&&t._removeParent(this)}}kn.EMPTY=(()=>{const e=new kn;return e.closed=!0,e})();const Bc=kn.EMPTY;function hn(e){return e instanceof kn||e&&"closed"in e&&Xe(e.remove)&&Xe(e.add)&&Xe(e.unsubscribe)}function Bn(e){Xe(e)?e():e.unsubscribe()}const ue={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ur={setTimeout(e,t,...r){const{delegate:n}=Ur;return n?.setTimeout?n.setTimeout(e,t,...r):setTimeout(e,t,...r)},clearTimeout(e){const{delegate:t}=Ur;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function qt(e){Ur.setTimeout(()=>{const{onUnhandledError:t}=ue;if(!t)throw e;t(e)})}function ws(){}const gt=Ut("C",void 0,void 0);function Ut(e,t,r){return{kind:e,value:t,error:r}}let Se=null;function mt(e){if(ue.useDeprecatedSynchronousErrorHandling){const t=!Se;if(t&&(Se={errorThrown:!1,error:null}),e(),t){const{errorThrown:r,error:n}=Se;if(Se=null,r)throw n}}else e()}class _t extends kn{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,hn(t)&&t.add(this)):this.destination=Jt}static create(t,r,n){return new jr(t,r,n)}next(t){this.isStopped?nt(function Vc(e){return Ut("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?nt(function Ya(e){return Ut("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?nt(gt,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const oe=Function.prototype.bind;function tt(e,t){return oe.call(e,t)}class ee{constructor(t){this.partialObserver=t}next(t){const{partialObserver:r}=this;if(r.next)try{r.next(t)}catch(n){an(n)}}error(t){const{partialObserver:r}=this;if(r.error)try{r.error(t)}catch(n){an(n)}else an(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(r){an(r)}}}class jr extends _t{constructor(t,r,n){let i;if(super(),Xe(t)||!t)i={next:t??void 0,error:r??void 0,complete:n??void 0};else{let o;this&&ue.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&tt(t.next,o),error:t.error&&tt(t.error,o),complete:t.complete&&tt(t.complete,o)}):i=t}this.destination=new ee(i)}}function an(e){ue.useDeprecatedSynchronousErrorHandling?function Uc(e){ue.useDeprecatedSynchronousErrorHandling&&Se&&(Se.errorThrown=!0,Se.error=e)}(e):qt(e)}function nt(e,t){const{onStoppedNotification:r}=ue;r&&Ur.setTimeout(()=>r(e,t))}const Jt={closed:!0,next:ws,error:function be(e){throw e},complete:ws},G="function"==typeof Symbol&&Symbol.observable||"@@observable";function xt(e){return e}function to(e){return 0===e.length?xt:1===e.length?e[0]:function(r){return e.reduce((n,i)=>i(n),r)}}let dt=(()=>{class e{constructor(r){r&&(this._subscribe=r)}lift(r){const n=new e;return n.source=this,n.operator=r,n}subscribe(r,n,i){const o=function vn(e){return e&&e instanceof _t||function jc(e){return e&&Xe(e.next)&&Xe(e.error)&&Xe(e.complete)}(e)&&hn(e)}(r)?r:new jr(r,n,i);return mt(()=>{const{operator:c,source:f}=this;o.add(c?c.call(o,f):f?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(r){try{return this._subscribe(r)}catch(n){r.error(n)}}forEach(r,n){return new(n=Hr(n))((i,o)=>{const c=new jr({next:f=>{try{r(f)}catch(m){o(m),c.unsubscribe()}},error:o,complete:i});this.subscribe(c)})}_subscribe(r){var n;return null===(n=this.source)||void 0===n?void 0:n.subscribe(r)}[G](){return this}pipe(...r){return to(r)(this)}toPromise(r){return new(r=Hr(r))((n,i)=>{let o;this.subscribe(c=>o=c,c=>i(c),()=>n(o))})}}return e.create=t=>new e(t),e})();function Hr(e){var t;return null!==(t=e??ue.Promise)&&void 0!==t?t:Promise}const Ii=Wa(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let At=(()=>{class e extends dt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(r){const n=new Xa(this,this);return n.operator=r,n}_throwIfClosed(){if(this.closed)throw new Ii}next(r){mt(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const n of this.currentObservers)n.next(r)}})}error(r){mt(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=r;const{observers:n}=this;for(;n.length;)n.shift().error(r)}})}complete(){mt(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:r}=this;for(;r.length;)r.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var r;return(null===(r=this.observers)||void 0===r?void 0:r.length)>0}_trySubscribe(r){return this._throwIfClosed(),super._trySubscribe(r)}_subscribe(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)}_innerSubscribe(r){const{hasError:n,isStopped:i,observers:o}=this;return n||i?Bc:(this.currentObservers=null,o.push(r),new kn(()=>{this.currentObservers=null,qa(o,r)}))}_checkFinalizedStatuses(r){const{hasError:n,thrownError:i,isStopped:o}=this;n?r.error(i):o&&r.complete()}asObservable(){const r=new dt;return r.source=this,r}}return e.create=(t,r)=>new Xa(t,r),e})();class Xa extends At{constructor(t,r){super(),this.destination=t,this.source=r}next(t){var r,n;null===(n=null===(r=this.destination)||void 0===r?void 0:r.next)||void 0===n||n.call(r,t)}error(t){var r,n;null===(n=null===(r=this.destination)||void 0===r?void 0:r.error)||void 0===n||n.call(r,t)}complete(){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===r||r.call(t)}_subscribe(t){var r,n;return null!==(n=null===(r=this.source)||void 0===r?void 0:r.subscribe(t))&&void 0!==n?n:Bc}}function _e(e){return Xe(e?.lift)}function jt(e){return t=>{if(_e(t))return t.lift(function(r){try{return e(r,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function He(e,t,r,n,i){return new Lo(e,t,r,n,i)}class Lo extends _t{constructor(t,r,n,i,o,c){super(t),this.onFinalize=o,this.shouldUnsubscribe=c,this._next=r?function(f){try{r(f)}catch(m){t.error(m)}}:super._next,this._error=i?function(f){try{i(f)}catch(m){t.error(m)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(f){t.error(f)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:r}=this;super.unsubscribe(),!r&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function ze(e,t){return jt((r,n)=>{let i=0;r.subscribe(He(n,o=>{n.next(e.call(t,o,i++))}))})}function cr(e){return this instanceof cr?(this.v=e,this):new cr(e)}function re(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function Vn(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=e[o]&&function(c){return new Promise(function(f,m){!function i(o,c,f,m){Promise.resolve(m).then(function(g){o({value:g,done:f})},c)}(f,m,(c=e[o](c)).done,c.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Es=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function ni(e){return Xe(e?.then)}function Si(e){return Xe(e[G])}function jo(e){return Symbol.asyncIterator&&Xe(e?.[Symbol.asyncIterator])}function ur(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const ri=function kf(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function xs(e){return Xe(e?.[ri])}function Jn(e){return function Wc(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,n=r.apply(e,t||[]),o=[];return i={},c("next"),c("throw"),c("return"),i[Symbol.asyncIterator]=function(){return this},i;function c(D){n[D]&&(i[D]=function(I){return new Promise(function(P,F){o.push([D,I,P,F])>1||f(D,I)})})}function f(D,I){try{!function m(D){D.value instanceof cr?Promise.resolve(D.value.v).then(g,w):E(o[0][2],D)}(n[D](I))}catch(P){E(o[0][3],P)}}function g(D){f("next",D)}function w(D){f("throw",D)}function E(D,I){D(I),o.shift(),o.length&&f(o[0][0],o[0][1])}}(this,arguments,function*(){const r=e.getReader();try{for(;;){const{value:n,done:i}=yield cr(r.read());if(i)return yield cr(void 0);yield yield cr(n)}}finally{r.releaseLock()}})}function ii(e){return Xe(e?.getReader)}function en(e){if(e instanceof dt)return e;if(null!=e){if(Si(e))return function ce(e){return new dt(t=>{const r=e[G]();if(Xe(r.subscribe))return r.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Es(e))return function ro(e){return new dt(t=>{for(let r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()})}(e);if(ni(e))return function nl(e){return new dt(t=>{e.then(r=>{t.closed||(t.next(r),t.complete())},r=>t.error(r)).then(null,qt)})}(e);if(jo(e))return Xc(e);if(xs(e))return function dr(e){return new dt(t=>{for(const r of e)if(t.next(r),t.closed)return;t.complete()})}(e);if(ii(e))return function Bf(e){return Xc(Jn(e))}(e)}throw ur(e)}function Xc(e){return new dt(t=>{(function As(e,t){var r,n,i,o;return function Vo(e,t,r,n){return new(r||(r=Promise))(function(o,c){function f(w){try{g(n.next(w))}catch(E){c(E)}}function m(w){try{g(n.throw(w))}catch(E){c(E)}}function g(w){w.done?o(w.value):function i(o){return o instanceof r?o:new r(function(c){c(o)})}(w.value).then(f,m)}g((n=n.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(r=re(e);!(n=yield r.next()).done;)if(t.next(n.value),t.closed)return}catch(c){i={error:c}}finally{try{n&&!n.done&&(o=r.return)&&(yield o.call(r))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(r=>t.error(r))})}function Ir(e,t,r,n=0,i=!1){const o=t.schedule(function(){r(),i?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(o),!i)return o}function ln(e,t,r=1/0){return Xe(t)?ln((n,i)=>ze((o,c)=>t(n,o,i,c))(en(e(n,i))),r):("number"==typeof t&&(r=t),jt((n,i)=>function Vf(e,t,r,n,i,o,c,f){const m=[];let g=0,w=0,E=!1;const D=()=>{E&&!m.length&&!g&&t.complete()},I=F=>g<n?P(F):m.push(F),P=F=>{o&&t.next(F),g++;let k=!1;en(r(F,w++)).subscribe(He(t,H=>{i?.(H),o?I(H):t.next(H)},()=>{k=!0},void 0,()=>{if(k)try{for(g--;m.length&&g<n;){const H=m.shift();c?Ir(t,c,()=>P(H)):P(H)}D()}catch(H){t.error(H)}}))};return e.subscribe(He(t,I,()=>{E=!0,D()})),()=>{f?.()}}(n,i,e,r)))}function io(e=1/0){return ln(xt,e)}const Sr=new dt(e=>e.complete());function Ho(e){return e[e.length-1]}function q(e){return Xe(Ho(e))?e.pop():void 0}function zo(e){return function oi(e){return e&&Xe(e.schedule)}(Ho(e))?e.pop():void 0}function Mi(e,t=0){return jt((r,n)=>{r.subscribe(He(n,i=>Ir(n,e,()=>n.next(i),t),()=>Ir(n,e,()=>n.complete(),t),i=>Ir(n,e,()=>n.error(i),t)))})}function Qc(e,t=0){return jt((r,n)=>{n.add(e.schedule(()=>r.subscribe(n),t))})}function Ds(e,t){if(!e)throw new Error("Iterable cannot be null");return new dt(r=>{Ir(r,t,()=>{const n=e[Symbol.asyncIterator]();Ir(r,t,()=>{n.next().then(i=>{i.done?r.complete():r.next(i.value)})},0,!0)})})}function Et(e,t){return t?function tn(e,t){if(null!=e){if(Si(e))return function rt(e,t){return en(e).pipe(Qc(t),Mi(t))}(e,t);if(Es(e))return function Ge(e,t){return new dt(r=>{let n=0;return t.schedule(function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())})})}(e,t);if(ni(e))return function et(e,t){return en(e).pipe(Qc(t),Mi(t))}(e,t);if(jo(e))return Ds(e,t);if(xs(e))return function rl(e,t){return new dt(r=>{let n;return Ir(r,t,()=>{n=e[ri](),Ir(r,t,()=>{let i,o;try{({value:i,done:o}=n.next())}catch(c){return void r.error(c)}o?r.complete():r.next(i)},0,!0)}),()=>Xe(n?.return)&&n.return()})}(e,t);if(ii(e))return function il(e,t){return Ds(Jn(e),t)}(e,t)}throw ur(e)}(e,t):en(e)}class Ye extends At{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const r=super._subscribe(t);return!r.closed&&t.next(this._value),r}getValue(){const{hasError:t,thrownError:r,_value:n}=this;if(t)throw r;return this._throwIfClosed(),n}next(t){super.next(this._value=t)}}function ae(...e){return Et(e,zo(e))}function Kc(e={}){const{connector:t=(()=>new At),resetOnError:r=!0,resetOnComplete:n=!0,resetOnRefCountZero:i=!0}=e;return o=>{let c,f,m,g=0,w=!1,E=!1;const D=()=>{f?.unsubscribe(),f=void 0},I=()=>{D(),c=m=void 0,w=E=!1},P=()=>{const F=c;I(),F?.unsubscribe()};return jt((F,k)=>{g++,!E&&!w&&D();const H=m=m??t();k.add(()=>{g--,0===g&&!E&&!w&&(f=Ni(P,i))}),H.subscribe(k),!c&&g>0&&(c=new jr({next:V=>H.next(V),error:V=>{E=!0,D(),f=Ni(I,r,V),H.error(V)},complete:()=>{w=!0,D(),f=Ni(I,n),H.complete()}}),en(F).subscribe(c))})(o)}}function Ni(e,t,...r){if(!0===t)return void e();if(!1===t)return;const n=new jr({next:()=>{n.unsubscribe(),e()}});return en(t(...r)).subscribe(n)}function je(e,t){return jt((r,n)=>{let i=null,o=0,c=!1;const f=()=>c&&!i&&n.complete();r.subscribe(He(n,m=>{i?.unsubscribe();let g=0;const w=o++;en(e(m,w)).subscribe(i=He(n,E=>n.next(t?t(m,E,w,g++):E),()=>{i=null,f()}))},()=>{c=!0,f()}))})}function B(e,t){return e===t}function b(e){for(let t in e)if(e[t]===b)return t;throw Error("Could not find renamed property on target object.")}function ye(e,t){for(const r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function We(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(We).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const r=t.indexOf("\n");return-1===r?t:t.substring(0,r)}function In(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const jf=b({__forward_ref__:b});function ft(e){return e.__forward_ref__=ft,e.toString=function(){return We(this())},e}function ve(e){return we(e)?e():e}function we(e){return"function"==typeof e&&e.hasOwnProperty(jf)&&e.__forward_ref__===ft}function bs(e){return e&&!!e.\u0275providers}const Jc="https://g.co/ng/security#xss";class X extends Error{constructor(t,r){super(function Ri(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,r)),this.code=t}}function De(e){return"string"==typeof e?e:null==e?"":String(e)}function xe(e,t){throw new X(-201,!1)}function er(e,t){null==e&&function pe(e,t,r,n){throw new Error(`ASSERTION ERROR: ${e}`+(null==n?"":` [Expected=> ${r} ${n} ${t} <=Actual]`))}(t,e,null,"!=")}function me(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function jn(e){return{providers:e.providers||[],imports:e.imports||[]}}function ot(e){return Go(e,j)||Go(e,nn)}function Go(e,t){return e.hasOwnProperty(t)?e[t]:null}function Ns(e){return e&&(e.hasOwnProperty(Fe)||e.hasOwnProperty(ol))?e[Fe]:null}const j=b({\u0275prov:b}),Fe=b({\u0275inj:b}),nn=b({ngInjectableDef:b}),ol=b({ngInjectorDef:b});var ke=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(ke||{});let sl;function Sn(e){const t=sl;return sl=e,t}function al(e,t,r){const n=ot(e);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:r&ke.Optional?null:void 0!==t?t:void xe(We(e))}const at=globalThis,Oi={},Rs="__NG_DI_FLAG__",$o="ngTempTokenPath",ao=/\n/gm,ou="__source";let Tr;function En(e){const t=Tr;return Tr=e,t}function Os(e,t=ke.Default){if(void 0===Tr)throw new X(-203,!1);return null===Tr?al(e,void 0,t):Tr.get(e,t&ke.Optional?null:void 0,t)}function se(e,t=ke.Default){return(function ru(){return sl}()||Os)(ve(e),t)}function ie(e,t=ke.Default){return se(e,Ps(t))}function Ps(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function qo(e){const t=[];for(let r=0;r<e.length;r++){const n=ve(e[r]);if(Array.isArray(n)){if(0===n.length)throw new X(900,!1);let i,o=ke.Default;for(let c=0;c<n.length;c++){const f=n[c],m=su(f);"number"==typeof m?-1===m?i=f.token:o|=m:i=f}t.push(se(i,o))}else t.push(se(n))}return t}function Yo(e,t){return e[Rs]=t,e.prototype[Rs]=t,e}function su(e){return e[Rs]}function fr(e){return{toString:e}.toString()}var li=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(li||{}),Me=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Me||{});const Hn={},v=[],s=b({\u0275cmp:b}),a=b({\u0275dir:b}),l=b({\u0275pipe:b}),u=b({\u0275mod:b}),d=b({\u0275fac:b}),h=b({__NG_ELEMENT_ID__:b}),p=b({__NG_ENV_ID__:b});function y(e,t,r){let n=e.length;for(;;){const i=e.indexOf(t,r);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const o=t.length;if(i+o===n||e.charCodeAt(i+o)<=32)return i}r=i+1}}function C(e,t,r){let n=0;for(;n<r.length;){const i=r[n];if("number"==typeof i){if(0!==i)break;n++;const o=r[n++],c=r[n++],f=r[n++];e.setAttribute(t,c,f,o)}else{const o=i,c=r[++n];x(o)?e.setProperty(t,o,c):e.setAttribute(t,o,c),n++}}return n}function _(e){return 3===e||4===e||6===e}function x(e){return 64===e.charCodeAt(0)}function A(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let r=-1;for(let n=0;n<t.length;n++){const i=t[n];"number"==typeof i?r=i:0===r||S(e,r,i,null,-1===r||2===r?t[++n]:null)}}return e}function S(e,t,r,n,i){let o=0,c=e.length;if(-1===t)c=-1;else for(;o<e.length;){const f=e[o++];if("number"==typeof f){if(f===t){c=-1;break}if(f>t){c=o-1;break}}}for(;o<e.length;){const f=e[o];if("number"==typeof f)break;if(f===r){if(null===n)return void(null!==i&&(e[o+1]=i));if(n===e[o+1])return void(e[o+2]=i)}o++,null!==n&&o++,null!==i&&o++}-1!==c&&(e.splice(c,0,t),o=c+1),e.splice(o++,0,r),null!==n&&e.splice(o++,0,n),null!==i&&e.splice(o++,0,i)}const N="ng-template";function O(e,t,r){let n=0,i=!0;for(;n<e.length;){let o=e[n++];if("string"==typeof o&&i){const c=e[n++];if(r&&"class"===o&&-1!==y(c.toLowerCase(),t,0))return!0}else{if(1===o){for(;n<e.length&&"string"==typeof(o=e[n++]);)if(o.toLowerCase()===t)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function L(e){return 4===e.type&&e.value!==N}function U(e,t,r){return t===(4!==e.type||r?e.value:N)}function Q(e,t,r){let n=4;const i=e.attrs||[],o=function Tn(e){for(let t=0;t<e.length;t++)if(_(e[t]))return t;return e.length}(i);let c=!1;for(let f=0;f<t.length;f++){const m=t[f];if("number"!=typeof m){if(!c)if(4&n){if(n=2|1&n,""!==m&&!U(e,m,r)||""===m&&1===t.length){if(J(n))return!1;c=!0}}else{const g=8&n?m:t[++f];if(8&n&&null!==e.attrs){if(!O(e.attrs,g,r)){if(J(n))return!1;c=!0}continue}const E=W(8&n?"class":m,i,L(e),r);if(-1===E){if(J(n))return!1;c=!0;continue}if(""!==g){let D;D=E>o?"":i[E+1].toLowerCase();const I=8&n?D:null;if(I&&-1!==y(I,g,0)||2&n&&g!==D){if(J(n))return!1;c=!0}}}}else{if(!c&&!J(n)&&!J(m))return!1;if(c&&J(m))continue;c=!1,n=m|1&n}}return J(n)||c}function J(e){return 0==(1&e)}function W(e,t,r,n){if(null===t)return-1;let i=0;if(n||!r){let o=!1;for(;i<t.length;){const c=t[i];if(c===e)return i;if(3===c||6===c)o=!0;else{if(1===c||2===c){let f=t[++i];for(;"string"==typeof f;)f=t[++i];continue}if(4===c)break;if(0===c){i+=4;continue}}i+=o?1:2}return-1}return function hr(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const n=e[r];if("number"==typeof n)return-1;if(n===t)return r;r++}return-1}(t,e)}function Ue(e,t,r=!1){for(let n=0;n<t.length;n++)if(Q(e,t[n],r))return!0;return!1}function pt(e,t){return e?":not("+t.trim()+")":t}function un(e){let t=e[0],r=1,n=2,i="",o=!1;for(;r<e.length;){let c=e[r];if("string"==typeof c)if(2&n){const f=e[++r];i+="["+c+(f.length>0?'="'+f+'"':"")+"]"}else 8&n?i+="."+c:4&n&&(i+=" "+c);else""!==i&&!J(c)&&(t+=pt(o,i),i=""),n=c,o=o||!J(n);r++}return""!==i&&(t+=pt(o,i)),t}function Bt(e){return fr(()=>{const t=l0(e),r={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===li.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Me.Emulated,styles:e.styles||v,_:null,schemas:e.schemas||null,tView:null,id:""};c0(r);const n=e.dependencies;return r.directiveDefs=au(n,!1),r.pipeDefs=au(n,!0),r.id=function gA(e){let t=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of r)t=Math.imul(31,t)+i.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(r),r})}function Jf(e){return Qe(e)||xn(e)}function fA(e){return null!==e}function Nr(e){return fr(()=>({type:e.type,bootstrap:e.bootstrap||v,declarations:e.declarations||v,imports:e.imports||v,exports:e.exports||v,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function a0(e,t){if(null==e)return Hn;const r={};for(const n in e)if(e.hasOwnProperty(n)){let i=e[n],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),r[i]=n,t&&(t[i]=o)}return r}function Te(e){return fr(()=>{const t=l0(e);return c0(t),t})}function tr(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Qe(e){return e[s]||null}function xn(e){return e[a]||null}function Gn(e){return e[l]||null}function pr(e,t){const r=e[u]||null;if(!r&&!0===t)throw new Error(`Type ${We(e)} does not have '\u0275mod' property.`);return r}function l0(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Hn,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||v,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:a0(e.inputs,t),outputs:a0(e.outputs)}}function c0(e){e.features?.forEach(t=>t(e))}function au(e,t){if(!e)return null;const r=t?Gn:Jf;return()=>("function"==typeof e?e():e).map(n=>r(n)).filter(fA)}const zt=0,le=1,Oe=2,Ot=3,Wr=4,hl=5,Nn=6,Ls=7,Yt=8,co=9,ks=10,Ne=11,pl=12,u0=13,Bs=14,Xt=15,gl=16,Vs=17,ci=18,ml=19,d0=20,uo=21,Pi=22,lu=23,cu=24,$e=25,eh=1,f0=2,ui=7,Us=9,An=11;function nr(e){return Array.isArray(e)&&"object"==typeof e[eh]}function Wn(e){return Array.isArray(e)&&!0===e[eh]}function th(e){return 0!=(4&e.flags)}function Xo(e){return e.componentOffset>-1}function du(e){return 1==(1&e.flags)}function $r(e){return!!e.template}function nh(e){return 0!=(512&e[Oe])}function Zo(e,t){return e.hasOwnProperty(d)?e[d]:null}let _A=at.WeakRef??class wA{constructor(t){this.ref=t}deref(){return this.ref}},xA=0,di=null,fu=!1;function mn(e){const t=di;return di=e,t}class y0{constructor(){this.id=xA++,this.ref=function EA(e){return new _A(e)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[t,r]of this.producers){const n=r.producerNode.deref();if(null!=n&&r.atTrackingVersion===this.trackingVersion){if(n.producerPollStatus(r.seenValueVersion))return!0}else this.producers.delete(t),n?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const t=fu;fu=!0;try{for(const[r,n]of this.consumers){const i=n.consumerNode.deref();null!=i&&i.trackingVersion===n.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(r),i?.producers.delete(this.id))}}finally{fu=t}}producerAccessed(){if(fu)throw new Error("");if(null===di)return;let t=di.producers.get(this.id);void 0===t?(t={consumerNode:di.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:di.trackingVersion},di.producers.set(this.id,t),this.consumers.set(di.id,t)):(t.seenValueVersion=this.valueVersion,t.atTrackingVersion=di.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==di?.consumerAllowSignalWrites}producerPollStatus(t){return this.valueVersion!==t||(this.onProducerUpdateValueVersion(),this.valueVersion!==t)}}let C0=null;const w0=()=>{};class IA extends y0{constructor(t,r,n){super(),this.watch=t,this.schedule=r,this.dirty=!1,this.cleanupFn=w0,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=n}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const t=mn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=w0,this.watch(this.registerOnCleanup)}finally{mn(t)}}cleanup(){this.cleanupFn()}}class SA{constructor(t,r,n){this.previousValue=t,this.currentValue=r,this.firstChange=n}isFirstChange(){return this.firstChange}}function Rr(){return _0}function _0(e){return e.type.prototype.ngOnChanges&&(e.setInput=MA),TA}function TA(){const e=x0(this),t=e?.current;if(t){const r=e.previous;if(r===Hn)e.previous=t;else for(let n in t)r[n]=t[n];e.current=null,this.ngOnChanges(t)}}function MA(e,t,r,n){const i=this.declaredInputs[r],o=x0(e)||function NA(e,t){return e[E0]=t}(e,{previous:Hn,current:null}),c=o.current||(o.current={}),f=o.previous,m=f[i];c[i]=new SA(m&&m.currentValue,t,f===Hn),e[n]=t}Rr.ngInherit=!0;const E0="__ngSimpleChanges__";function x0(e){return e[E0]||null}const fi=function(e,t,r){};function It(e){for(;Array.isArray(e);)e=e[zt];return e}function gu(e,t){return It(t[e])}function rr(e,t){return It(t[e.index])}function b0(e,t){return e.data[t]}function js(e,t){return e[t]}function gr(e,t){const r=t[e];return nr(r)?r:r[zt]}function fo(e,t){return null==t?null:e[t]}function I0(e){e[Vs]=0}function kA(e){1024&e[Oe]||(e[Oe]|=1024,T0(e,1))}function S0(e){1024&e[Oe]&&(e[Oe]&=-1025,T0(e,-1))}function T0(e,t){let r=e[Ot];if(null===r)return;r[hl]+=t;let n=r;for(r=r[Ot];null!==r&&(1===t&&1===n[hl]||-1===t&&0===n[hl]);)r[hl]+=t,n=r,r=r[Ot]}const Ie={lFrame:U0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function R0(){return Ie.bindingsEnabled}function Y(){return Ie.lFrame.lView}function Ke(){return Ie.lFrame.tView}function hi(e){return Ie.lFrame.contextLView=e,e[Yt]}function pi(e){return Ie.lFrame.contextLView=null,e}function Dn(){let e=O0();for(;null!==e&&64===e.type;)e=e.parent;return e}function O0(){return Ie.lFrame.currentTNode}function gi(e,t){const r=Ie.lFrame;r.currentTNode=e,r.isParent=t}function ch(){return Ie.lFrame.isParent}function $n(){const e=Ie.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function zs(){return Ie.lFrame.bindingIndex++}function Li(e){const t=Ie.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}function XA(e,t){const r=Ie.lFrame;r.bindingIndex=r.bindingRootIndex=e,dh(t)}function dh(e){Ie.lFrame.currentDirectiveIndex=e}function k0(){return Ie.lFrame.currentQueryIndex}function hh(e){Ie.lFrame.currentQueryIndex=e}function QA(e){const t=e[le];return 2===t.type?t.declTNode:1===t.type?e[Nn]:null}function B0(e,t,r){if(r&ke.SkipSelf){let i=t,o=e;for(;!(i=i.parent,null!==i||r&ke.Host||(i=QA(o),null===i||(o=o[Bs],10&i.type))););if(null===i)return!1;t=i,e=o}const n=Ie.lFrame=V0();return n.currentTNode=t,n.lView=e,!0}function ph(e){const t=V0(),r=e[le];Ie.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function V0(){const e=Ie.lFrame,t=null===e?null:e.child;return null===t?U0(e):t}function U0(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function j0(){const e=Ie.lFrame;return Ie.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const H0=j0;function gh(){const e=j0();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function qn(){return Ie.lFrame.selectedIndex}function Qo(e){Ie.lFrame.selectedIndex=e}function Vt(){const e=Ie.lFrame;return b0(e.tView,e.selectedIndex)}let G0=!0;function mu(){return G0}function ho(e){G0=e}function yu(e,t){for(let r=t.directiveStart,n=t.directiveEnd;r<n;r++){const o=e.data[r].type.prototype,{ngAfterContentInit:c,ngAfterContentChecked:f,ngAfterViewInit:m,ngAfterViewChecked:g,ngOnDestroy:w}=o;c&&(e.contentHooks??=[]).push(-r,c),f&&((e.contentHooks??=[]).push(r,f),(e.contentCheckHooks??=[]).push(r,f)),m&&(e.viewHooks??=[]).push(-r,m),g&&((e.viewHooks??=[]).push(r,g),(e.viewCheckHooks??=[]).push(r,g)),null!=w&&(e.destroyHooks??=[]).push(r,w)}}function Cu(e,t,r){W0(e,t,3,r)}function vu(e,t,r,n){(3&e[Oe])===r&&W0(e,t,r,n)}function mh(e,t){let r=e[Oe];(3&r)===t&&(r&=8191,r+=1,e[Oe]=r)}function W0(e,t,r,n){const o=n??-1,c=t.length-1;let f=0;for(let m=void 0!==n?65535&e[Vs]:0;m<c;m++)if("number"==typeof t[m+1]){if(f=t[m],null!=n&&f>=n)break}else t[m]<0&&(e[Vs]+=65536),(f<o||-1==o)&&(oD(e,r,t,m),e[Vs]=(4294901760&e[Vs])+m+2),m++}function $0(e,t){fi(4,e,t);const r=mn(null);try{t.call(e)}finally{mn(r),fi(5,e,t)}}function oD(e,t,r,n){const i=r[n]<0,o=r[n+1],f=e[i?-r[n]:r[n]];i?e[Oe]>>13<e[Vs]>>16&&(3&e[Oe])===t&&(e[Oe]+=8192,$0(f,o)):$0(f,o)}const Gs=-1;class vl{constructor(t,r,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=n}}function Ch(e){return e!==Gs}function wl(e){return 32767&e}function _l(e,t){let r=function cD(e){return e>>16}(e),n=t;for(;r>0;)n=n[Bs],r--;return n}let vh=!0;function wu(e){const t=vh;return vh=e,t}const q0=255,Y0=5;let uD=0;const mi={};function _u(e,t){const r=X0(e,t);if(-1!==r)return r;const n=t[le];n.firstCreatePass&&(e.injectorIndex=t.length,wh(n.data,e),wh(t,null),wh(n.blueprint,null));const i=Eu(e,t),o=e.injectorIndex;if(Ch(i)){const c=wl(i),f=_l(i,t),m=f[le].data;for(let g=0;g<8;g++)t[o+g]=f[c+g]|m[c+g]}return t[o+8]=i,o}function wh(e,t){e.push(0,0,0,0,0,0,0,0,t)}function X0(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Eu(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,n=null,i=t;for(;null!==i;){if(n=nm(i),null===n)return Gs;if(r++,i=i[Bs],-1!==n.injectorIndex)return n.injectorIndex|r<<16}return Gs}function _h(e,t,r){!function dD(e,t,r){let n;"string"==typeof r?n=r.charCodeAt(0)||0:r.hasOwnProperty(h)&&(n=r[h]),null==n&&(n=r[h]=uD++);const i=n&q0;t.data[e+(i>>Y0)]|=1<<i}(e,t,r)}function Z0(e,t,r){if(r&ke.Optional||void 0!==e)return e;xe()}function Q0(e,t,r,n){if(r&ke.Optional&&void 0===n&&(n=null),!(r&(ke.Self|ke.Host))){const i=e[co],o=Sn(void 0);try{return i?i.get(t,n,r&ke.Optional):al(t,n,r&ke.Optional)}finally{Sn(o)}}return Z0(n,0,r)}function K0(e,t,r,n=ke.Default,i){if(null!==e){if(2048&t[Oe]&&!(n&ke.Self)){const c=function yD(e,t,r,n,i){let o=e,c=t;for(;null!==o&&null!==c&&2048&c[Oe]&&!(512&c[Oe]);){const f=J0(o,c,r,n|ke.Self,mi);if(f!==mi)return f;let m=o.parent;if(!m){const g=c[d0];if(g){const w=g.get(r,mi,n);if(w!==mi)return w}m=nm(c),c=c[Bs]}o=m}return i}(e,t,r,n,mi);if(c!==mi)return c}const o=J0(e,t,r,n,mi);if(o!==mi)return o}return Q0(t,r,n,i)}function J0(e,t,r,n,i){const o=function pD(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(h)?e[h]:void 0;return"number"==typeof t?t>=0?t&q0:mD:t}(r);if("function"==typeof o){if(!B0(t,e,n))return n&ke.Host?Z0(i,0,n):Q0(t,r,n,i);try{let c;if(c=o(n),null!=c||n&ke.Optional)return c;xe()}finally{H0()}}else if("number"==typeof o){let c=null,f=X0(e,t),m=Gs,g=n&ke.Host?t[Xt][Nn]:null;for((-1===f||n&ke.SkipSelf)&&(m=-1===f?Eu(e,t):t[f+8],m!==Gs&&tm(n,!1)?(c=t[le],f=wl(m),t=_l(m,t)):f=-1);-1!==f;){const w=t[le];if(em(o,f,w.data)){const E=hD(f,t,r,c,n,g);if(E!==mi)return E}m=t[f+8],m!==Gs&&tm(n,t[le].data[f+8]===g)&&em(o,f,t)?(c=w,f=wl(m),t=_l(m,t)):f=-1}}return i}function hD(e,t,r,n,i,o){const c=t[le],f=c.data[e+8],w=xu(f,c,r,null==n?Xo(f)&&vh:n!=c&&0!=(3&f.type),i&ke.Host&&o===f);return null!==w?Ko(t,c,w,f):mi}function xu(e,t,r,n,i){const o=e.providerIndexes,c=t.data,f=1048575&o,m=e.directiveStart,w=o>>20,D=i?f+w:e.directiveEnd;for(let I=n?f:f+w;I<D;I++){const P=c[I];if(I<m&&r===P||I>=m&&P.type===r)return I}if(i){const I=c[m];if(I&&$r(I)&&I.type===r)return m}return null}function Ko(e,t,r,n){let i=e[r];const o=t.data;if(function sD(e){return e instanceof vl}(i)){const c=i;c.resolving&&function zf(e,t){const r=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new X(-200,`Circular dependency in DI detected for ${e}${r}`)}(function it(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():De(e)}(o[r]));const f=wu(c.canSeeViewProviders);c.resolving=!0;const g=c.injectImpl?Sn(c.injectImpl):null;B0(e,n,ke.Default);try{i=e[r]=c.factory(void 0,o,e,n),t.firstCreatePass&&r>=n.directiveStart&&function iD(e,t,r){const{ngOnChanges:n,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(n){const c=_0(t);(r.preOrderHooks??=[]).push(e,c),(r.preOrderCheckHooks??=[]).push(e,c)}i&&(r.preOrderHooks??=[]).push(0-e,i),o&&((r.preOrderHooks??=[]).push(e,o),(r.preOrderCheckHooks??=[]).push(e,o))}(r,o[r],t)}finally{null!==g&&Sn(g),wu(f),c.resolving=!1,H0()}}return i}function em(e,t,r){return!!(r[t+(e>>Y0)]&1<<e)}function tm(e,t){return!(e&ke.Self||e&ke.Host&&t)}class Yn{constructor(t,r){this._tNode=t,this._lView=r}get(t,r,n){return K0(this._tNode,this._lView,t,Ps(n),r)}}function mD(){return new Yn(Dn(),Y())}function bn(e){return fr(()=>{const t=e.prototype.constructor,r=t[d]||Eh(t),n=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==n;){const o=i[d]||Eh(i);if(o&&o!==r)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Eh(e){return we(e)?()=>{const t=Eh(ve(e));return t&&t()}:Zo(e)}function nm(e){const t=e[le],r=t.type;return 2===r?t.declTNode:1===r?e[Nn]:null}const $s="__parameters__";function Ys(e,t,r){return fr(()=>{const n=function xh(e){return function(...r){if(e){const n=e(...r);for(const i in n)this[i]=n[i]}}}(t);function i(...o){if(this instanceof i)return n.apply(this,o),this;const c=new i(...o);return f.annotation=c,f;function f(m,g,w){const E=m.hasOwnProperty($s)?m[$s]:Object.defineProperty(m,$s,{value:[]})[$s];for(;E.length<=w;)E.push(null);return(E[w]=E[w]||[]).push(c),m}}return r&&(i.prototype=Object.create(r.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function Zs(e,t){e.forEach(r=>Array.isArray(r)?Zs(r,t):t(r))}function im(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function Du(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function mr(e,t,r){let n=Qs(e,t);return n>=0?e[1|n]=r:(n=~n,function AD(e,t,r,n){let i=e.length;if(i==t)e.push(r,n);else if(1===i)e.push(n,e[0]),e[0]=r;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=r,e[t+1]=n}}(e,n,t,r)),n}function Ah(e,t){const r=Qs(e,t);if(r>=0)return e[1|r]}function Qs(e,t){return function om(e,t,r){let n=0,i=e.length>>r;for(;i!==n;){const o=n+(i-n>>1),c=e[o<<r];if(t===c)return o<<r;c>t?i=o:n=o+1}return~(i<<r)}(e,t,1)}const Iu=Yo(Ys("Optional"),8),Su=Yo(Ys("SkipSelf"),4);function Ou(e){return 128==(128&e.flags)}var po=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(po||{});const Th=new Map;let YD=0;const Nh="__ngContext__";function Rn(e,t){nr(t)?(e[Nh]=t[ml],function ZD(e){Th.set(e[ml],e)}(t)):e[Nh]=t}let Rh;function Oh(e,t){return Rh(e,t)}function Il(e){const t=e[Ot];return Wn(t)?t[Ot]:t}function Dm(e){return Im(e[pl])}function bm(e){return Im(e[Wr])}function Im(e){for(;null!==e&&!Wn(e);)e=e[Wr];return e}function ea(e,t,r,n,i){if(null!=n){let o,c=!1;Wn(n)?o=n:nr(n)&&(c=!0,n=n[zt]);const f=It(n);0===e&&null!==r?null==i?Nm(t,r,f):Jo(t,r,f,i||null,!0):1===e&&null!==r?Jo(t,r,f,i||null,!0):2===e?function Uu(e,t,r){const n=Bu(e,t);n&&function gb(e,t,r,n){e.removeChild(t,r,n)}(e,n,t,r)}(t,f,c):3===e&&t.destroyNode(f),null!=o&&function Cb(e,t,r,n,i){const o=r[ui];o!==It(r)&&ea(t,e,n,o,i);for(let f=An;f<r.length;f++){const m=r[f];Tl(m[le],m,e,t,n,o)}}(t,e,o,r,i)}}function Lu(e,t,r){return e.createElement(t,r)}function Tm(e,t){const r=e[Us],n=r.indexOf(t);S0(t),r.splice(n,1)}function ku(e,t){if(e.length<=An)return;const r=An+t,n=e[r];if(n){const i=n[gl];null!==i&&i!==e&&Tm(i,n),t>0&&(e[r-1][Wr]=n[Wr]);const o=Du(e,An+t);!function ab(e,t){Tl(e,t,t[Ne],2,null,null),t[zt]=null,t[Nn]=null}(n[le],n);const c=o[ci];null!==c&&c.detachView(o[le]),n[Ot]=null,n[Wr]=null,n[Oe]&=-129}return n}function Fh(e,t){if(!(256&t[Oe])){const r=t[Ne];t[lu]?.destroy(),t[cu]?.destroy(),r.destroyNode&&Tl(e,t,r,3,null,null),function ub(e){let t=e[pl];if(!t)return Lh(e[le],e);for(;t;){let r=null;if(nr(t))r=t[pl];else{const n=t[An];n&&(r=n)}if(!r){for(;t&&!t[Wr]&&t!==e;)nr(t)&&Lh(t[le],t),t=t[Ot];null===t&&(t=e),nr(t)&&Lh(t[le],t),r=t&&t[Wr]}t=r}}(t)}}function Lh(e,t){if(!(256&t[Oe])){t[Oe]&=-129,t[Oe]|=256,function pb(e,t){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let n=0;n<r.length;n+=2){const i=t[r[n]];if(!(i instanceof vl)){const o=r[n+1];if(Array.isArray(o))for(let c=0;c<o.length;c+=2){const f=i[o[c]],m=o[c+1];fi(4,f,m);try{m.call(f)}finally{fi(5,f,m)}}else{fi(4,i,o);try{o.call(i)}finally{fi(5,i,o)}}}}}(e,t),function hb(e,t){const r=e.cleanup,n=t[Ls];if(null!==r)for(let o=0;o<r.length-1;o+=2)if("string"==typeof r[o]){const c=r[o+3];c>=0?n[c]():n[-c].unsubscribe(),o+=2}else r[o].call(n[r[o+1]]);null!==n&&(t[Ls]=null);const i=t[uo];if(null!==i){t[uo]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(e,t),1===t[le].type&&t[Ne].destroy();const r=t[gl];if(null!==r&&Wn(t[Ot])){r!==t[Ot]&&Tm(r,t);const n=t[ci];null!==n&&n.detachView(e)}!function QD(e){Th.delete(e[ml])}(t)}}function kh(e,t,r){return function Mm(e,t,r){let n=t;for(;null!==n&&40&n.type;)n=(t=n).parent;if(null===n)return r[zt];{const{componentOffset:i}=n;if(i>-1){const{encapsulation:o}=e.data[n.directiveStart+i];if(o===Me.None||o===Me.Emulated)return null}return rr(n,r)}}(e,t.parent,r)}function Jo(e,t,r,n,i){e.insertBefore(t,r,n,i)}function Nm(e,t,r){e.appendChild(t,r)}function Rm(e,t,r,n,i){null!==n?Jo(e,t,r,n,i):Nm(e,t,r)}function Bu(e,t){return e.parentNode(t)}let Bh,Hh,Hu,Fm=function Pm(e,t,r){return 40&e.type?rr(e,r):null};function Vu(e,t,r,n){const i=kh(e,n,t),o=t[Ne],f=function Om(e,t,r){return Fm(e,t,r)}(n.parent||t[Nn],n,t);if(null!=i)if(Array.isArray(r))for(let m=0;m<r.length;m++)Rm(o,i,r[m],f,!1);else Rm(o,i,r,f,!1);void 0!==Bh&&Bh(o,n,t,r,i)}function Sl(e,t){if(null!==t){const r=t.type;if(3&r)return rr(t,e);if(4&r)return Vh(-1,e[t.index]);if(8&r){const n=t.child;if(null!==n)return Sl(e,n);{const i=e[t.index];return Wn(i)?Vh(-1,i):It(i)}}if(32&r)return Oh(t,e)()||It(e[t.index]);{const n=km(e,t);return null!==n?Array.isArray(n)?n[0]:Sl(Il(e[Xt]),n):Sl(e,t.next)}}return null}function km(e,t){return null!==t?e[Xt][Nn].projection[t.projection]:null}function Vh(e,t){const r=An+e+1;if(r<t.length){const n=t[r],i=n[le].firstChild;if(null!==i)return Sl(n,i)}return t[ui]}function Uh(e,t,r,n,i,o,c){for(;null!=r;){const f=n[r.index],m=r.type;if(c&&0===t&&(f&&Rn(It(f),n),r.flags|=2),32!=(32&r.flags))if(8&m)Uh(e,t,r.child,n,i,o,!1),ea(t,e,i,f,o);else if(32&m){const g=Oh(r,n);let w;for(;w=g();)ea(t,e,i,w,o);ea(t,e,i,f,o)}else 16&m?Vm(e,t,n,r,i,o):ea(t,e,i,f,o);r=c?r.projectionNext:r.next}}function Tl(e,t,r,n,i,o){Uh(r,n,e.firstChild,t,i,o,!1)}function Vm(e,t,r,n,i,o){const c=r[Xt],m=c[Nn].projection[n.projection];if(Array.isArray(m))for(let g=0;g<m.length;g++)ea(t,e,i,m[g],o);else{let g=m;const w=c[Ot];Ou(n)&&(g.flags|=128),Uh(e,t,g,w,i,o,!0)}}function Um(e,t,r){""===r?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r)}function jm(e,t,r){const{mergedAttrs:n,classes:i,styles:o}=r;null!==n&&C(e,t,n),null!==i&&Um(e,t,i),null!==o&&function wb(e,t,r){e.setAttribute(t,"style",r)}(e,t,o)}function Gm(e){return function zh(){if(void 0===Hu&&(Hu=null,at.trustedTypes))try{Hu=at.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Hu}()?.createScriptURL(e)||e}class Wm{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Jc})`}}function go(e){return e instanceof Wm?e.changingThisBreaksApplicationSecurity:e}function Ml(e,t){const r=function Mb(e){return e instanceof Wm&&e.getTypeName()||null}(e);if(null!=r&&r!==t){if("ResourceURL"===r&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${r} (see ${Jc})`)}return r===t}const Pb=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var ra=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(ra||{});function Bi(e){const t=Rl();return t?t.sanitize(ra.URL,e)||"":Ml(e,"URL")?go(e):function Gh(e){return(e=String(e)).match(Pb)?e:"unsafe:"+e}(De(e))}function Km(e){const t=Rl();if(t)return Gm(t.sanitize(ra.RESOURCE_URL,e)||"");if(Ml(e,"ResourceURL"))return Gm(go(e));throw new X(904,!1)}function Rl(){const e=Y();return e&&e[ks].sanitizer}class de{constructor(t,r){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=me({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ol=new de("ENVIRONMENT_INITIALIZER"),ey=new de("INJECTOR",-1),ty=new de("INJECTOR_DEF_TYPES");class Yh{get(t,r=Oi){if(r===Oi){const n=new Error(`NullInjectorError: No provider for ${We(t)}!`);throw n.name="NullInjectorError",n}return r}}function qb(...e){return{\u0275providers:ny(0,e),\u0275fromNgModule:!0}}function ny(e,...t){const r=[],n=new Set;let i;const o=c=>{r.push(c)};return Zs(t,c=>{const f=c;Gu(f,o,[],n)&&(i||=[],i.push(f))}),void 0!==i&&ry(i,o),r}function ry(e,t){for(let r=0;r<e.length;r++){const{ngModule:n,providers:i}=e[r];Zh(i,o=>{t(o,n)})}}function Gu(e,t,r,n){if(!(e=ve(e)))return!1;let i=null,o=Ns(e);const c=!o&&Qe(e);if(o||c){if(c&&!c.standalone)return!1;i=e}else{const m=e.ngModule;if(o=Ns(m),!o)return!1;i=m}const f=n.has(i);if(c){if(f)return!1;if(n.add(i),c.dependencies){const m="function"==typeof c.dependencies?c.dependencies():c.dependencies;for(const g of m)Gu(g,t,r,n)}}else{if(!o)return!1;{if(null!=o.imports&&!f){let g;n.add(i);try{Zs(o.imports,w=>{Gu(w,t,r,n)&&(g||=[],g.push(w))})}finally{}void 0!==g&&ry(g,t)}if(!f){const g=Zo(i)||(()=>new i);t({provide:i,useFactory:g,deps:v},i),t({provide:ty,useValue:i,multi:!0},i),t({provide:Ol,useValue:()=>se(i),multi:!0},i)}const m=o.providers;if(null!=m&&!f){const g=e;Zh(m,w=>{t(w,g)})}}}return i!==e&&void 0!==e.providers}function Zh(e,t){for(let r of e)bs(r)&&(r=r.\u0275providers),Array.isArray(r)?Zh(r,t):t(r)}const Yb=b({provide:String,useValue:b});function Qh(e){return null!==e&&"object"==typeof e&&Yb in e}function es(e){return"function"==typeof e}const Kh=new de("Set Injector scope."),Wu={},Zb={};let Jh;function $u(){return void 0===Jh&&(Jh=new Yh),Jh}class yr{}class qu extends yr{get destroyed(){return this._destroyed}constructor(t,r,n,i){super(),this.parent=r,this.source=n,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,tp(t,c=>this.processProvider(c)),this.records.set(ey,ia(void 0,this)),i.has("environment")&&this.records.set(yr,ia(void 0,this));const o=this.records.get(Kh);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(ty.multi,v,ke.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const r=En(this),n=Sn(void 0);try{return t()}finally{En(r),Sn(n)}}get(t,r=Oi,n=ke.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(p))return t[p](this);n=Ps(n);const o=En(this),c=Sn(void 0);try{if(!(n&ke.SkipSelf)){let m=this.records.get(t);if(void 0===m){const g=function tI(e){return"function"==typeof e||"object"==typeof e&&e instanceof de}(t)&&ot(t);m=g&&this.injectableDefInScope(g)?ia(ep(t),Wu):null,this.records.set(t,m)}if(null!=m)return this.hydrate(t,m)}return(n&ke.Self?$u():this.parent).get(t,r=n&ke.Optional&&r===Oi?null:r)}catch(f){if("NullInjectorError"===f.name){if((f[$o]=f[$o]||[]).unshift(We(t)),o)throw f;return function Mr(e,t,r,n){const i=e[$o];throw t[ou]&&i.unshift(t[ou]),e.message=function Qf(e,t,r,n=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=We(t);if(Array.isArray(t))i=t.map(We).join(" -> ");else if("object"==typeof t){let o=[];for(let c in t)if(t.hasOwnProperty(c)){let f=t[c];o.push(c+":"+("string"==typeof f?JSON.stringify(f):We(f)))}i=`{${o.join(", ")}}`}return`${r}${n?"("+n+")":""}[${i}]: ${e.replace(ao,"\n  ")}`}("\n"+e.message,i,r,n),e.ngTokenPath=i,e[$o]=null,e}(f,t,"R3InjectorError",this.source)}throw f}finally{Sn(c),En(o)}}resolveInjectorInitializers(){const t=En(this),r=Sn(void 0);try{const i=this.get(Ol.multi,v,ke.Self);for(const o of i)o()}finally{En(t),Sn(r)}}toString(){const t=[],r=this.records;for(const n of r.keys())t.push(We(n));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new X(205,!1)}processProvider(t){let r=es(t=ve(t))?t:ve(t&&t.provide);const n=function Kb(e){return Qh(e)?ia(void 0,e.useValue):ia(sy(e),Wu)}(t);if(es(t)||!0!==t.multi)this.records.get(r);else{let i=this.records.get(r);i||(i=ia(void 0,Wu,!0),i.factory=()=>qo(i.multi),this.records.set(r,i)),r=t,i.multi.push(t)}this.records.set(r,n)}hydrate(t,r){return r.value===Wu&&(r.value=Zb,r.value=r.factory()),"object"==typeof r.value&&r.value&&function eI(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}injectableDefInScope(t){if(!t.providedIn)return!1;const r=ve(t.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(t){const r=this._onDestroyHooks.indexOf(t);-1!==r&&this._onDestroyHooks.splice(r,1)}}function ep(e){const t=ot(e),r=null!==t?t.factory:Zo(e);if(null!==r)return r;if(e instanceof de)throw new X(204,!1);if(e instanceof Function)return function Qb(e){const t=e.length;if(t>0)throw function Al(e,t){const r=[];for(let n=0;n<e;n++)r.push(t);return r}(t,"?"),new X(204,!1);const r=function ai(e){return e&&(e[j]||e[nn])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new X(204,!1)}function sy(e,t,r){let n;if(es(e)){const i=ve(e);return Zo(i)||ep(i)}if(Qh(e))n=()=>ve(e.useValue);else if(function oy(e){return!(!e||!e.useFactory)}(e))n=()=>e.useFactory(...qo(e.deps||[]));else if(function iy(e){return!(!e||!e.useExisting)}(e))n=()=>se(ve(e.useExisting));else{const i=ve(e&&(e.useClass||e.provide));if(!function Jb(e){return!!e.deps}(e))return Zo(i)||ep(i);n=()=>new i(...qo(e.deps))}return n}function ia(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function tp(e,t){for(const r of e)Array.isArray(r)?tp(r,t):r&&bs(r)?tp(r.\u0275providers,t):t(r)}const Yu=new de("AppId",{providedIn:"root",factory:()=>nI}),nI="ng",ay=new de("Platform Initializer"),ts=new de("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ly=new de("CSP nonce",{providedIn:"root",factory:()=>function na(){if(void 0!==Hh)return Hh;if(typeof document<"u")return document;throw new X(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let cy=(e,t,r)=>null;function cp(e,t,r=!1){return cy(e,t,r)}class fI{}class fy{}class pI{resolveComponentFactory(t){throw function hI(e){const t=Error(`No component factory found for ${We(e)}.`);return t.ngComponent=e,t}(t)}}let ed=(()=>{class t{}return t.NULL=new pI,t})();function gI(){return aa(Dn(),Y())}function aa(e,t){return new Cr(rr(e,t))}let Cr=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=gI,t})();function mI(e){return e instanceof Cr?e.nativeElement:e}class py{}let Vi=(()=>{class t{constructor(){this.destroyNode=null}}return t.__NG_ELEMENT_ID__=()=>function yI(){const e=Y(),r=gr(Dn().index,e);return(nr(r)?r:e)[Ne]}(),t})(),CI=(()=>{var e;class t{}return(e=t).\u0275prov=me({token:e,providedIn:"root",factory:()=>null}),t})();class Ll{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const vI=new Ll("16.2.3"),fp={};function Cy(e,t=null,r=null,n){const i=vy(e,t,r,n);return i.resolveInjectorInitializers(),i}function vy(e,t=null,r=null,n,i=new Set){const o=[r||v,qb(e)];return n=n||("object"==typeof e?void 0:We(e)),new qu(o,t||$u(),n||null,i)}let vr=(()=>{var e;class t{static create(n,i){if(Array.isArray(n))return Cy({name:""},i,n,"");{const o=n.name??"";return Cy({name:o},n.parent,n.providers,o)}}}return(e=t).THROW_IF_NOT_FOUND=Oi,e.NULL=new Yh,e.\u0275prov=me({token:e,providedIn:"any",factory:()=>se(ey)}),e.__NG_ELEMENT_ID__=-1,t})();function gp(e){return t=>{setTimeout(e,void 0,t)}}const Gt=class bI extends At{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,r,n){let i=t,o=r||(()=>null),c=n;if(t&&"object"==typeof t){const m=t;i=m.next?.bind(m),o=m.error?.bind(m),c=m.complete?.bind(m)}this.__isAsync&&(o=gp(o),i&&(i=gp(i)),c&&(c=gp(c)));const f=super.subscribe({next:i,error:o,complete:c});return t instanceof kn&&t.add(f),f}};function wy(...e){}class St{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Gt(!1),this.onMicrotaskEmpty=new Gt(!1),this.onStable=new Gt(!1),this.onError=new Gt(!1),typeof Zone>"u")throw new X(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!n&&r,i.shouldCoalesceRunChangeDetection=n,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function II(){const e="function"==typeof at.requestAnimationFrame;let t=at[e?"requestAnimationFrame":"setTimeout"],r=at[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&r){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const i=r[Zone.__symbol__("OriginalDelegate")];i&&(r=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function MI(e){const t=()=>{!function TI(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(at,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,yp(e),e.isCheckStableRunning=!0,mp(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),yp(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(r,n,i,o,c,f)=>{try{return _y(e),r.invokeTask(i,o,c,f)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),Ey(e)}},onInvoke:(r,n,i,o,c,f,m)=>{try{return _y(e),r.invoke(i,o,c,f,m)}finally{e.shouldCoalesceRunChangeDetection&&t(),Ey(e)}},onHasTask:(r,n,i,o)=>{r.hasTask(i,o),n===i&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,yp(e),mp(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,n,i,o)=>(r.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!St.isInAngularZone())throw new X(909,!1)}static assertNotInAngularZone(){if(St.isInAngularZone())throw new X(909,!1)}run(t,r,n){return this._inner.run(t,r,n)}runTask(t,r,n,i){const o=this._inner,c=o.scheduleEventTask("NgZoneEvent: "+i,t,SI,wy,wy);try{return o.runTask(c,r,n)}finally{o.cancelTask(c)}}runGuarded(t,r,n){return this._inner.runGuarded(t,r,n)}runOutsideAngular(t){return this._outer.run(t)}}const SI={};function mp(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function yp(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function _y(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Ey(e){e._nesting--,mp(e)}class NI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Gt,this.onMicrotaskEmpty=new Gt,this.onStable=new Gt,this.onError=new Gt}run(t,r,n){return t.apply(r,n)}runGuarded(t,r,n){return t.apply(r,n)}runOutsideAngular(t){return t()}runTask(t,r,n,i){return t.apply(r,n)}}const xy=new de("",{providedIn:"root",factory:Ay});function Ay(){const e=ie(St);let t=!0;return function Uf(...e){const t=zo(e),r=function Rt(e,t){return"number"==typeof Ho(e)?e.pop():t}(e,1/0),n=e;return n.length?1===n.length?en(n[0]):io(r)(Et(n,t)):Sr}(new dt(i=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{i.next(t),i.complete()})}),new dt(i=>{let o;e.runOutsideAngular(()=>{o=e.onStable.subscribe(()=>{St.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,i.next(!0))})})});const c=e.onUnstable.subscribe(()=>{St.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),c.unsubscribe()}}).pipe(Kc()))}function Ui(e){return e instanceof Function?e():e}let Cp=(()=>{var e;class t{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new X(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const n of this.callbacks)n.invoke()}finally{this.runningCallbacks=!1;for(const n of this.deferredCallbacks)this.callbacks.add(n);this.deferredCallbacks.clear()}}register(n){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(n)}unregister(n){this.callbacks.delete(n),this.deferredCallbacks.delete(n)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(e=t).\u0275prov=me({token:e,providedIn:"root",factory:()=>new e}),t})();function kl(e){for(;e;){e[Oe]|=64;const t=Il(e);if(nh(e)&&!t)return e;e=t}return null}function vp(e){return e.ngOriginalError}class ns{constructor(){this._console=console}handleError(t){const r=this._findOriginalError(t);this._console.error("ERROR",t),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(t){let r=t&&vp(t);for(;r&&vp(r);)r=vp(r);return r||null}}const Ty=new de("",{providedIn:"root",factory:()=>!1});class Oy extends y0{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(t){this._lView=t}onConsumerDependencyMayHaveChanged(){kl(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(t,r,n){const i=mn(this);this.trackingVersion++;try{t(r,n)}finally{mn(i)}}destroy(){this.trackingVersion++}}let nd=null;function Py(){return nd??=new Oy,nd}function Fy(e,t){return e[t]??Py()}function Ly(e,t){const r=Py();r.hasReadASignal&&(e[t]=nd,r.lView=e,nd=new Oy)}const Pe={};function $(e){ky(Ke(),Y(),qn()+e,!1)}function ky(e,t,r,n){if(!n)if(3==(3&t[Oe])){const o=e.preOrderCheckHooks;null!==o&&Cu(t,o,r)}else{const o=e.preOrderHooks;null!==o&&vu(t,o,0,r)}Qo(r)}function z(e,t=ke.Default){const r=Y();return null===r?se(e,t):K0(Dn(),r,ve(e),t)}function rd(e,t,r,n,i,o,c,f,m,g,w){const E=t.blueprint.slice();return E[zt]=i,E[Oe]=140|n,(null!==g||e&&2048&e[Oe])&&(E[Oe]|=2048),I0(E),E[Ot]=E[Bs]=e,E[Yt]=r,E[ks]=c||e&&e[ks],E[Ne]=f||e&&e[Ne],E[co]=m||e&&e[co]||null,E[Nn]=o,E[ml]=function XD(){return YD++}(),E[Pi]=w,E[d0]=g,E[Xt]=2==t.type?e[Xt]:E,E}function ua(e,t,r,n,i){let o=e.data[t];if(null===o)o=function wp(e,t,r,n,i){const o=O0(),c=ch(),m=e.data[t]=function YI(e,t,r,n,i,o){let c=t?t.injectorIndex:-1,f=0;return function Hs(){return null!==Ie.skipHydrationRootTNode}()&&(f|=128),{type:r,index:n,insertBeforeIndex:null,injectorIndex:c,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:f,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,c?o:o&&o.parent,r,t,n,i);return null===e.firstChild&&(e.firstChild=m),null!==o&&(c?null==o.child&&null!==m.parent&&(o.child=m):null===o.next&&(o.next=m,m.prev=o)),m}(e,t,r,n,i),function YA(){return Ie.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=r,o.value=n,o.attrs=i;const c=function Cl(){const e=Ie.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===c?-1:c.injectorIndex}return gi(o,!0),o}function Bl(e,t,r,n){if(0===r)return-1;const i=t.length;for(let o=0;o<r;o++)t.push(n),e.blueprint.push(n),e.data.push(null);return i}function Vy(e,t,r,n,i){const o=Fy(t,lu),c=qn(),f=2&n;try{if(Qo(-1),f&&t.length>$e&&ky(e,t,$e,!1),fi(f?2:0,i),f)o.runInContext(r,n,i);else{const g=mn(null);try{r(n,i)}finally{mn(g)}}}finally{f&&null===t[lu]&&Ly(t,lu),Qo(c),fi(f?3:1,i)}}function _p(e,t,r){if(th(t)){const n=mn(null);try{const o=t.directiveEnd;for(let c=t.directiveStart;c<o;c++){const f=e.data[c];f.contentQueries&&f.contentQueries(1,r[c],c)}}finally{mn(n)}}}function Ep(e,t,r){R0()&&(function tS(e,t,r,n){const i=r.directiveStart,o=r.directiveEnd;Xo(r)&&function lS(e,t,r){const n=rr(t,e),i=Uy(r);let c=16;r.signals?c=4096:r.onPush&&(c=64);const f=id(e,rd(e,i,null,c,n,t,null,e[ks].rendererFactory.createRenderer(n,r),null,null,null));e[t.index]=f}(t,r,e.data[i+r.componentOffset]),e.firstCreatePass||_u(r,t),Rn(n,t);const c=r.initialInputs;for(let f=i;f<o;f++){const m=e.data[f],g=Ko(t,e,f,r);Rn(g,t),null!==c&&cS(0,f-i,g,m,0,c),$r(m)&&(gr(r.index,t)[Yt]=Ko(t,e,f,r))}}(e,t,r,rr(r,t)),64==(64&r.flags)&&Wy(e,t,r))}function xp(e,t,r=rr){const n=t.localNames;if(null!==n){let i=t.index+1;for(let o=0;o<n.length;o+=2){const c=n[o+1],f=-1===c?r(t,e):e[c];e[i++]=f}}}function Uy(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Ap(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Ap(e,t,r,n,i,o,c,f,m,g,w){const E=$e+n,D=E+i,I=function HI(e,t){const r=[];for(let n=0;n<t;n++)r.push(n<e?null:Pe);return r}(E,D),P="function"==typeof g?g():g;return I[le]={type:e,blueprint:I,template:r,queries:null,viewQuery:f,declTNode:t,data:I.slice().fill(null,E),bindingStartIndex:E,expandoStartIndex:D,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof c?c():c,firstChild:null,schemas:m,consts:P,incompleteFirstPass:!1,ssrId:w}}let jy=e=>null;function Hy(e,t,r,n){for(let i in e)if(e.hasOwnProperty(i)){r=null===r?{}:r;const o=e[i];null===n?zy(r,t,i,o):n.hasOwnProperty(i)&&zy(r,t,n[i],o)}return r}function zy(e,t,r,n){e.hasOwnProperty(r)?e[r].push(t,n):e[r]=[t,n]}function wr(e,t,r,n,i,o,c,f){const m=rr(t,r);let w,g=t.inputs;!f&&null!=g&&(w=g[n])?(Tp(e,r,w,n,i),Xo(t)&&function QI(e,t){const r=gr(t,e);16&r[Oe]||(r[Oe]|=64)}(r,t.index)):3&t.type&&(n=function ZI(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(n),i=null!=c?c(i,t.value||"",n):i,o.setProperty(m,n,i))}function Dp(e,t,r,n){if(R0()){const i=null===n?null:{"":-1},o=function rS(e,t){const r=e.directiveRegistry;let n=null,i=null;if(r)for(let o=0;o<r.length;o++){const c=r[o];if(Ue(t,c.selectors,!1))if(n||(n=[]),$r(c))if(null!==c.findHostDirectiveDefs){const f=[];i=i||new Map,c.findHostDirectiveDefs(c,f,i),n.unshift(...f,c),bp(e,t,f.length)}else n.unshift(c),bp(e,t,0);else i=i||new Map,c.findHostDirectiveDefs?.(c,n,i),n.push(c)}return null===n?null:[n,i]}(e,r);let c,f;null===o?c=f=null:[c,f]=o,null!==c&&Gy(e,t,r,c,i,f),i&&function iS(e,t,r){if(t){const n=e.localNames=[];for(let i=0;i<t.length;i+=2){const o=r[t[i+1]];if(null==o)throw new X(-301,!1);n.push(t[i],o)}}}(r,n,i)}r.mergedAttrs=A(r.mergedAttrs,r.attrs)}function Gy(e,t,r,n,i,o){for(let g=0;g<n.length;g++)_h(_u(r,t),e,n[g].type);!function sS(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}(r,e.data.length,n.length);for(let g=0;g<n.length;g++){const w=n[g];w.providersResolver&&w.providersResolver(w)}let c=!1,f=!1,m=Bl(e,t,n.length,null);for(let g=0;g<n.length;g++){const w=n[g];r.mergedAttrs=A(r.mergedAttrs,w.hostAttrs),aS(e,r,t,m,w),oS(m,w,i),null!==w.contentQueries&&(r.flags|=4),(null!==w.hostBindings||null!==w.hostAttrs||0!==w.hostVars)&&(r.flags|=64);const E=w.type.prototype;!c&&(E.ngOnChanges||E.ngOnInit||E.ngDoCheck)&&((e.preOrderHooks??=[]).push(r.index),c=!0),!f&&(E.ngOnChanges||E.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(r.index),f=!0),m++}!function XI(e,t,r){const i=t.directiveEnd,o=e.data,c=t.attrs,f=[];let m=null,g=null;for(let w=t.directiveStart;w<i;w++){const E=o[w],D=r?r.get(E):null,P=D?D.outputs:null;m=Hy(E.inputs,w,m,D?D.inputs:null),g=Hy(E.outputs,w,g,P);const F=null===m||null===c||L(t)?null:uS(m,w,c);f.push(F)}null!==m&&(m.hasOwnProperty("class")&&(t.flags|=8),m.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=f,t.inputs=m,t.outputs=g}(e,r,o)}function Wy(e,t,r){const n=r.directiveStart,i=r.directiveEnd,o=r.index,c=function ZA(){return Ie.lFrame.currentDirectiveIndex}();try{Qo(o);for(let f=n;f<i;f++){const m=e.data[f],g=t[f];dh(f),(null!==m.hostBindings||0!==m.hostVars||null!==m.hostAttrs)&&nS(m,g)}}finally{Qo(-1),dh(c)}}function nS(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function bp(e,t,r){t.componentOffset=r,(e.components??=[]).push(t.index)}function oS(e,t,r){if(r){if(t.exportAs)for(let n=0;n<t.exportAs.length;n++)r[t.exportAs[n]]=e;$r(t)&&(r[""]=e)}}function aS(e,t,r,n,i){e.data[n]=i;const o=i.factory||(i.factory=Zo(i.type)),c=new vl(o,$r(i),z);e.blueprint[n]=c,r[n]=c,function JI(e,t,r,n,i){const o=i.hostBindings;if(o){let c=e.hostBindingOpCodes;null===c&&(c=e.hostBindingOpCodes=[]);const f=~t.index;(function eS(e){let t=e.length;for(;t>0;){const r=e[--t];if("number"==typeof r&&r<0)return r}return 0})(c)!=f&&c.push(f),c.push(r,n,o)}}(e,t,n,Bl(e,r,i.hostVars,Pe),i)}function yi(e,t,r,n,i,o){const c=rr(e,t);!function Ip(e,t,r,n,i,o,c){if(null==o)e.removeAttribute(t,i,r);else{const f=null==c?De(o):c(o,n||"",i);e.setAttribute(t,i,f,r)}}(t[Ne],c,o,e.value,r,n,i)}function cS(e,t,r,n,i,o){const c=o[t];if(null!==c)for(let f=0;f<c.length;)$y(n,r,c[f++],c[f++],c[f++])}function $y(e,t,r,n,i){const o=mn(null);try{const c=e.inputTransforms;null!==c&&c.hasOwnProperty(n)&&(i=c[n].call(t,i)),null!==e.setInput?e.setInput(t,i,r,n):t[n]=i}finally{mn(o)}}function uS(e,t,r){let n=null,i=0;for(;i<r.length;){const o=r[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(e.hasOwnProperty(o)){null===n&&(n=[]);const c=e[o];for(let f=0;f<c.length;f+=2)if(c[f]===t){n.push(o,c[f+1],r[i+1]);break}}i+=2}else i+=2;else i+=4}return n}function qy(e,t,r,n){return[e,!0,!1,t,null,0,n,r,null,null,null]}function Yy(e,t){const r=e.contentQueries;if(null!==r)for(let n=0;n<r.length;n+=2){const o=r[n+1];if(-1!==o){const c=e.data[o];hh(r[n]),c.contentQueries(2,t[o],o)}}}function id(e,t){return e[pl]?e[u0][Wr]=t:e[pl]=t,e[u0]=t,t}function Sp(e,t,r){hh(0);const n=mn(null);try{t(e,r)}finally{mn(n)}}function Xy(e){return e[Ls]||(e[Ls]=[])}function Zy(e){return e.cleanup||(e.cleanup=[])}function Ky(e,t){const r=e[co],n=r?r.get(ns,null):null;n&&n.handleError(t)}function Tp(e,t,r,n,i){for(let o=0;o<r.length;){const c=r[o++],f=r[o++];$y(e.data[c],t[c],n,f,i)}}function ji(e,t,r){const n=gu(t,e);!function Sm(e,t,r){e.setValue(t,r)}(e[Ne],n,r)}function dS(e,t){const r=gr(t,e),n=r[le];!function fS(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])}(n,r);const i=r[zt];null!==i&&null===r[Pi]&&(r[Pi]=cp(i,r[co])),Mp(n,r,r[Yt])}function Mp(e,t,r){ph(t);try{const n=e.viewQuery;null!==n&&Sp(1,n,r);const i=e.template;null!==i&&Vy(e,t,i,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Yy(e,t),e.staticViewQueries&&Sp(2,e.viewQuery,r);const o=e.components;null!==o&&function hS(e,t){for(let r=0;r<t.length;r++)dS(e,t[r])}(t,o)}catch(n){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),n}finally{t[Oe]&=-5,gh()}}let Jy=(()=>{var e;class t{constructor(){this.all=new Set,this.queue=new Map}create(n,i,o){const c=typeof Zone>"u"?null:Zone.current,f=new IA(n,w=>{this.all.has(w)&&this.queue.set(w,c)},o);let m;this.all.add(f),f.notify();const g=()=>{f.cleanup(),m?.(),this.all.delete(f),this.queue.delete(f)};return m=i?.onDestroy(g),{destroy:g}}flush(){if(0!==this.queue.size)for(const[n,i]of this.queue)this.queue.delete(n),i?i.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}}return(e=t).\u0275prov=me({token:e,providedIn:"root",factory:()=>new e}),t})();function od(e,t,r){let n=r?e.styles:null,i=r?e.classes:null,o=0;if(null!==t)for(let c=0;c<t.length;c++){const f=t[c];"number"==typeof f?o=f:1==o?i=In(i,f):2==o&&(n=In(n,f+": "+t[++c]+";"))}r?e.styles=n:e.stylesWithoutHost=n,r?e.classes=i:e.classesWithoutHost=i}function Vl(e,t,r,n,i=!1){for(;null!==r;){const o=t[r.index];null!==o&&n.push(It(o)),Wn(o)&&eC(o,n);const c=r.type;if(8&c)Vl(e,t,r.child,n);else if(32&c){const f=Oh(r,t);let m;for(;m=f();)n.push(m)}else if(16&c){const f=km(t,r);if(Array.isArray(f))n.push(...f);else{const m=Il(t[Xt]);Vl(m[le],m,f,n,!0)}}r=i?r.projectionNext:r.next}return n}function eC(e,t){for(let r=An;r<e.length;r++){const n=e[r],i=n[le].firstChild;null!==i&&Vl(n[le],n,i,t)}e[ui]!==e[zt]&&t.push(e[ui])}function sd(e,t,r,n=!0){const i=t[ks],o=i.rendererFactory,c=i.afterRenderEventManager;o.begin?.(),c?.begin();try{tC(e,t,e.template,r)}catch(m){throw n&&Ky(t,m),m}finally{o.end?.(),i.effectManager?.flush(),c?.end()}}function tC(e,t,r,n){const i=t[Oe];if(256!=(256&i)){t[ks].effectManager?.flush(),ph(t);try{I0(t),function F0(e){return Ie.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&Vy(e,t,r,2,n);const c=3==(3&i);if(c){const g=e.preOrderCheckHooks;null!==g&&Cu(t,g,null)}else{const g=e.preOrderHooks;null!==g&&vu(t,g,0,null),mh(t,0)}if(function mS(e){for(let t=Dm(e);null!==t;t=bm(t)){if(!t[f0])continue;const r=t[Us];for(let n=0;n<r.length;n++){kA(r[n])}}}(t),nC(t,2),null!==e.contentQueries&&Yy(e,t),c){const g=e.contentCheckHooks;null!==g&&Cu(t,g)}else{const g=e.contentHooks;null!==g&&vu(t,g,1),mh(t,1)}!function jI(e,t){const r=e.hostBindingOpCodes;if(null===r)return;const n=Fy(t,cu);try{for(let i=0;i<r.length;i++){const o=r[i];if(o<0)Qo(~o);else{const c=o,f=r[++i],m=r[++i];XA(f,c),n.runInContext(m,2,t[c])}}}finally{null===t[cu]&&Ly(t,cu),Qo(-1)}}(e,t);const f=e.components;null!==f&&iC(t,f,0);const m=e.viewQuery;if(null!==m&&Sp(2,m,n),c){const g=e.viewCheckHooks;null!==g&&Cu(t,g)}else{const g=e.viewHooks;null!==g&&vu(t,g,2),mh(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Oe]&=-73,S0(t)}finally{gh()}}}function nC(e,t){for(let r=Dm(e);null!==r;r=bm(r))for(let n=An;n<r.length;n++)rC(r[n],t)}function yS(e,t,r){rC(gr(t,e),r)}function rC(e,t){if(!function FA(e){return 128==(128&e[Oe])}(e))return;const r=e[le];if(80&e[Oe]&&0===t||1024&e[Oe]||2===t)tC(r,e,r.template,e[Yt]);else if(e[hl]>0){nC(e,1);const i=e[le].components;null!==i&&iC(e,i,1)}}function iC(e,t,r){for(let n=0;n<t.length;n++)yS(e,t[n],r)}class Ul{get rootNodes(){const t=this._lView,r=t[le];return Vl(r,t,r.firstChild,[])}constructor(t,r){this._lView=t,this._cdRefInjectingView=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Yt]}set context(t){this._lView[Yt]=t}get destroyed(){return 256==(256&this._lView[Oe])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Ot];if(Wn(t)){const r=t[8],n=r?r.indexOf(this):-1;n>-1&&(ku(t,n),Du(r,n))}this._attachedToViewContainer=!1}Fh(this._lView[le],this._lView)}onDestroy(t){!function M0(e,t){if(256==(256&e[Oe]))throw new X(911,!1);null===e[uo]&&(e[uo]=[]),e[uo].push(t)}(this._lView,t)}markForCheck(){kl(this._cdRefInjectingView||this._lView)}detach(){this._lView[Oe]&=-129}reattach(){this._lView[Oe]|=128}detectChanges(){sd(this._lView[le],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new X(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function cb(e,t){Tl(e,t,t[Ne],2,null,null)}(this._lView[le],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new X(902,!1);this._appRef=t}}class CS extends Ul{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;sd(t[le],t,t[Yt],!1)}checkNoChanges(){}get context(){return null}}class oC extends ed{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const r=Qe(t);return new jl(r,this.ngModule)}}function sC(e){const t=[];for(let r in e)e.hasOwnProperty(r)&&t.push({propName:e[r],templateName:r});return t}class wS{constructor(t,r){this.injector=t,this.parentInjector=r}get(t,r,n){n=Ps(n);const i=this.injector.get(t,fp,n);return i!==fp||r===fp?i:this.parentInjector.get(t,r,n)}}class jl extends fy{get inputs(){const t=this.componentDef,r=t.inputTransforms,n=sC(t.inputs);if(null!==r)for(const i of n)r.hasOwnProperty(i.propName)&&(i.transform=r[i.propName]);return n}get outputs(){return sC(this.componentDef.outputs)}constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=function zn(e){return e.map(un).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!r}create(t,r,n,i){let o=(i=i||this.ngModule)instanceof yr?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const c=o?new wS(t,o):t,f=c.get(py,null);if(null===f)throw new X(407,!1);const E={rendererFactory:f,sanitizer:c.get(CI,null),effectManager:c.get(Jy,null),afterRenderEventManager:c.get(Cp,null)},D=f.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",P=n?function zI(e,t,r,n){const o=n.get(Ty,!1)||r===Me.ShadowDom,c=e.selectRootElement(t,o);return function GI(e){jy(e)}(c),c}(D,n,this.componentDef.encapsulation,c):Lu(D,I,function vS(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(I)),H=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let V=null;null!==P&&(V=cp(P,c,!0));const ne=Ap(0,null,null,1,0,null,null,null,null,null,null),te=rd(null,ne,null,H,null,null,E,D,c,null,V);let Ce,ut;ph(te);try{const kt=this.componentDef;let Ln,Cn=null;kt.findHostDirectiveDefs?(Ln=[],Cn=new Map,kt.findHostDirectiveDefs(kt,Ln,Cn),Ln.push(kt)):Ln=[kt];const Fo=function ES(e,t){const r=e[le],n=$e;return e[n]=t,ua(r,n,2,"#host",null)}(te,P),bi=function xS(e,t,r,n,i,o,c){const f=i[le];!function AS(e,t,r,n){for(const i of e)t.mergedAttrs=A(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(od(t,t.mergedAttrs,!0),null!==r&&jm(n,r,t))}(n,e,t,c);let m=null;null!==t&&(m=cp(t,i[co]));const g=o.rendererFactory.createRenderer(t,r);let w=16;r.signals?w=4096:r.onPush&&(w=64);const E=rd(i,Uy(r),null,w,i[e.index],e,o,g,null,null,m);return f.firstCreatePass&&bp(f,e,n.length-1),id(i,E),i[e.index]=E}(Fo,P,kt,Ln,te,E,D);ut=b0(ne,$e),P&&function bS(e,t,r,n){if(n)C(e,r,["ng-version",vI.full]);else{const{attrs:i,classes:o}=function lo(e){const t=[],r=[];let n=1,i=2;for(;n<e.length;){let o=e[n];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++n]):8===i&&r.push(o);else{if(!J(i))break;i=o}n++}return{attrs:t,classes:r}}(t.selectors[0]);i&&C(e,r,i),o&&o.length>0&&Um(e,r,o.join(" "))}}(D,kt,P,n),void 0!==r&&function IS(e,t,r){const n=e.projection=[];for(let i=0;i<t.length;i++){const o=r[i];n.push(null!=o?Array.from(o):null)}}(ut,this.ngContentSelectors,r),Ce=function DS(e,t,r,n,i,o){const c=Dn(),f=i[le],m=rr(c,i);Gy(f,i,c,r,null,n);for(let w=0;w<r.length;w++)Rn(Ko(i,f,c.directiveStart+w,c),i);Wy(f,i,c),m&&Rn(m,i);const g=Ko(i,f,c.directiveStart+c.componentOffset,c);if(e[Yt]=i[Yt]=g,null!==o)for(const w of o)w(g,t);return _p(f,c,e),g}(bi,kt,Ln,Cn,te,[SS]),Mp(ne,te,null)}finally{gh()}return new _S(this.componentType,Ce,aa(ut,te),te,ut)}}class _S extends fI{constructor(t,r,n,i,o){super(),this.location=n,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new CS(i),this.componentType=t}setInput(t,r){const n=this._tNode.inputs;let i;if(null!==n&&(i=n[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),r))return;const o=this._rootLView;Tp(o[le],o,i,t,r),this.previousInputValues.set(t,r),kl(gr(this._tNode.index,o))}}get injector(){return new Yn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function SS(){const e=Dn();yu(Y()[le],e)}function Ct(e){let t=function aC(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const n=[e];for(;t;){let i;if($r(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new X(903,!1);i=t.\u0275dir}if(i){if(r){n.push(i);const c=e;c.inputs=ad(e.inputs),c.inputTransforms=ad(e.inputTransforms),c.declaredInputs=ad(e.declaredInputs),c.outputs=ad(e.outputs);const f=i.hostBindings;f&&RS(e,f);const m=i.viewQuery,g=i.contentQueries;if(m&&MS(e,m),g&&NS(e,g),ye(e.inputs,i.inputs),ye(e.declaredInputs,i.declaredInputs),ye(e.outputs,i.outputs),null!==i.inputTransforms&&(null===c.inputTransforms&&(c.inputTransforms={}),ye(c.inputTransforms,i.inputTransforms)),$r(i)&&i.data.animation){const w=e.data;w.animation=(w.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let c=0;c<o.length;c++){const f=o[c];f&&f.ngInherit&&f(e),f===Ct&&(r=!1)}}t=Object.getPrototypeOf(t)}!function TS(e){let t=0,r=null;for(let n=e.length-1;n>=0;n--){const i=e[n];i.hostVars=t+=i.hostVars,i.hostAttrs=A(i.hostAttrs,r=A(r,i.hostAttrs))}}(n)}function ad(e){return e===Hn?{}:e===v?[]:e}function MS(e,t){const r=e.viewQuery;e.viewQuery=r?(n,i)=>{t(n,i),r(n,i)}:t}function NS(e,t){const r=e.contentQueries;e.contentQueries=r?(n,i,o)=>{t(n,i,o),r(n,i,o)}:t}function RS(e,t){const r=e.hostBindings;e.hostBindings=r?(n,i)=>{t(n,i),r(n,i)}:t}function dC(e){const t=e.inputConfig,r={};for(const n in t)if(t.hasOwnProperty(n)){const i=t[n];Array.isArray(i)&&i[2]&&(r[n]=i[2])}e.inputTransforms=r}function ld(e){return!!Np(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Np(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Ci(e,t,r){return e[t]=r}function On(e,t,r){return!Object.is(e[t],r)&&(e[t]=r,!0)}function rs(e,t,r,n){const i=On(e,t,r);return On(e,t+1,n)||i}function vi(e,t,r,n){const i=Y();return On(i,zs(),t)&&(Ke(),yi(Vt(),i,e,t,r,n)),vi}function fa(e,t,r,n){return On(e,zs(),r)?t+De(r)+n:Pe}function ha(e,t,r,n,i,o){const f=rs(e,function Fi(){return Ie.lFrame.bindingIndex}(),r,i);return Li(2),f?t+De(r)+n+De(i)+o:Pe}function ge(e,t,r,n,i,o,c,f){const m=Y(),g=Ke(),w=e+$e,E=g.firstCreatePass?function rT(e,t,r,n,i,o,c,f,m){const g=t.consts,w=ua(t,e,4,c||null,fo(g,f));Dp(t,r,w,fo(g,m)),yu(t,w);const E=w.tView=Ap(2,w,n,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,g,null);return null!==t.queries&&(t.queries.template(t,w),E.queries=t.queries.embeddedTView(w)),w}(w,g,m,t,r,n,i,o,c):g.data[w];gi(E,!1);const D=AC(g,m,E,e);mu()&&Vu(g,m,D,E),Rn(D,m),id(m,m[w]=qy(D,m,D,E)),du(E)&&Ep(g,m,E),null!=c&&xp(m,E,f)}let AC=function DC(e,t,r,n){return ho(!0),t[Ne].createComment("")};function K(e,t,r){const n=Y();return On(n,zs(),t)&&wr(Ke(),Vt(),n,e,t,n[Ne],r,!1),K}function kp(e,t,r,n,i){const c=i?"class":"style";Tp(e,r,t.inputs[c],c,n)}function M(e,t,r,n){const i=Y(),o=Ke(),c=$e+e,f=i[Ne],m=o.firstCreatePass?function lT(e,t,r,n,i,o){const c=t.consts,m=ua(t,e,2,n,fo(c,i));return Dp(t,r,m,fo(c,o)),null!==m.attrs&&od(m,m.attrs,!1),null!==m.mergedAttrs&&od(m,m.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,m),m}(c,o,i,t,r,n):o.data[c],g=bC(o,i,m,f,t,e);i[c]=g;const w=du(m);return gi(m,!0),jm(f,g,m),32!=(32&m.flags)&&mu()&&Vu(o,i,g,m),0===function VA(){return Ie.lFrame.elementDepthCount}()&&Rn(g,i),function UA(){Ie.lFrame.elementDepthCount++}(),w&&(Ep(o,i,m),_p(o,m,i)),null!==n&&xp(i,m),M}function T(){let e=Dn();ch()?function uh(){Ie.lFrame.isParent=!1}():(e=e.parent,gi(e,!1));const t=e;(function HA(e){return Ie.skipHydrationRootTNode===e})(t)&&function $A(){Ie.skipHydrationRootTNode=null}(),function jA(){Ie.lFrame.elementDepthCount--}();const r=Ke();return r.firstCreatePass&&(yu(r,e),th(e)&&r.queries.elementEnd(e)),null!=t.classesWithoutHost&&function aD(e){return 0!=(8&e.flags)}(t)&&kp(r,t,Y(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function lD(e){return 0!=(16&e.flags)}(t)&&kp(r,t,Y(),t.stylesWithoutHost,!1),T}function Ae(e,t,r,n){return M(e,t,r,n),T(),Ae}let bC=(e,t,r,n,i,o)=>(ho(!0),Lu(n,i,function z0(){return Ie.lFrame.currentNamespace}()));function mo(){return Y()}function $l(e){return!!e&&"function"==typeof e.then}function TC(e){return!!e&&"function"==typeof e.subscribe}function st(e,t,r,n){const i=Y(),o=Ke(),c=Dn();return function NC(e,t,r,n,i,o,c){const f=du(n),g=e.firstCreatePass&&Zy(e),w=t[Yt],E=Xy(t);let D=!0;if(3&n.type||c){const F=rr(n,t),k=c?c(F):F,H=E.length,V=c?te=>c(It(te[n.index])):n.index;let ne=null;if(!c&&f&&(ne=function pT(e,t,r,n){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const c=i[o];if(c===r&&i[o+1]===n){const f=t[Ls],m=i[o+2];return f.length>m?f[m]:null}"string"==typeof c&&(o+=2)}return null}(e,t,i,n.index)),null!==ne)(ne.__ngLastListenerFn__||ne).__ngNextListenerFn__=o,ne.__ngLastListenerFn__=o,D=!1;else{o=OC(n,t,w,o,!1);const te=r.listen(k,i,o);E.push(o,te),g&&g.push(i,V,H,H+1)}}else o=OC(n,t,w,o,!1);const I=n.outputs;let P;if(D&&null!==I&&(P=I[i])){const F=P.length;if(F)for(let k=0;k<F;k+=2){const Ce=t[P[k]][P[k+1]].subscribe(o),ut=E.length;E.push(o,Ce),g&&g.push(i,n.index,ut,-(ut+1))}}}(o,i,i[Ne],c,e,t,n),st}function RC(e,t,r,n){try{return fi(6,t,r),!1!==r(n)}catch(i){return Ky(e,i),!1}finally{fi(7,t,r)}}function OC(e,t,r,n,i){return function o(c){if(c===Function)return n;kl(e.componentOffset>-1?gr(e.index,t):t);let m=RC(t,r,n,c),g=o.__ngNextListenerFn__;for(;g;)m=RC(t,r,g,c)&&m,g=g.__ngNextListenerFn__;return i&&!1===m&&c.preventDefault(),m}}function Pt(e=1){return function KA(e){return(Ie.lFrame.contextLView=function JA(e,t){for(;e>0;)t=t[Bs],e--;return t}(e,Ie.lFrame.contextLView))[Yt]}(e)}function yo(e,t,r){return hd(e,"",t,"",r),yo}function hd(e,t,r,n,i){const o=Y(),c=fa(o,t,r,n);return c!==Pe&&wr(Ke(),Vt(),o,e,c,o[Ne],i,!1),hd}function pd(e,t){return e<<17|t<<2}function Co(e){return e>>17&32767}function Up(e){return 2|e}function is(e){return(131068&e)>>2}function jp(e,t){return-131069&e|t<<2}function Hp(e){return 1|e}function HC(e,t,r,n,i){const o=e[r+1],c=null===t;let f=n?Co(o):is(o),m=!1;for(;0!==f&&(!1===m||c);){const w=e[f+1];xT(e[f],t)&&(m=!0,e[f+1]=n?Hp(w):Up(w)),f=n?Co(w):is(w)}m&&(e[r+1]=n?Up(o):Hp(o))}function xT(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Qs(e,t)>=0}function gd(e,t){return function qr(e,t,r,n){const i=Y(),o=Ke(),c=Li(2);o.firstUpdatePass&&function QC(e,t,r,n){const i=e.data;if(null===i[r+1]){const o=i[qn()],c=function ZC(e,t){return t>=e.expandoStartIndex}(e,r);(function tv(e,t){return 0!=(e.flags&(t?8:16))})(o,n)&&null===t&&!c&&(t=!1),t=function RT(e,t,r,n){const i=function fh(e){const t=Ie.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let o=n?t.residualClasses:t.residualStyles;if(null===i)0===(n?t.classBindings:t.styleBindings)&&(r=ql(r=zp(null,e,t,r,n),t.attrs,n),o=null);else{const c=t.directiveStylingLast;if(-1===c||e[c]!==i)if(r=zp(i,e,t,r,n),null===o){let m=function OT(e,t,r){const n=r?t.classBindings:t.styleBindings;if(0!==is(n))return e[Co(n)]}(e,t,n);void 0!==m&&Array.isArray(m)&&(m=zp(null,e,t,m[1],n),m=ql(m,t.attrs,n),function PT(e,t,r,n){e[Co(r?t.classBindings:t.styleBindings)]=n}(e,t,n,m))}else o=function FT(e,t,r){let n;const i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++)n=ql(n,e[o].hostAttrs,r);return ql(n,t.attrs,r)}(e,t,n)}return void 0!==o&&(n?t.residualClasses=o:t.residualStyles=o),r}(i,o,t,n),function _T(e,t,r,n,i,o){let c=o?t.classBindings:t.styleBindings,f=Co(c),m=is(c);e[n]=r;let w,g=!1;if(Array.isArray(r)?(w=r[1],(null===w||Qs(r,w)>0)&&(g=!0)):w=r,i)if(0!==m){const D=Co(e[f+1]);e[n+1]=pd(D,f),0!==D&&(e[D+1]=jp(e[D+1],n)),e[f+1]=function vT(e,t){return 131071&e|t<<17}(e[f+1],n)}else e[n+1]=pd(f,0),0!==f&&(e[f+1]=jp(e[f+1],n)),f=n;else e[n+1]=pd(m,0),0===f?f=n:e[m+1]=jp(e[m+1],n),m=n;g&&(e[n+1]=Up(e[n+1])),HC(e,w,n,!0),HC(e,w,n,!1),function ET(e,t,r,n,i){const o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&Qs(o,t)>=0&&(r[n+1]=Hp(r[n+1]))}(t,w,e,n,o),c=pd(f,m),o?t.classBindings=c:t.styleBindings=c}(i,o,t,r,c,n)}}(o,e,c,n),t!==Pe&&On(i,c,t)&&function JC(e,t,r,n,i,o,c,f){if(!(3&t.type))return;const m=e.data,g=m[f+1],w=function wT(e){return 1==(1&e)}(g)?ev(m,t,r,i,is(g),c):void 0;md(w)||(md(o)||function CT(e){return 2==(2&e)}(g)&&(o=ev(m,null,r,i,f,c)),function vb(e,t,r,n,i){if(t)i?e.addClass(r,n):e.removeClass(r,n);else{let o=-1===n.indexOf("-")?void 0:po.DashCase;null==i?e.removeStyle(r,n,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=po.Important),e.setStyle(r,n,i,o))}}(n,c,gu(qn(),r),i,o))}(o,o.data[qn()],i,i[Ne],e,i[c+1]=function VT(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=We(go(e)))),e}(t,r),n,c)}(e,t,null,!0),gd}function zp(e,t,r,n,i){let o=null;const c=r.directiveEnd;let f=r.directiveStylingLast;for(-1===f?f=r.directiveStart:f++;f<c&&(o=t[f],n=ql(n,o.hostAttrs,i),o!==e);)f++;return null!==e&&(r.directiveStylingLast=f),n}function ql(e,t,r){const n=r?1:2;let i=-1;if(null!==t)for(let o=0;o<t.length;o++){const c=t[o];"number"==typeof c?i=c:i===n&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),mr(e,c,!!r||t[++o]))}return void 0===e?null:e}function ev(e,t,r,n,i,o){const c=null===t;let f;for(;i>0;){const m=e[i],g=Array.isArray(m),w=g?m[1]:m,E=null===w;let D=r[i+1];D===Pe&&(D=E?v:void 0);let I=E?Ah(D,n):w===n?D:void 0;if(g&&!md(I)&&(I=Ah(m,n)),md(I)&&(f=I,c))return f;const P=e[i+1];i=c?Co(P):is(P)}if(null!==t){let m=o?t.residualClasses:t.residualStyles;null!=m&&(f=Ah(m,n))}return f}function md(e){return void 0!==e}function R(e,t=""){const r=Y(),n=Ke(),i=e+$e,o=n.firstCreatePass?ua(n,i,1,t,null):n.data[i],c=nv(n,r,o,t,e);r[i]=c,mu()&&Vu(n,r,c,o),gi(o,!1)}let nv=(e,t,r,n,i)=>(ho(!0),function Fu(e,t){return e.createText(t)}(t[Ne],n));function or(e){return Hi("",e,""),or}function Hi(e,t,r){const n=Y(),i=fa(n,e,t,r);return i!==Pe&&ji(n,qn(),i),Hi}function Gp(e,t,r,n,i){const o=Y(),c=ha(o,e,t,r,n,i);return c!==Pe&&ji(o,qn(),c),Gp}const os=void 0;var aM=["en",[["a","p"],["AM","PM"],os],[["AM","PM"],os,os],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],os,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],os,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",os,"{1} 'at' {0}",os],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function sM(e){const r=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===r&&0===n?1:5}];let _a={};function Xn(e){const t=function cM(e){return e.toLowerCase().replace(/_/g,"-")}(e);let r=Ev(t);if(r)return r;const n=t.split("-")[0];if(r=Ev(n),r)return r;if("en"===n)return aM;throw new X(701,!1)}function Ev(e){return e in _a||(_a[e]=at.ng&&at.ng.common&&at.ng.common.locales&&at.ng.common.locales[e]),_a[e]}var Tt=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Tt||{});const Ea="en-US";let xv=Ea;function qp(e,t,r,n,i){if(e=ve(e),Array.isArray(e))for(let o=0;o<e.length;o++)qp(e[o],t,r,n,i);else{const o=Ke(),c=Y(),f=Dn();let m=es(e)?e:ve(e.provide);const g=sy(e),w=1048575&f.providerIndexes,E=f.directiveStart,D=f.providerIndexes>>20;if(es(e)||!e.multi){const I=new vl(g,i,z),P=Xp(m,t,i?w:w+D,E);-1===P?(_h(_u(f,c),o,m),Yp(o,e,t.length),t.push(m),f.directiveStart++,f.directiveEnd++,i&&(f.providerIndexes+=1048576),r.push(I),c.push(I)):(r[P]=I,c[P]=I)}else{const I=Xp(m,t,w+D,E),P=Xp(m,t,w,w+D),k=P>=0&&r[P];if(i&&!k||!i&&!(I>=0&&r[I])){_h(_u(f,c),o,m);const H=function a3(e,t,r,n,i){const o=new vl(e,r,z);return o.multi=[],o.index=t,o.componentProviders=0,Yv(o,i,n&&!r),o}(i?s3:o3,r.length,i,n,g);!i&&k&&(r[P].providerFactory=H),Yp(o,e,t.length,0),t.push(m),f.directiveStart++,f.directiveEnd++,i&&(f.providerIndexes+=1048576),r.push(H),c.push(H)}else Yp(o,e,I>-1?I:P,Yv(r[i?P:I],g,!i&&n));!i&&n&&k&&r[P].componentProviders++}}}function Yp(e,t,r,n){const i=es(t),o=function Xb(e){return!!e.useClass}(t);if(i||o){const m=(o?ve(t.useClass):t).prototype.ngOnDestroy;if(m){const g=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const w=g.indexOf(r);-1===w?g.push(r,[n,m]):g[w+1].push(n,m)}else g.push(r,m)}}}function Yv(e,t,r){return r&&e.componentProviders++,e.multi.push(t)-1}function Xp(e,t,r,n){for(let i=r;i<n;i++)if(t[i]===e)return i;return-1}function o3(e,t,r,n){return Zp(this.multi,[])}function s3(e,t,r,n){const i=this.multi;let o;if(this.providerFactory){const c=this.providerFactory.componentProviders,f=Ko(r,r[le],this.providerFactory.index,n);o=f.slice(0,c),Zp(i,o);for(let m=c;m<f.length;m++)o.push(f[m])}else o=[],Zp(i,o);return o}function Zp(e,t){for(let r=0;r<e.length;r++)t.push((0,e[r])());return t}function Ft(e,t=[]){return r=>{r.providersResolver=(n,i)=>function i3(e,t,r){const n=Ke();if(n.firstCreatePass){const i=$r(e);qp(r,n.data,n.blueprint,i,!0),qp(t,n.data,n.blueprint,i,!1)}}(n,i?i(e):e,t)}}class ss{}class Xv{}class Qp extends ss{constructor(t,r,n){super(),this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new oC(this);const i=pr(t);this._bootstrapComponents=Ui(i.bootstrap),this._r3Injector=vy(t,r,[{provide:ss,useValue:this},{provide:ed,useValue:this.componentFactoryResolver},...n],We(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Kp extends Xv{constructor(t){super(),this.moduleType=t}create(t){return new Qp(this.moduleType,t,[])}}class Zv extends ss{constructor(t){super(),this.componentFactoryResolver=new oC(this),this.instance=null;const r=new qu([...t.providers,{provide:ss,useValue:this},{provide:ed,useValue:this.componentFactoryResolver}],t.parent||$u(),t.debugName,new Set(["environment"]));this.injector=r,t.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Jp(e,t,r=null){return new Zv({providers:e,parent:t,debugName:r,runEnvironmentInitializers:!0}).injector}let u3=(()=>{var e;class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const i=ny(0,n.type),o=i.length>0?Jp([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,o)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return(e=t).\u0275prov=me({token:e,providedIn:"environment",factory:()=>new e(se(yr))}),t})();function Qv(e){e.getStandaloneInjector=t=>t.get(u3).getOrCreateStandaloneInjector(e)}function yn(e,t,r,n,i){return sw(Y(),$n(),e,t,r,n,i)}function Jl(e,t){const r=e[t];return r===Pe?void 0:r}function ow(e,t,r,n,i,o){const c=t+r;return On(e,c,i)?Ci(e,c+1,o?n.call(o,i):n(i)):Jl(e,c+1)}function sw(e,t,r,n,i,o,c){const f=t+r;return rs(e,f,i,o)?Ci(e,f+2,c?n.call(c,i,o):n(i,o)):Jl(e,f+2)}function as(e,t){const r=Ke();let n;const i=e+$e;r.firstCreatePass?(n=function I3(e,t){if(t)for(let r=t.length-1;r>=0;r--){const n=t[r];if(e===n.name)return n}}(t,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks??=[]).push(i,n.onDestroy)):n=r.data[i];const o=n.factory||(n.factory=Zo(n.type)),f=Sn(z);try{const m=wu(!1),g=o();return wu(m),function sT(e,t,r,n){r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),t[r]=n}(r,Y(),i,g),g}finally{Sn(f)}}function _d(e,t,r){const n=e+$e,i=Y(),o=js(i,n);return ec(i,n)?ow(i,$n(),t,o.transform,r,o):o.transform(r)}function Ed(e,t,r,n){const i=e+$e,o=Y(),c=js(o,i);return ec(o,i)?sw(o,$n(),t,c.transform,r,n,c):c.transform(r,n)}function ec(e,t){return e[le].data[t].pure}function N3(){return this._results[Symbol.iterator]()}class tg{get changes(){return this._changes||(this._changes=new Gt)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const r=tg.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=N3)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,r){return this._results.reduce(t,r)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,r){const n=this;n.dirty=!1;const i=function Or(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function ED(e,t,r){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++){let i=e[n],o=t[n];if(r&&(i=r(i),o=r(o)),o!==i)return!1}return!0}(n._results,i,r))&&(n._results=i,n.length=i.length,n.last=i[this.length-1],n.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function O3(e,t,r,n=!0){const i=t[le];if(function db(e,t,r,n){const i=An+n,o=r.length;n>0&&(r[i-1][Wr]=t),n<o-An?(t[Wr]=r[i],im(r,An+n,t)):(r.push(t),t[Wr]=null),t[Ot]=r;const c=t[gl];null!==c&&r!==c&&function fb(e,t){const r=e[Us];t[Xt]!==t[Ot][Ot][Xt]&&(e[f0]=!0),null===r?e[Us]=[t]:r.push(t)}(c,t);const f=t[ci];null!==f&&f.insertView(e),t[Oe]|=128}(i,t,e,r),n){const o=Vh(r,e),c=t[Ne],f=Bu(c,e[ui]);null!==f&&function lb(e,t,r,n,i,o){n[zt]=i,n[Nn]=t,Tl(e,n,r,1,i,o)}(i,e[Nn],c,t,f,o)}}let zi=(()=>{class t{}return t.__NG_ELEMENT_ID__=L3,t})();const P3=zi,F3=class extends P3{constructor(t,r,n){super(),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,n){const i=function R3(e,t,r,n){const i=t.tView,f=rd(e,i,r,4096&e[Oe]?4096:16,null,t,null,null,null,n?.injector??null,n?.hydrationInfo??null);f[gl]=e[t.index];const g=e[ci];return null!==g&&(f[ci]=g.createEmbeddedView(i)),Mp(i,f,r),f}(this._declarationLView,this._declarationTContainer,t,{injector:r,hydrationInfo:n});return new Ul(i)}};function L3(){return xd(Dn(),Y())}function xd(e,t){return 4&e.type?new F3(t,e,aa(e,t)):null}let Xr=(()=>{class t{}return t.__NG_ELEMENT_ID__=H3,t})();function H3(){return mw(Dn(),Y())}const z3=Xr,pw=class extends z3{constructor(t,r,n){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=n}get element(){return aa(this._hostTNode,this._hostLView)}get injector(){return new Yn(this._hostTNode,this._hostLView)}get parentInjector(){const t=Eu(this._hostTNode,this._hostLView);if(Ch(t)){const r=_l(t,this._hostLView),n=wl(t);return new Yn(r[le].data[n+8],r)}return new Yn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const r=gw(this._lContainer);return null!==r&&r[t]||null}get length(){return this._lContainer.length-An}createEmbeddedView(t,r,n){let i,o;"number"==typeof n?i=n:null!=n&&(i=n.index,o=n.injector);const f=t.createEmbeddedViewImpl(r||{},o,null);return this.insertImpl(f,i,false),f}createComponent(t,r,n,i,o){const c=t&&!function xl(e){return"function"==typeof e}(t);let f;if(c)f=r;else{const F=r||{};f=F.index,n=F.injector,i=F.projectableNodes,o=F.environmentInjector||F.ngModuleRef}const m=c?t:new jl(Qe(t)),g=n||this.parentInjector;if(!o&&null==m.ngModule){const k=(c?g:this.parentInjector).get(yr,null);k&&(o=k)}Qe(m.componentType??{});const I=m.create(g,i,null,o);return this.insertImpl(I.hostView,f,false),I}insert(t,r){return this.insertImpl(t,r,!1)}insertImpl(t,r,n){const i=t._lView;if(function LA(e){return Wn(e[Ot])}(i)){const m=this.indexOf(t);if(-1!==m)this.detach(m);else{const g=i[Ot],w=new pw(g,g[Nn],g[Ot]);w.detach(w.indexOf(t))}}const c=this._adjustIndex(r),f=this._lContainer;return O3(f,i,c,!n),t.attachToViewContainerRef(),im(ng(f),c,t),t}move(t,r){return this.insert(t,r)}indexOf(t){const r=gw(this._lContainer);return null!==r?r.indexOf(t):-1}remove(t){const r=this._adjustIndex(t,-1),n=ku(this._lContainer,r);n&&(Du(ng(this._lContainer),r),Fh(n[le],n))}detach(t){const r=this._adjustIndex(t,-1),n=ku(this._lContainer,r);return n&&null!=Du(ng(this._lContainer),r)?new Ul(n):null}_adjustIndex(t,r=0){return t??this.length+r}};function gw(e){return e[8]}function ng(e){return e[8]||(e[8]=[])}function mw(e,t){let r;const n=t[e.index];return Wn(n)?r=n:(r=qy(n,t,null,e),t[e.index]=r,id(t,r)),yw(r,t,e,n),new pw(r,e,t)}let yw=function Cw(e,t,r,n){if(e[ui])return;let i;i=8&r.type?It(n):function G3(e,t){const r=e[Ne],n=r.createComment(""),i=rr(t,e);return Jo(r,Bu(r,i),n,function mb(e,t){return e.nextSibling(t)}(r,i),!1),n}(t,r),e[ui]=i};class rg{constructor(t){this.queryList=t,this.matches=null}clone(){return new rg(this.queryList)}setDirty(){this.queryList.setDirty()}}class ig{constructor(t=[]){this.queries=t}createEmbeddedView(t){const r=t.queries;if(null!==r){const n=null!==t.contentQueries?t.contentQueries[0]:r.length,i=[];for(let o=0;o<n;o++){const c=r.getByIndex(o);i.push(this.queries[c.indexInDeclarationView].clone())}return new ig(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let r=0;r<this.queries.length;r++)null!==Aw(t,r).matches&&this.queries[r].setDirty()}}class vw{constructor(t,r,n=null){this.predicate=t,this.flags=r,this.read=n}}class og{constructor(t=[]){this.queries=t}elementStart(t,r){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,r)}elementEnd(t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(t)}embeddedTView(t){let r=null;for(let n=0;n<this.length;n++){const i=null!==r?r.length:0,o=this.getByIndex(n).embeddedTView(t,i);o&&(o.indexInDeclarationView=n,null!==r?r.push(o):r=[o])}return null!==r?new og(r):null}template(t,r){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,r)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class sg{constructor(t,r=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(t,r){this.isApplyingToNode(r)&&this.matchTNode(t,r)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,r){this.elementStart(t,r)}embeddedTView(t,r){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,r),new sg(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const r=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==r;)n=n.parent;return r===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,r){const n=this.metadata.predicate;if(Array.isArray(n))for(let i=0;i<n.length;i++){const o=n[i];this.matchTNodeWithReadOption(t,r,q3(r,o)),this.matchTNodeWithReadOption(t,r,xu(r,t,o,!1,!1))}else n===zi?4&r.type&&this.matchTNodeWithReadOption(t,r,-1):this.matchTNodeWithReadOption(t,r,xu(r,t,n,!1,!1))}matchTNodeWithReadOption(t,r,n){if(null!==n){const i=this.metadata.read;if(null!==i)if(i===Cr||i===Xr||i===zi&&4&r.type)this.addMatch(r.index,-2);else{const o=xu(r,t,i,!1,!1);null!==o&&this.addMatch(r.index,o)}else this.addMatch(r.index,n)}}addMatch(t,r){null===this.matches?this.matches=[t,r]:this.matches.push(t,r)}}function q3(e,t){const r=e.localNames;if(null!==r)for(let n=0;n<r.length;n+=2)if(r[n]===t)return r[n+1];return null}function X3(e,t,r,n){return-1===r?function Y3(e,t){return 11&e.type?aa(e,t):4&e.type?xd(e,t):null}(t,e):-2===r?function Z3(e,t,r){return r===Cr?aa(t,e):r===zi?xd(t,e):r===Xr?mw(t,e):void 0}(e,t,n):Ko(e,e[le],r,t)}function ww(e,t,r,n){const i=t[ci].queries[n];if(null===i.matches){const o=e.data,c=r.matches,f=[];for(let m=0;m<c.length;m+=2){const g=c[m];f.push(g<0?null:X3(t,o[g],c[m+1],r.metadata.read))}i.matches=f}return i.matches}function ag(e,t,r,n){const i=e.queries.getByIndex(r),o=i.matches;if(null!==o){const c=ww(e,t,i,r);for(let f=0;f<o.length;f+=2){const m=o[f];if(m>0)n.push(c[f/2]);else{const g=o[f+1],w=t[-m];for(let E=An;E<w.length;E++){const D=w[E];D[gl]===D[Ot]&&ag(D[le],D,g,n)}if(null!==w[Us]){const E=w[Us];for(let D=0;D<E.length;D++){const I=E[D];ag(I[le],I,g,n)}}}}}return n}function Dd(e){const t=Y(),r=Ke(),n=k0();hh(n+1);const i=Aw(r,n);if(e.dirty&&function PA(e){return 4==(4&e[Oe])}(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const o=i.crossesNgTemplate?ag(r,t,n,[]):ww(r,t,i,n);e.reset(o,mI),e.notifyOnChanges()}return!0}return!1}function lg(e,t,r){const n=Ke();n.firstCreatePass&&(xw(n,new vw(e,t,r),-1),2==(2&t)&&(n.staticViewQueries=!0)),Ew(n,Y(),t)}function bd(){return function Q3(e,t){return e[ci].queries[t].queryList}(Y(),k0())}function Ew(e,t,r){const n=new tg(4==(4&r));(function qI(e,t,r,n){const i=Xy(t);i.push(r),e.firstCreatePass&&Zy(e).push(n,i.length-1)})(e,t,n,n.destroy),null===t[ci]&&(t[ci]=new ig),t[ci].queries.push(new rg(n))}function xw(e,t,r){null===e.queries&&(e.queries=new og),e.queries.track(new sg(t,r))}function Aw(e,t){return e.queries.getByIndex(t)}const pg=new de("Application Initializer");let gg=(()=>{var e;class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i}),this.appInits=ie(pg,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const o of this.appInits){const c=o();if($l(c))n.push(c);else if(TC(c)){const f=new Promise((m,g)=>{c.subscribe({complete:m,error:g})});n.push(f)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(o=>{this.reject(o)}),0===n.length&&i(),this.initialized=!0}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),jw=(()=>{var e;class t{log(n){console.log(n)}warn(n){console.warn(n)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();const Gi=new de("LocaleId",{providedIn:"root",factory:()=>ie(Gi,ke.Optional|ke.SkipSelf)||function wN(){return typeof $localize<"u"&&$localize.locale||Ea}()});let Sd=(()=>{var e;class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ye(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class xN{constructor(t,r){this.ngModuleFactory=t,this.componentFactories=r}}let Hw=(()=>{var e;class t{compileModuleSync(n){return new Kp(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const i=this.compileModuleSync(n),c=Ui(pr(n).declarations).reduce((f,m)=>{const g=Qe(m);return g&&f.push(new jl(g)),f},[]);return new xN(i,c)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const $w=new de(""),Md=new de("");let wg,Cg=(()=>{var e;class t{constructor(n,i,o){this._ngZone=n,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,wg||(function zN(e){wg=e}(o),o.addToWindow(i)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{St.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(n)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,i,o){let c=-1;i&&i>0&&(c=setTimeout(()=>{this._callbacks=this._callbacks.filter(f=>f.timeoutId!==c),n(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:n,timeoutId:c,updateCb:o})}whenStable(n,i,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,i,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,i,o){return[]}}return(e=t).\u0275fac=function(n){return new(n||e)(se(St),se(vg),se(Md))},e.\u0275prov=me({token:e,factory:e.\u0275fac}),t})(),vg=(()=>{var e;class t{constructor(){this._applications=new Map}registerApplication(n,i){this._applications.set(n,i)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,i=!0){return wg?.findTestabilityInTree(this,n,i)??null}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})(),vo=null;const qw=new de("AllowMultipleToken"),_g=new de("PlatformDestroyListeners"),Eg=new de("appBootstrapListener");class Xw{constructor(t,r){this.name=t,this.token=r}}function Qw(e,t,r=[]){const n=`Platform: ${t}`,i=new de(n);return(o=[])=>{let c=xg();if(!c||c.injector.get(qw,!1)){const f=[...r,...o,{provide:i,useValue:!0}];e?e(f):function $N(e){if(vo&&!vo.get(qw,!1))throw new X(400,!1);(function Yw(){!function DA(e){C0=e}(()=>{throw new X(600,!1)})})(),vo=e;const t=e.get(Jw);(function Zw(e){e.get(ay,null)?.forEach(r=>r())})(e)}(function Kw(e=[],t){return vr.create({name:t,providers:[{provide:Kh,useValue:"platform"},{provide:_g,useValue:new Set([()=>vo=null])},...e]})}(f,n))}return function YN(e){const t=xg();if(!t)throw new X(401,!1);return t}()}}function xg(){return vo?.get(Jw)??null}let Jw=(()=>{var e;class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,i){const o=function XN(e="zone.js",t){return"noop"===e?new NI:"zone.js"===e?new St(t):e}(i?.ngZone,function e_(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return o.run(()=>{const c=function c3(e,t,r){return new Qp(e,t,r)}(n.moduleType,this.injector,function o_(e){return[{provide:St,useFactory:e},{provide:Ol,multi:!0,useFactory:()=>{const t=ie(QN,{optional:!0});return()=>t.initialize()}},{provide:i_,useFactory:ZN},{provide:xy,useFactory:Ay}]}(()=>o)),f=c.injector.get(ns,null);return o.runOutsideAngular(()=>{const m=o.onError.subscribe({next:g=>{f.handleError(g)}});c.onDestroy(()=>{Nd(this._modules,c),m.unsubscribe()})}),function t_(e,t,r){try{const n=r();return $l(n)?n.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):n}catch(n){throw t.runOutsideAngular(()=>e.handleError(n)),n}}(f,o,()=>{const m=c.injector.get(gg);return m.runInitializers(),m.donePromise.then(()=>(function Av(e){er(e,"Expected localeId to be defined"),"string"==typeof e&&(xv=e.toLowerCase().replace(/_/g,"-"))}(c.injector.get(Gi,Ea)||Ea),this._moduleDoBootstrap(c),c))})})}bootstrapModule(n,i=[]){const o=n_({},i);return function GN(e,t,r){const n=new Kp(r);return Promise.resolve(n)}(0,0,n).then(c=>this.bootstrapModuleFactory(c,o))}_moduleDoBootstrap(n){const i=n.injector.get(Da);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(o=>i.bootstrap(o));else{if(!n.instance.ngDoBootstrap)throw new X(-403,!1);n.instance.ngDoBootstrap(i)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new X(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const n=this._injector.get(_g,null);n&&(n.forEach(i=>i()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(e=t).\u0275fac=function(n){return new(n||e)(se(vr))},e.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();function n_(e,t){return Array.isArray(t)?t.reduce(n_,e):{...e,...t}}let Da=(()=>{var e;class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ie(i_),this.zoneIsStable=ie(xy),this.componentTypes=[],this.components=[],this.isStable=ie(Sd).hasPendingTasks.pipe(je(n=>n?ae(!1):this.zoneIsStable),function gn(e,t=xt){return e=e??B,jt((r,n)=>{let i,o=!0;r.subscribe(He(n,c=>{const f=t(c);(o||!e(i,f))&&(o=!1,i=f,n.next(c))}))})}(),Kc()),this._injector=ie(yr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,i){const o=n instanceof fy;if(!this._injector.get(gg).done)throw!o&&function Fs(e){const t=Qe(e)||xn(e)||Gn(e);return null!==t&&t.standalone}(n),new X(405,!1);let f;f=o?n:this._injector.get(ed).resolveComponentFactory(n),this.componentTypes.push(f.componentType);const m=function WN(e){return e.isBoundToModule}(f)?void 0:this._injector.get(ss),w=f.create(vr.NULL,[],i||f.selector,m),E=w.location.nativeElement,D=w.injector.get($w,null);return D?.registerApplication(E),w.onDestroy(()=>{this.detachView(w.hostView),Nd(this.components,w),D?.unregisterApplication(E)}),this._loadComponent(w),w}tick(){if(this._runningTick)throw new X(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){const i=n;Nd(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const i=this._injector.get(Eg,[]);i.push(...this._bootstrapListeners),i.forEach(o=>o(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Nd(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new X(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function Nd(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const i_=new de("",{providedIn:"root",factory:()=>ie(ns).handleError.bind(void 0)});function ZN(){const e=ie(St),t=ie(ns);return r=>e.runOutsideAngular(()=>t.handleError(r))}let QN=(()=>{var e;class t{constructor(){this.zone=ie(St),this.applicationRef=ie(Da)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();let Rd=(()=>{class t{}return t.__NG_ELEMENT_ID__=JN,t})();function JN(e){return function eR(e,t,r){if(Xo(e)&&!r){const n=gr(e.index,t);return new Ul(n,n)}return 47&e.type?new Ul(t[Xt],t):null}(Dn(),Y(),16==(16&e))}class c_{constructor(){}supports(t){return ld(t)}create(t){return new sR(t)}}const oR=(e,t)=>t;class sR{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||oR}forEachItem(t){let r;for(r=this._itHead;null!==r;r=r._next)t(r)}forEachOperation(t){let r=this._itHead,n=this._removalsHead,i=0,o=null;for(;r||n;){const c=!n||r&&r.currentIndex<d_(n,i,o)?r:n,f=d_(c,i,o),m=c.currentIndex;if(c===n)i--,n=n._nextRemoved;else if(r=r._next,null==c.previousIndex)i++;else{o||(o=[]);const g=f-i,w=m-i;if(g!=w){for(let D=0;D<g;D++){const I=D<o.length?o[D]:o[D]=0,P=I+D;w<=P&&P<g&&(o[D]=I+1)}o[c.previousIndex]=w-g}}f!==m&&t(c,f,m)}}forEachPreviousItem(t){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachMovedItem(t){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}forEachIdentityChange(t){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)t(r)}diff(t){if(null==t&&(t=[]),!ld(t))throw new X(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,o,c,r=this._itHead,n=!1;if(Array.isArray(t)){this.length=t.length;for(let f=0;f<this.length;f++)o=t[f],c=this._trackByFn(f,o),null!==r&&Object.is(r.trackById,c)?(n&&(r=this._verifyReinsertion(r,o,c,f)),Object.is(r.item,o)||this._addIdentityChange(r,o)):(r=this._mismatch(r,o,c,f),n=!0),r=r._next}else i=0,function VS(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else{const r=e[Symbol.iterator]();let n;for(;!(n=r.next()).done;)t(n.value)}}(t,f=>{c=this._trackByFn(i,f),null!==r&&Object.is(r.trackById,c)?(n&&(r=this._verifyReinsertion(r,f,c,i)),Object.is(r.item,f)||this._addIdentityChange(r,f)):(r=this._mismatch(r,f,c,i),n=!0),r=r._next,i++}),this.length=i;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,r,n,i){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,o,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,o,i)):t=this._addAfter(new aR(r,n),o,i),t}_verifyReinsertion(t,r,n,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==o?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const r=t._next;this._addToRemovals(this._unlink(t)),t=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,r,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,o=t._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,r,n),this._addToMoves(t,n),t}_moveAfter(t,r,n){return this._unlink(t),this._insertAfter(t,r,n),this._addToMoves(t,n),t}_addAfter(t,r,n){return this._insertAfter(t,r,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,r,n){const i=null===r?this._itHead:r._next;return t._next=i,t._prev=r,null===i?this._itTail=t:i._prev=t,null===r?this._itHead=t:r._next=t,null===this._linkedRecords&&(this._linkedRecords=new u_),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const r=t._prev,n=t._next;return null===r?this._itHead=n:r._next=n,null===n?this._itTail=r:n._prev=r,t}_addToMoves(t,r){return t.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new u_),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,r){return t.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class aR{constructor(t,r){this.item=t,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class lR{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,r){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===r||r<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const r=t._prevDup,n=t._nextDup;return null===r?this._head=n:r._nextDup=n,null===n?this._tail=r:n._prevDup=r,null===this._head}}class u_{constructor(){this.map=new Map}put(t){const r=t.trackById;let n=this.map.get(r);n||(n=new lR,this.map.set(r,n)),n.add(t)}get(t,r){const i=this.map.get(t);return i?i.get(t,r):null}remove(t){const r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function d_(e,t,r){const n=e.previousIndex;if(null===n)return n;let i=0;return r&&n<r.length&&(i=r[n]),n+t+i}class f_{constructor(){}supports(t){return t instanceof Map||Np(t)}create(){return new cR}}class cR{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let r;for(r=this._mapHead;null!==r;r=r._next)t(r)}forEachPreviousItem(t){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)t(r)}forEachChangedItem(t){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}diff(t){if(t){if(!(t instanceof Map||Np(t)))throw new X(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(t,(n,i)=>{if(r&&r.key===i)this._maybeAddToChanges(r,n),this._appendAfter=r,r=r._next;else{const o=this._getOrCreateRecordForKey(i,n);r=this._insertBeforeOrAppend(r,o)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let n=r;null!==n;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,r){if(t){const n=t._prev;return r._next=t,r._prev=n,t._prev=r,n&&(n._next=r),t===this._mapHead&&(this._mapHead=r),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(t,r){if(this._records.has(t)){const i=this._records.get(t);this._maybeAddToChanges(i,r);const o=i._prev,c=i._next;return o&&(o._next=c),c&&(c._prev=o),i._next=null,i._prev=null,i}const n=new uR(t);return this._records.set(t,n),n.currentValue=r,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,r){Object.is(r,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=r,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,r){t instanceof Map?t.forEach(r):Object.keys(t).forEach(n=>r(t[n],n))}}class uR{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function h_(){return new Fd([new c_])}let Fd=(()=>{var e;class t{constructor(n){this.factories=n}static create(n,i){if(null!=i){const o=i.factories.slice();n=n.concat(o)}return new t(n)}static extend(n){return{provide:t,useFactory:i=>t.create(n,i||h_()),deps:[[t,new Su,new Iu]]}}find(n){const i=this.factories.find(o=>o.supports(n));if(null!=i)return i;throw new X(901,!1)}}return(e=t).\u0275prov=me({token:e,providedIn:"root",factory:h_}),t})();function p_(){return new rc([new f_])}let rc=(()=>{var e;class t{constructor(n){this.factories=n}static create(n,i){if(i){const o=i.factories.slice();n=n.concat(o)}return new t(n)}static extend(n){return{provide:t,useFactory:i=>t.create(n,i||p_()),deps:[[t,new Su,new Iu]]}}find(n){const i=this.factories.find(o=>o.supports(n));if(i)return i;throw new X(901,!1)}}return(e=t).\u0275prov=me({token:e,providedIn:"root",factory:p_}),t})();const hR=Qw(null,"core",[]);let pR=(()=>{var e;class t{constructor(n){}}return(e=t).\u0275fac=function(n){return new(n||e)(se(Da))},e.\u0275mod=Nr({type:e}),e.\u0275inj=jn({}),t})();function ba(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}let Tg=null;function wo(){return Tg}class SR{}const _r=new de("DocumentToken");let Mg=(()=>{var e;class t{historyGo(n){throw new Error("Not implemented")}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:function(){return ie(MR)},providedIn:"platform"}),t})();const TR=new de("Location Initialized");let MR=(()=>{var e;class t extends Mg{constructor(){super(),this._doc=ie(_r),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return wo().getBaseHref(this._doc)}onPopState(n){const i=wo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){const i=wo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,o){this._history.pushState(n,i,o)}replaceState(n,i,o){this._history.replaceState(n,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:function(){return new e},providedIn:"platform"}),t})();function Ng(e,t){if(0==e.length)return t;if(0==t.length)return e;let r=0;return e.endsWith("/")&&r++,t.startsWith("/")&&r++,2==r?e+t.substring(1):1==r?e+t:e+"/"+t}function x_(e){const t=e.match(/#|\?|$/),r=t&&t.index||e.length;return e.slice(0,r-("/"===e[r-1]?1:0))+e.slice(r)}function Wi(e){return e&&"?"!==e[0]?"?"+e:e}let cs=(()=>{var e;class t{historyGo(n){throw new Error("Not implemented")}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:function(){return ie(D_)},providedIn:"root"}),t})();const A_=new de("appBaseHref");let D_=(()=>{var e;class t extends cs{constructor(n,i){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??ie(_r).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Ng(this._baseHref,n)}path(n=!1){const i=this._platformLocation.pathname+Wi(this._platformLocation.search),o=this._platformLocation.hash;return o&&n?`${i}${o}`:i}pushState(n,i,o,c){const f=this.prepareExternalUrl(o+Wi(c));this._platformLocation.pushState(n,i,f)}replaceState(n,i,o,c){const f=this.prepareExternalUrl(o+Wi(c));this._platformLocation.replaceState(n,i,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(se(Mg),se(A_,8))},e.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),NR=(()=>{var e;class t extends cs{constructor(n,i){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(n){const i=Ng(this._baseHref,n);return i.length>0?"#"+i:i}pushState(n,i,o,c){let f=this.prepareExternalUrl(o+Wi(c));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(n,i,f)}replaceState(n,i,o,c){let f=this.prepareExternalUrl(o+Wi(c));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(n,i,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(se(Mg),se(A_,8))},e.\u0275prov=me({token:e,factory:e.\u0275fac}),t})(),Rg=(()=>{var e;class t{constructor(n){this._subject=new Gt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const i=this._locationStrategy.getBaseHref();this._basePath=function PR(e){if(new RegExp("^(https?:)?//").test(e)){const[,r]=e.split(/\/\/[^\/]+/);return r}return e}(x_(b_(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+Wi(i))}normalize(n){return t.stripTrailingSlash(function OR(e,t){if(!e||!t.startsWith(e))return t;const r=t.substring(e.length);return""===r||["/",";","?","#"].includes(r[0])?r:t}(this._basePath,b_(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",o=null){this._locationStrategy.pushState(o,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Wi(i)),o)}replaceState(n,i="",o=null){this._locationStrategy.replaceState(o,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Wi(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(o=>o(n,i))}subscribe(n,i,o){return this._subject.subscribe({next:n,error:i,complete:o})}}return(e=t).normalizeQueryParams=Wi,e.joinWithSlash=Ng,e.stripTrailingSlash=x_,e.\u0275fac=function(n){return new(n||e)(se(cs))},e.\u0275prov=me({token:e,factory:function(){return function RR(){return new Rg(se(cs))}()},providedIn:"root"}),t})();function b_(e){return e.replace(/\/index.html$/,"")}var Qn=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(Qn||{}),bt=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(bt||{}),Er=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(Er||{}),Zt=function(e){return e[e.Decimal=0]="Decimal",e[e.Group=1]="Group",e[e.List=2]="List",e[e.PercentSign=3]="PercentSign",e[e.PlusSign=4]="PlusSign",e[e.MinusSign=5]="MinusSign",e[e.Exponential=6]="Exponential",e[e.SuperscriptingExponent=7]="SuperscriptingExponent",e[e.PerMille=8]="PerMille",e[e.Infinity=9]="Infinity",e[e.NaN=10]="NaN",e[e.TimeSeparator=11]="TimeSeparator",e[e.CurrencyDecimal=12]="CurrencyDecimal",e[e.CurrencyGroup=13]="CurrencyGroup",e}(Zt||{});function Bd(e,t){return Lr(Xn(e)[Tt.DateFormat],t)}function Vd(e,t){return Lr(Xn(e)[Tt.TimeFormat],t)}function Ud(e,t){return Lr(Xn(e)[Tt.DateTimeFormat],t)}function Fr(e,t){const r=Xn(e),n=r[Tt.NumberSymbols][t];if(typeof n>"u"){if(t===Zt.CurrencyDecimal)return r[Tt.NumberSymbols][Zt.Decimal];if(t===Zt.CurrencyGroup)return r[Tt.NumberSymbols][Zt.Group]}return n}function S_(e){if(!e[Tt.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[Tt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Lr(e,t){for(let r=t;r>-1;r--)if(typeof e[r]<"u")return e[r];throw new Error("Locale data API: locale data undefined")}function Pg(e){const[t,r]=e.split(":");return{hours:+t,minutes:+r}}const YR=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ic={},XR=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var $i=function(e){return e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended",e}($i||{}),lt=function(e){return e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.FractionalSeconds=6]="FractionalSeconds",e[e.Day=7]="Day",e}(lt||{}),ct=function(e){return e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras",e}(ct||{});function ZR(e,t,r,n){let i=function oO(e){if(N_(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){const[i,o=1,c=1]=e.split("-").map(f=>+f);return jd(i,o-1,c)}const r=parseFloat(e);if(!isNaN(e-r))return new Date(r);let n;if(n=e.match(YR))return function sO(e){const t=new Date(0);let r=0,n=0;const i=e[8]?t.setUTCFullYear:t.setFullYear,o=e[8]?t.setUTCHours:t.setHours;e[9]&&(r=Number(e[9]+e[10]),n=Number(e[9]+e[11])),i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));const c=Number(e[4]||0)-r,f=Number(e[5]||0)-n,m=Number(e[6]||0),g=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return o.call(t,c,f,m,g),t}(n)}const t=new Date(e);if(!N_(t))throw new Error(`Unable to convert "${e}" into a date`);return t}(e);t=qi(r,t)||t;let f,c=[];for(;t;){if(f=XR.exec(t),!f){c.push(t);break}{c=c.concat(f.slice(1));const w=c.pop();if(!w)break;t=w}}let m=i.getTimezoneOffset();n&&(m=M_(n,m),i=function iO(e,t,r){const n=r?-1:1,i=e.getTimezoneOffset();return function rO(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,n*(M_(t,i)-i))}(i,n,!0));let g="";return c.forEach(w=>{const E=function nO(e){if(Lg[e])return Lg[e];let t;switch(e){case"G":case"GG":case"GGG":t=Mt(ct.Eras,bt.Abbreviated);break;case"GGGG":t=Mt(ct.Eras,bt.Wide);break;case"GGGGG":t=Mt(ct.Eras,bt.Narrow);break;case"y":t=on(lt.FullYear,1,0,!1,!0);break;case"yy":t=on(lt.FullYear,2,0,!0,!0);break;case"yyy":t=on(lt.FullYear,3,0,!1,!0);break;case"yyyy":t=on(lt.FullYear,4,0,!1,!0);break;case"Y":t=Wd(1);break;case"YY":t=Wd(2,!0);break;case"YYY":t=Wd(3);break;case"YYYY":t=Wd(4);break;case"M":case"L":t=on(lt.Month,1,1);break;case"MM":case"LL":t=on(lt.Month,2,1);break;case"MMM":t=Mt(ct.Months,bt.Abbreviated);break;case"MMMM":t=Mt(ct.Months,bt.Wide);break;case"MMMMM":t=Mt(ct.Months,bt.Narrow);break;case"LLL":t=Mt(ct.Months,bt.Abbreviated,Qn.Standalone);break;case"LLLL":t=Mt(ct.Months,bt.Wide,Qn.Standalone);break;case"LLLLL":t=Mt(ct.Months,bt.Narrow,Qn.Standalone);break;case"w":t=Fg(1);break;case"ww":t=Fg(2);break;case"W":t=Fg(1,!0);break;case"d":t=on(lt.Date,1);break;case"dd":t=on(lt.Date,2);break;case"c":case"cc":t=on(lt.Day,1);break;case"ccc":t=Mt(ct.Days,bt.Abbreviated,Qn.Standalone);break;case"cccc":t=Mt(ct.Days,bt.Wide,Qn.Standalone);break;case"ccccc":t=Mt(ct.Days,bt.Narrow,Qn.Standalone);break;case"cccccc":t=Mt(ct.Days,bt.Short,Qn.Standalone);break;case"E":case"EE":case"EEE":t=Mt(ct.Days,bt.Abbreviated);break;case"EEEE":t=Mt(ct.Days,bt.Wide);break;case"EEEEE":t=Mt(ct.Days,bt.Narrow);break;case"EEEEEE":t=Mt(ct.Days,bt.Short);break;case"a":case"aa":case"aaa":t=Mt(ct.DayPeriods,bt.Abbreviated);break;case"aaaa":t=Mt(ct.DayPeriods,bt.Wide);break;case"aaaaa":t=Mt(ct.DayPeriods,bt.Narrow);break;case"b":case"bb":case"bbb":t=Mt(ct.DayPeriods,bt.Abbreviated,Qn.Standalone,!0);break;case"bbbb":t=Mt(ct.DayPeriods,bt.Wide,Qn.Standalone,!0);break;case"bbbbb":t=Mt(ct.DayPeriods,bt.Narrow,Qn.Standalone,!0);break;case"B":case"BB":case"BBB":t=Mt(ct.DayPeriods,bt.Abbreviated,Qn.Format,!0);break;case"BBBB":t=Mt(ct.DayPeriods,bt.Wide,Qn.Format,!0);break;case"BBBBB":t=Mt(ct.DayPeriods,bt.Narrow,Qn.Format,!0);break;case"h":t=on(lt.Hours,1,-12);break;case"hh":t=on(lt.Hours,2,-12);break;case"H":t=on(lt.Hours,1);break;case"HH":t=on(lt.Hours,2);break;case"m":t=on(lt.Minutes,1);break;case"mm":t=on(lt.Minutes,2);break;case"s":t=on(lt.Seconds,1);break;case"ss":t=on(lt.Seconds,2);break;case"S":t=on(lt.FractionalSeconds,1);break;case"SS":t=on(lt.FractionalSeconds,2);break;case"SSS":t=on(lt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=zd($i.Short);break;case"ZZZZZ":t=zd($i.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=zd($i.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=zd($i.Long);break;default:return null}return Lg[e]=t,t}(w);g+=E?E(i,r,m):"''"===w?"'":w.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),g}function jd(e,t,r){const n=new Date(0);return n.setFullYear(e,t,r),n.setHours(0,0,0),n}function qi(e,t){const r=function LR(e){return Xn(e)[Tt.LocaleId]}(e);if(ic[r]=ic[r]||{},ic[r][t])return ic[r][t];let n="";switch(t){case"shortDate":n=Bd(e,Er.Short);break;case"mediumDate":n=Bd(e,Er.Medium);break;case"longDate":n=Bd(e,Er.Long);break;case"fullDate":n=Bd(e,Er.Full);break;case"shortTime":n=Vd(e,Er.Short);break;case"mediumTime":n=Vd(e,Er.Medium);break;case"longTime":n=Vd(e,Er.Long);break;case"fullTime":n=Vd(e,Er.Full);break;case"short":const i=qi(e,"shortTime"),o=qi(e,"shortDate");n=Hd(Ud(e,Er.Short),[i,o]);break;case"medium":const c=qi(e,"mediumTime"),f=qi(e,"mediumDate");n=Hd(Ud(e,Er.Medium),[c,f]);break;case"long":const m=qi(e,"longTime"),g=qi(e,"longDate");n=Hd(Ud(e,Er.Long),[m,g]);break;case"full":const w=qi(e,"fullTime"),E=qi(e,"fullDate");n=Hd(Ud(e,Er.Full),[w,E])}return n&&(ic[r][t]=n),n}function Hd(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(r,n){return null!=t&&n in t?t[n]:r})),e}function Zr(e,t,r="-",n,i){let o="";(e<0||i&&e<=0)&&(i?e=1-e:(e=-e,o=r));let c=String(e);for(;c.length<t;)c="0"+c;return n&&(c=c.slice(c.length-t)),o+c}function on(e,t,r=0,n=!1,i=!1){return function(o,c){let f=function KR(e,t){switch(e){case lt.FullYear:return t.getFullYear();case lt.Month:return t.getMonth();case lt.Date:return t.getDate();case lt.Hours:return t.getHours();case lt.Minutes:return t.getMinutes();case lt.Seconds:return t.getSeconds();case lt.FractionalSeconds:return t.getMilliseconds();case lt.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,o);if((r>0||f>-r)&&(f+=r),e===lt.Hours)0===f&&-12===r&&(f=12);else if(e===lt.FractionalSeconds)return function QR(e,t){return Zr(e,3).substring(0,t)}(f,t);const m=Fr(c,Zt.MinusSign);return Zr(f,t,m,n,i)}}function Mt(e,t,r=Qn.Format,n=!1){return function(i,o){return function JR(e,t,r,n,i,o){switch(r){case ct.Months:return function VR(e,t,r){const n=Xn(e),o=Lr([n[Tt.MonthsFormat],n[Tt.MonthsStandalone]],t);return Lr(o,r)}(t,i,n)[e.getMonth()];case ct.Days:return function BR(e,t,r){const n=Xn(e),o=Lr([n[Tt.DaysFormat],n[Tt.DaysStandalone]],t);return Lr(o,r)}(t,i,n)[e.getDay()];case ct.DayPeriods:const c=e.getHours(),f=e.getMinutes();if(o){const g=function zR(e){const t=Xn(e);return S_(t),(t[Tt.ExtraData][2]||[]).map(n=>"string"==typeof n?Pg(n):[Pg(n[0]),Pg(n[1])])}(t),w=function GR(e,t,r){const n=Xn(e);S_(n);const o=Lr([n[Tt.ExtraData][0],n[Tt.ExtraData][1]],t)||[];return Lr(o,r)||[]}(t,i,n),E=g.findIndex(D=>{if(Array.isArray(D)){const[I,P]=D,F=c>=I.hours&&f>=I.minutes,k=c<P.hours||c===P.hours&&f<P.minutes;if(I.hours<P.hours){if(F&&k)return!0}else if(F||k)return!0}else if(D.hours===c&&D.minutes===f)return!0;return!1});if(-1!==E)return w[E]}return function kR(e,t,r){const n=Xn(e),o=Lr([n[Tt.DayPeriodsFormat],n[Tt.DayPeriodsStandalone]],t);return Lr(o,r)}(t,i,n)[c<12?0:1];case ct.Eras:return function UR(e,t){return Lr(Xn(e)[Tt.Eras],t)}(t,n)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${r}`)}}(i,o,e,t,r,n)}}function zd(e){return function(t,r,n){const i=-1*n,o=Fr(r,Zt.MinusSign),c=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case $i.Short:return(i>=0?"+":"")+Zr(c,2,o)+Zr(Math.abs(i%60),2,o);case $i.ShortGMT:return"GMT"+(i>=0?"+":"")+Zr(c,1,o);case $i.Long:return"GMT"+(i>=0?"+":"")+Zr(c,2,o)+":"+Zr(Math.abs(i%60),2,o);case $i.Extended:return 0===n?"Z":(i>=0?"+":"")+Zr(c,2,o)+":"+Zr(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${e}"`)}}}const eO=0,Gd=4;function T_(e){return jd(e.getFullYear(),e.getMonth(),e.getDate()+(Gd-e.getDay()))}function Fg(e,t=!1){return function(r,n){let i;if(t){const o=new Date(r.getFullYear(),r.getMonth(),1).getDay()-1,c=r.getDate();i=1+Math.floor((c+o)/7)}else{const o=T_(r),c=function tO(e){const t=jd(e,eO,1).getDay();return jd(e,0,1+(t<=Gd?Gd:Gd+7)-t)}(o.getFullYear()),f=o.getTime()-c.getTime();i=1+Math.round(f/6048e5)}return Zr(i,e,Fr(n,Zt.MinusSign))}}function Wd(e,t=!1){return function(r,n){return Zr(T_(r).getFullYear(),e,Fr(n,Zt.MinusSign),t)}}const Lg={};function M_(e,t){e=e.replace(/:/g,"");const r=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(r)?t:r}function N_(e){return e instanceof Date&&!isNaN(e.valueOf())}function F_(e,t){t=encodeURIComponent(t);for(const r of e.split(";")){const n=r.indexOf("="),[i,o]=-1==n?[r,""]:[r.slice(0,n),r.slice(n+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}const Hg=/\s+/,L_=[];let qd=(()=>{var e;class t{constructor(n,i,o,c){this._iterableDiffers=n,this._keyValueDiffers=i,this._ngEl=o,this._renderer=c,this.initialClasses=L_,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(Hg):L_}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(Hg):n}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const i of n)this._updateState(i,!0);else if(null!=n)for(const i of Object.keys(n))this._updateState(i,!!n[i]);this._applyStateDiff()}_updateState(n,i){const o=this.stateMap.get(n);void 0!==o?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(n,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const i=n[0],o=n[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(n,i){(n=n.trim()).length>0&&n.split(Hg).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}}return(e=t).\u0275fac=function(n){return new(n||e)(z(Fd),z(rc),z(Cr),z(Vi))},e.\u0275dir=Te({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),t})();class wO{constructor(t,r,n,i){this.$implicit=t,this.ngForOf=r,this.index=n,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Yd=(()=>{var e;class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,i,o){this._viewContainer=n,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const i=this._viewContainer;n.forEachOperation((o,c,f)=>{if(null==o.previousIndex)i.createEmbeddedView(this._template,new wO(o.item,this._ngForOf,-1,-1),null===f?void 0:f);else if(null==f)i.remove(null===c?void 0:c);else if(null!==c){const m=i.get(c);i.move(m,f),B_(m,o)}});for(let o=0,c=i.length;o<c;o++){const m=i.get(o).context;m.index=o,m.count=c,m.ngForOf=this._ngForOf}n.forEachIdentityChange(o=>{B_(i.get(o.currentIndex),o)})}static ngTemplateContextGuard(n,i){return!0}}return(e=t).\u0275fac=function(n){return new(n||e)(z(Xr),z(zi),z(Fd))},e.\u0275dir=Te({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function B_(e,t){e.context.$implicit=t.item}let Yi=(()=>{var e;class t{constructor(n,i){this._viewContainer=n,this._context=new _O,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){V_("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){V_("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,i){return!0}}return(e=t).\u0275fac=function(n){return new(n||e)(z(Xr),z(zi))},e.\u0275dir=Te({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class _O{constructor(){this.$implicit=null,this.ngIf=null}}function V_(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${We(t)}'.`)}const PO=new de("DATE_PIPE_DEFAULT_TIMEZONE"),FO=new de("DATE_PIPE_DEFAULT_OPTIONS");let Xd=(()=>{var e;class t{constructor(n,i,o){this.locale=n,this.defaultTimezone=i,this.defaultOptions=o}transform(n,i,o,c){if(null==n||""===n||n!=n)return null;try{return ZR(n,i??this.defaultOptions?.dateFormat??"mediumDate",c||this.locale,o??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(f){throw function Qr(e,t){return new X(2100,!1)}()}}}return(e=t).\u0275fac=function(n){return new(n||e)(z(Gi,16),z(PO,24),z(FO,24))},e.\u0275pipe=tr({name:"date",type:e,pure:!0,standalone:!0}),t})(),Zd=(()=>{var e;class t{constructor(n){this.differs=n,this.keyValues=[],this.compareFn=j_}transform(n,i=j_){if(!n||!(n instanceof Map)&&"object"!=typeof n)return null;this.differ||(this.differ=this.differs.find(n).create());const o=this.differ.diff(n),c=i!==this.compareFn;return o&&(this.keyValues=[],o.forEachItem(f=>{this.keyValues.push(function UO(e,t){return{key:e,value:t}}(f.key,f.currentValue))})),(o||c)&&(this.keyValues.sort(i),this.compareFn=i),this.keyValues}}return(e=t).\u0275fac=function(n){return new(n||e)(z(rc,16))},e.\u0275pipe=tr({name:"keyvalue",type:e,pure:!1,standalone:!0}),t})();function j_(e,t){const r=e.key,n=t.key;if(r===n)return 0;if(void 0===r)return 1;if(void 0===n)return-1;if(null===r)return 1;if(null===n)return-1;if("string"==typeof r&&"string"==typeof n)return r<n?-1:1;if("number"==typeof r&&"number"==typeof n)return r-n;if("boolean"==typeof r&&"boolean"==typeof n)return r<n?-1:1;const i=String(r),o=String(n);return i==o?0:i<o?-1:1}let GO=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Nr({type:e}),e.\u0275inj=jn({}),t})();function z_(e){return"server"===e}let YO=(()=>{var e;class t{}return(e=t).\u0275prov=me({token:e,providedIn:"root",factory:()=>new XO(se(_r),window)}),t})();class XO{constructor(t,r){this.document=t,this.window=r,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const r=function ZO(e,t){const r=e.getElementById(t)||e.getElementsByName(t)[0];if(r)return r;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=n.currentNode;for(;i;){const o=i.shadowRoot;if(o){const c=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(c)return c}i=n.nextNode()}}return null}(this.document,t);r&&(this.scrollToElement(r),r.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const r=t.getBoundingClientRect(),n=r.left+this.window.pageXOffset,i=r.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(n-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class G_{}class v4 extends SR{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Xg extends v4{static makeCurrent(){!function IR(e){Tg||(Tg=e)}(new Xg)}onAndCancel(t,r,n){return t.addEventListener(r,n),()=>{t.removeEventListener(r,n)}}dispatchEvent(t,r){t.dispatchEvent(r)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,r){return(r=r||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,r){return"window"===r?window:"document"===r?t:"body"===r?t.body:null}getBaseHref(t){const r=function w4(){return ac=ac||document.querySelector("base"),ac?ac.getAttribute("href"):null}();return null==r?null:function _4(e){Jd=Jd||document.createElement("a"),Jd.setAttribute("href",e);const t=Jd.pathname;return"/"===t.charAt(0)?t:`/${t}`}(r)}resetBaseElement(){ac=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return F_(document.cookie,t)}}let Jd,ac=null,x4=(()=>{var e;class t{build(){return new XMLHttpRequest}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:e.\u0275fac}),t})();const Zg=new de("EventManagerPlugins");let X_=(()=>{var e;class t{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(o=>{o.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,o){return this._findPluginFor(i).addEventListener(n,i,o)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(c=>c.supports(n)),!i)throw new X(5101,!1);return this._eventNameToPlugin.set(n,i),i}}return(e=t).\u0275fac=function(n){return new(n||e)(se(Zg),se(St))},e.\u0275prov=me({token:e,factory:e.\u0275fac}),t})();class Z_{constructor(t){this._doc=t}}const Qg="ng-app-id";let Q_=(()=>{var e;class t{constructor(n,i,o,c={}){this.doc=n,this.appId=i,this.nonce=o,this.platformId=c,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=z_(c),this.resetHostNodes()}addStyles(n){for(const i of n)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(n){for(const i of n)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(i=>i.remove()),n.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const i of this.getAllStyles())this.addStyleToHost(n,i)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const i of this.hostNodes)this.addStyleToHost(i,n)}onStyleRemoved(n){const i=this.styleRef;i.get(n)?.elements?.forEach(o=>o.remove()),i.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${Qg}="${this.appId}"]`);if(n?.length){const i=new Map;return n.forEach(o=>{null!=o.textContent&&i.set(o.textContent,o)}),i}return null}changeUsageCount(n,i){const o=this.styleRef;if(o.has(n)){const c=o.get(n);return c.usage+=i,c.usage}return o.set(n,{usage:i,elements:[]}),i}getStyleElement(n,i){const o=this.styleNodesInDOM,c=o?.get(i);if(c?.parentNode===n)return o.delete(i),c.removeAttribute(Qg),c;{const f=this.doc.createElement("style");return this.nonce&&f.setAttribute("nonce",this.nonce),f.textContent=i,this.platformIsServer&&f.setAttribute(Qg,this.appId),f}}addStyleToHost(n,i){const o=this.getStyleElement(n,i);n.appendChild(o);const c=this.styleRef,f=c.get(i)?.elements;f?f.push(o):c.set(i,{elements:[o],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return(e=t).\u0275fac=function(n){return new(n||e)(se(_r),se(Yu),se(ly,8),se(ts))},e.\u0275prov=me({token:e,factory:e.\u0275fac}),t})();const Kg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Jg=/%COMP%/g,I4=new de("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function J_(e,t){return t.map(r=>r.replace(Jg,e))}let eE=(()=>{var e;class t{constructor(n,i,o,c,f,m,g,w=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=c,this.doc=f,this.platformId=m,this.ngZone=g,this.nonce=w,this.rendererByCompId=new Map,this.platformIsServer=z_(m),this.defaultRenderer=new e1(n,f,g,this.platformIsServer)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Me.ShadowDom&&(i={...i,encapsulation:Me.Emulated});const o=this.getOrCreateRenderer(n,i);return o instanceof nE?o.applyToHost(n):o instanceof t1&&o.applyStyles(),o}getOrCreateRenderer(n,i){const o=this.rendererByCompId;let c=o.get(i.id);if(!c){const f=this.doc,m=this.ngZone,g=this.eventManager,w=this.sharedStylesHost,E=this.removeStylesOnCompDestroy,D=this.platformIsServer;switch(i.encapsulation){case Me.Emulated:c=new nE(g,w,i,this.appId,E,f,m,D);break;case Me.ShadowDom:return new N4(g,w,n,i,f,m,this.nonce,D);default:c=new t1(g,w,i,E,f,m,D)}o.set(i.id,c)}return c}ngOnDestroy(){this.rendererByCompId.clear()}}return(e=t).\u0275fac=function(n){return new(n||e)(se(X_),se(Q_),se(Yu),se(I4),se(_r),se(ts),se(St),se(ly))},e.\u0275prov=me({token:e,factory:e.\u0275fac}),t})();class e1{constructor(t,r,n,i){this.eventManager=t,this.doc=r,this.ngZone=n,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,r){return r?this.doc.createElementNS(Kg[r]||r,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,r){(tE(t)?t.content:t).appendChild(r)}insertBefore(t,r,n){t&&(tE(t)?t.content:t).insertBefore(r,n)}removeChild(t,r){t&&t.removeChild(r)}selectRootElement(t,r){let n="string"==typeof t?this.doc.querySelector(t):t;if(!n)throw new X(-5104,!1);return r||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,r,n,i){if(i){r=i+":"+r;const o=Kg[i];o?t.setAttributeNS(o,r,n):t.setAttribute(r,n)}else t.setAttribute(r,n)}removeAttribute(t,r,n){if(n){const i=Kg[n];i?t.removeAttributeNS(i,r):t.removeAttribute(`${n}:${r}`)}else t.removeAttribute(r)}addClass(t,r){t.classList.add(r)}removeClass(t,r){t.classList.remove(r)}setStyle(t,r,n,i){i&(po.DashCase|po.Important)?t.style.setProperty(r,n,i&po.Important?"important":""):t.style[r]=n}removeStyle(t,r,n){n&po.DashCase?t.style.removeProperty(r):t.style[r]=""}setProperty(t,r,n){t[r]=n}setValue(t,r){t.nodeValue=r}listen(t,r,n){if("string"==typeof t&&!(t=wo().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${r}`);return this.eventManager.addEventListener(t,r,this.decoratePreventDefault(n))}decoratePreventDefault(t){return r=>{if("__ngUnwrap__"===r)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(r)):t(r))&&r.preventDefault()}}}function tE(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class N4 extends e1{constructor(t,r,n,i,o,c,f,m){super(t,o,c,m),this.sharedStylesHost=r,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const g=J_(i.id,i.styles);for(const w of g){const E=document.createElement("style");f&&E.setAttribute("nonce",f),E.textContent=w,this.shadowRoot.appendChild(E)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,r){return super.appendChild(this.nodeOrShadowRoot(t),r)}insertBefore(t,r,n){return super.insertBefore(this.nodeOrShadowRoot(t),r,n)}removeChild(t,r){return super.removeChild(this.nodeOrShadowRoot(t),r)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class t1 extends e1{constructor(t,r,n,i,o,c,f,m){super(t,o,c,f),this.sharedStylesHost=r,this.removeStylesOnCompDestroy=i,this.styles=m?J_(m,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class nE extends t1{constructor(t,r,n,i,o,c,f,m){const g=i+"-"+n.id;super(t,r,n,o,c,f,m,g),this.contentAttr=function S4(e){return"_ngcontent-%COMP%".replace(Jg,e)}(g),this.hostAttr=function T4(e){return"_nghost-%COMP%".replace(Jg,e)}(g)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,r){const n=super.createElement(t,r);return super.setAttribute(n,this.contentAttr,""),n}}let R4=(()=>{var e;class t extends Z_{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,o){return n.addEventListener(i,o,!1),()=>this.removeEventListener(n,i,o)}removeEventListener(n,i,o){return n.removeEventListener(i,o)}}return(e=t).\u0275fac=function(n){return new(n||e)(se(_r))},e.\u0275prov=me({token:e,factory:e.\u0275fac}),t})();const rE=["alt","control","meta","shift"],O4={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},P4={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let F4=(()=>{var e;class t extends Z_{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,i,o){const c=t.parseEventName(i),f=t.eventCallback(c.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>wo().onAndCancel(n,c.domEventName,f))}static parseEventName(n){const i=n.toLowerCase().split("."),o=i.shift();if(0===i.length||"keydown"!==o&&"keyup"!==o)return null;const c=t._normalizeKey(i.pop());let f="",m=i.indexOf("code");if(m>-1&&(i.splice(m,1),f="code."),rE.forEach(w=>{const E=i.indexOf(w);E>-1&&(i.splice(E,1),f+=w+".")}),f+=c,0!=i.length||0===c.length)return null;const g={};return g.domEventName=o,g.fullKey=f,g}static matchEventFullKeyCode(n,i){let o=O4[n.key]||n.key,c="";return i.indexOf("code.")>-1&&(o=n.code,c="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),rE.forEach(f=>{f!==o&&(0,P4[f])(n)&&(c+=f+".")}),c+=o,c===i)}static eventCallback(n,i,o){return c=>{t.matchEventFullKeyCode(c,n)&&o.runGuarded(()=>i(c))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return(e=t).\u0275fac=function(n){return new(n||e)(se(_r))},e.\u0275prov=me({token:e,factory:e.\u0275fac}),t})();const oE=[{provide:ts,useValue:"browser"},{provide:ay,useValue:function L4(){Xg.makeCurrent()},multi:!0},{provide:_r,useFactory:function B4(){return function Ab(e){Hh=e}(document),document},deps:[]}],V4=Qw(hR,"browser",oE),U4=new de(""),sE=[{provide:Md,useClass:class E4{addToWindow(t){at.getAngularTestability=(n,i=!0)=>{const o=t.findTestabilityInTree(n,i);if(null==o)throw new X(5103,!1);return o},at.getAllAngularTestabilities=()=>t.getAllTestabilities(),at.getAllAngularRootElements=()=>t.getAllRootElements(),at.frameworkStabilizers||(at.frameworkStabilizers=[]),at.frameworkStabilizers.push(n=>{const i=at.getAllAngularTestabilities();let o=i.length,c=!1;const f=function(m){c=c||m,o--,0==o&&n(c)};i.forEach(m=>{m.whenStable(f)})})}findTestabilityInTree(t,r,n){return null==r?null:t.getTestability(r)??(n?wo().isShadowRoot(r)?this.findTestabilityInTree(t,r.host,!0):this.findTestabilityInTree(t,r.parentElement,!0):null)}},deps:[]},{provide:$w,useClass:Cg,deps:[St,vg,Md]},{provide:Cg,useClass:Cg,deps:[St,vg,Md]}],aE=[{provide:Kh,useValue:"root"},{provide:ns,useFactory:function k4(){return new ns},deps:[]},{provide:Zg,useClass:R4,multi:!0,deps:[_r,St,ts]},{provide:Zg,useClass:F4,multi:!0,deps:[_r]},eE,Q_,X_,{provide:py,useExisting:eE},{provide:G_,useClass:x4,deps:[]},[]];let j4=(()=>{var e;class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Yu,useValue:n.appId}]}}}return(e=t).\u0275fac=function(n){return new(n||e)(se(U4,12))},e.\u0275mod=Nr({type:e}),e.\u0275inj=jn({providers:[...aE,...sE],imports:[GO,pR]}),t})(),lE=(()=>{var e;class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return(e=t).\u0275fac=function(n){return new(n||e)(se(_r))},e.\u0275prov=me({token:e,factory:function(n){let i=null;return i=n?new n:function z4(){return new lE(se(_r))}(),i},providedIn:"root"}),t})();typeof window<"u"&&window;const{isArray:Y4}=Array,{getPrototypeOf:X4,prototype:Z4,keys:Q4}=Object;function fE(e){if(1===e.length){const t=e[0];if(Y4(t))return{args:t,keys:null};if(function K4(e){return e&&"object"==typeof e&&X4(e)===Z4}(t)){const r=Q4(t);return{args:r.map(n=>t[n]),keys:r}}}return{args:e,keys:null}}const{isArray:J4}=Array;function hE(e){return ze(t=>function e8(e,t){return J4(t)?e(...t):e(t)}(e,t))}function pE(e,t){return e.reduce((r,n,i)=>(r[n]=t[i],r),{})}function gE(...e){const t=q(e),{args:r,keys:n}=fE(e),i=new dt(o=>{const{length:c}=r;if(!c)return void o.complete();const f=new Array(c);let m=c,g=c;for(let w=0;w<c;w++){let E=!1;en(r[w]).subscribe(He(o,D=>{E||(E=!0,g--),f[w]=D},()=>m--,void 0,()=>{(!m||!E)&&(g||o.next(n?pE(n,f):f),o.complete())}))}});return t?i.pipe(hE(t)):i}let mE=(()=>{var e;class t{constructor(n,i){this._renderer=n,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return(e=t).\u0275fac=function(n){return new(n||e)(z(Vi),z(Cr))},e.\u0275dir=Te({type:e}),t})(),us=(()=>{var e;class t extends mE{}return(e=t).\u0275fac=function(){let r;return function(i){return(r||(r=bn(e)))(i||e)}}(),e.\u0275dir=Te({type:e,features:[Ct]}),t})();const Ei=new de("NgValueAccessor"),n8={provide:Ei,useExisting:ft(()=>Xi),multi:!0},i8=new de("CompositionEventMode");let Xi=(()=>{var e;class t extends mE{constructor(n,i,o){super(n,i),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function r8(){const e=wo()?wo().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(z(Vi),z(Cr),z(i8,8))},e.\u0275dir=Te({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,i){1&n&&st("input",function(c){return i._handleInput(c.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(c){return i._compositionEnd(c.target.value)})},features:[Ft([n8]),Ct]}),t})();function Eo(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function CE(e){return null!=e&&"number"==typeof e.length}const Pn=new de("NgValidators"),xo=new de("NgAsyncValidators"),o8=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class $t{static min(t){return function vE(e){return t=>{if(Eo(t.value)||Eo(e))return null;const r=parseFloat(t.value);return!isNaN(r)&&r<e?{min:{min:e,actual:t.value}}:null}}(t)}static max(t){return function wE(e){return t=>{if(Eo(t.value)||Eo(e))return null;const r=parseFloat(t.value);return!isNaN(r)&&r>e?{max:{max:e,actual:t.value}}:null}}(t)}static required(t){return function _E(e){return Eo(e.value)?{required:!0}:null}(t)}static requiredTrue(t){return function EE(e){return!0===e.value?null:{required:!0}}(t)}static email(t){return function xE(e){return Eo(e.value)||o8.test(e.value)?null:{email:!0}}(t)}static minLength(t){return function AE(e){return t=>Eo(t.value)||!CE(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function DE(e){return t=>CE(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}(t)}static pattern(t){return function bE(e){if(!e)return ef;let t,r;return"string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),t=new RegExp(r)):(r=e.toString(),t=e),n=>{if(Eo(n.value))return null;const i=n.value;return t.test(i)?null:{pattern:{requiredPattern:r,actualValue:i}}}}(t)}static nullValidator(t){return null}static compose(t){return RE(t)}static composeAsync(t){return OE(t)}}function ef(e){return null}function IE(e){return null!=e}function SE(e){return $l(e)?Et(e):e}function TE(e){let t={};return e.forEach(r=>{t=null!=r?{...t,...r}:t}),0===Object.keys(t).length?null:t}function ME(e,t){return t.map(r=>r(e))}function NE(e){return e.map(t=>function s8(e){return!e.validate}(t)?t:r=>t.validate(r))}function RE(e){if(!e)return null;const t=e.filter(IE);return 0==t.length?null:function(r){return TE(ME(r,t))}}function r1(e){return null!=e?RE(NE(e)):null}function OE(e){if(!e)return null;const t=e.filter(IE);return 0==t.length?null:function(r){return gE(ME(r,t).map(SE)).pipe(ze(TE))}}function i1(e){return null!=e?OE(NE(e)):null}function PE(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function FE(e){return e._rawValidators}function LE(e){return e._rawAsyncValidators}function o1(e){return e?Array.isArray(e)?e:[e]:[]}function tf(e,t){return Array.isArray(e)?e.includes(t):e===t}function kE(e,t){const r=o1(t);return o1(e).forEach(i=>{tf(r,i)||r.push(i)}),r}function BE(e,t){return o1(t).filter(r=>!tf(e,r))}class VE{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=r1(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=i1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,r){return!!this.control&&this.control.hasError(t,r)}getError(t,r){return this.control?this.control.getError(t,r):null}}class Kn extends VE{get formDirective(){return null}get path(){return null}}class Ao extends VE{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class UE{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let ds=(()=>{var e;class t extends UE{constructor(n){super(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(z(Ao,2))},e.\u0275dir=Te({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,i){2&n&&gd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Ct]}),t})(),Do=(()=>{var e;class t extends UE{constructor(n){super(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(z(Kn,10))},e.\u0275dir=Te({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,i){2&n&&gd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Ct]}),t})();const lc="VALID",rf="INVALID",Sa="PENDING",cc="DISABLED";function l1(e){return(sf(e)?e.validators:e)||null}function c1(e,t){return(sf(t)?t.asyncValidators:e)||null}function sf(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function HE(e,t,r){const n=e.controls;if(!(t?Object.keys(n):n).length)throw new X(1e3,"");if(!n[r])throw new X(1001,"")}function zE(e,t,r){e._forEachChild((n,i)=>{if(void 0===r[i])throw new X(1002,"")})}class af{constructor(t,r){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(r)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===lc}get invalid(){return this.status===rf}get pending(){return this.status==Sa}get disabled(){return this.status===cc}get enabled(){return this.status!==cc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(kE(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(kE(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(BE(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(BE(t,this._rawAsyncValidators))}hasValidator(t){return tf(this._rawValidators,t)}hasAsyncValidator(t){return tf(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(r=>{r.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Sa,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const r=this._parentMarkedDirty(t.onlySelf);this.status=cc,this.errors=null,this._forEachChild(n=>{n.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:r}),this._onDisabledChange.forEach(n=>n(!0))}enable(t={}){const r=this._parentMarkedDirty(t.onlySelf);this.status=lc,this._forEachChild(n=>{n.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:r}),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===lc||this.status===Sa)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(r=>r._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?cc:lc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Sa,this._hasOwnPendingAsyncValidator=!0;const r=SE(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,r={}){this.errors=t,this._updateControlsErrors(!1!==r.emitEvent)}get(t){let r=t;return null==r||(Array.isArray(r)||(r=r.split(".")),0===r.length)?null:r.reduce((n,i)=>n&&n._find(i),this)}getError(t,r){const n=r?this.get(r):this;return n&&n.errors?n.errors[t]:null}hasError(t,r){return!!this.getError(t,r)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Gt,this.statusChanges=new Gt}_calculateStatus(){return this._allControlsDisabled()?cc:this.errors?rf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Sa)?Sa:this._anyControlsHaveStatus(rf)?rf:lc}_anyControlsHaveStatus(t){return this._anyControls(r=>r.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){sf(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function u8(e){return Array.isArray(e)?r1(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function d8(e){return Array.isArray(e)?i1(e):e||null}(this._rawAsyncValidators)}}class uc extends af{constructor(t,r,n){super(l1(r),c1(n,r)),this.controls=t,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,r){return this.controls[t]?this.controls[t]:(this.controls[t]=r,r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange),r)}addControl(t,r,n={}){this.registerControl(t,r),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}setControl(t,r,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],r&&this.registerControl(t,r),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,r={}){zE(this,0,t),Object.keys(t).forEach(n=>{HE(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(t,r={}){null!=t&&(Object.keys(t).forEach(n=>{const i=this.controls[n];i&&i.patchValue(t[n],{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(t={},r={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this._reduceChildren({},(t,r,n)=>(t[n]=r.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(r,n)=>!!n._syncPendingControls()||r);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(r=>{const n=this.controls[r];n&&t(n,r)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[r,n]of Object.entries(this.controls))if(this.contains(r)&&t(n))return!0;return!1}_reduceValue(){return this._reduceChildren({},(r,n,i)=>((n.enabled||this.disabled)&&(r[i]=n.value),r))}_reduceChildren(t,r){let n=t;return this._forEachChild((i,o)=>{n=r(n,i,o)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class GE extends uc{}const fs=new de("CallSetDisabledState",{providedIn:"root",factory:()=>dc}),dc="always";function lf(e,t){return[...t.path,e]}function fc(e,t,r=dc){u1(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===r)&&t.valueAccessor.setDisabledState?.(e.disabled),function h8(e,t){t.valueAccessor.registerOnChange(r=>{e._pendingValue=r,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&WE(e,t)})}(e,t),function g8(e,t){const r=(n,i)=>{t.valueAccessor.writeValue(n),i&&t.viewToModelUpdate(n)};e.registerOnChange(r),t._registerOnDestroy(()=>{e._unregisterOnChange(r)})}(e,t),function p8(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&WE(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function f8(e,t){if(t.valueAccessor.setDisabledState){const r=n=>{t.valueAccessor.setDisabledState(n)};e.registerOnDisabledChange(r),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(r)})}}(e,t)}function cf(e,t,r=!0){const n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),df(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function uf(e,t){e.forEach(r=>{r.registerOnValidatorChange&&r.registerOnValidatorChange(t)})}function u1(e,t){const r=FE(e);null!==t.validator?e.setValidators(PE(r,t.validator)):"function"==typeof r&&e.setValidators([r]);const n=LE(e);null!==t.asyncValidator?e.setAsyncValidators(PE(n,t.asyncValidator)):"function"==typeof n&&e.setAsyncValidators([n]);const i=()=>e.updateValueAndValidity();uf(t._rawValidators,i),uf(t._rawAsyncValidators,i)}function df(e,t){let r=!1;if(null!==e){if(null!==t.validator){const i=FE(e);if(Array.isArray(i)&&i.length>0){const o=i.filter(c=>c!==t.validator);o.length!==i.length&&(r=!0,e.setValidators(o))}}if(null!==t.asyncValidator){const i=LE(e);if(Array.isArray(i)&&i.length>0){const o=i.filter(c=>c!==t.asyncValidator);o.length!==i.length&&(r=!0,e.setAsyncValidators(o))}}}const n=()=>{};return uf(t._rawValidators,n),uf(t._rawAsyncValidators,n),r}function WE(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function $E(e,t){u1(e,t)}function f1(e,t){if(!e.hasOwnProperty("model"))return!1;const r=e.model;return!!r.isFirstChange()||!Object.is(t,r.currentValue)}function qE(e,t){e._syncPendingControls(),t.forEach(r=>{const n=r.control;"submit"===n.updateOn&&n._pendingChange&&(r.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function h1(e,t){if(!t)return null;let r,n,i;return Array.isArray(t),t.forEach(o=>{o.constructor===Xi?r=o:function C8(e){return Object.getPrototypeOf(e.constructor)===us}(o)?n=o:i=o}),i||n||r||null}const w8={provide:Kn,useExisting:ft(()=>Ta)},hc=(()=>Promise.resolve())();let Ta=(()=>{var e;class t extends Kn{constructor(n,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Gt,this.form=new uc({},r1(n),i1(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){hc.then(()=>{const i=this._findContainer(n.path);n.control=i.registerControl(n.name,n.control),fc(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){hc.then(()=>{const i=this._findContainer(n.path);i&&i.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){hc.then(()=>{const i=this._findContainer(n.path),o=new uc({});$E(o,n),i.registerControl(n.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){hc.then(()=>{const i=this._findContainer(n.path);i&&i.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,i){hc.then(()=>{this.form.get(n.path).setValue(i)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submitted=!0,qE(this.form,this._directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}}return(e=t).\u0275fac=function(n){return new(n||e)(z(Pn,10),z(xo,10),z(fs,8))},e.\u0275dir=Te({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(n,i){1&n&&st("submit",function(c){return i.onSubmit(c)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ft([w8]),Ct]}),t})();function YE(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}function XE(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const pc=class extends af{constructor(t=null,r,n){super(l1(r),c1(n,r)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(r),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),sf(r)&&(r.nonNullable||r.initialValueIsDefault)&&(this.defaultValue=XE(t)?t.value:t)}setValue(t,r={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==r.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==r.emitViewToModelChange)),this.updateValueAndValidity(r)}patchValue(t,r={}){this.setValue(t,r)}reset(t=this.defaultValue,r={}){this._applyFormState(t),this.markAsPristine(r),this.markAsUntouched(r),this.setValue(this.value,r),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){YE(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){YE(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){XE(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},x8={provide:Ao,useExisting:ft(()=>ff)},KE=(()=>Promise.resolve())();let ff=(()=>{var e;class t extends Ao{constructor(n,i,o,c,f,m){super(),this._changeDetectorRef=f,this.callSetDisabledState=m,this.control=new pc,this._registered=!1,this.name="",this.update=new Gt,this._parent=n,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=h1(0,c)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const i=n.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),f1(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){fc(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){KE.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const i=n.isDisabled.currentValue,o=0!==i&&ba(i);KE.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?lf(n,this._parent):[n]}}return(e=t).\u0275fac=function(n){return new(n||e)(z(Kn,9),z(Pn,10),z(xo,10),z(Ei,10),z(Rd,8),z(fs,8))},e.\u0275dir=Te({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ft([x8]),Ct,Rr]}),t})(),bo=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275dir=Te({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),e2=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Nr({type:e}),e.\u0275inj=jn({}),t})();const p1=new de("NgModelWithFormControlWarning"),T8={provide:Kn,useExisting:ft(()=>hs)};let hs=(()=>{var e;class t extends Kn{constructor(n,i,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Gt,this._setValidators(n),this._setAsyncValidators(i)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(df(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const i=this.form.get(n.path);return fc(i,n,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),i}getControl(n){return this.form.get(n.path)}removeControl(n){cf(n.control||null,n,!1),function v8(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,i){this.form.get(n.path).setValue(i)}onSubmit(n){return this.submitted=!0,qE(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const i=n.control,o=this.form.get(n.path);i!==o&&(cf(i||null,n),(e=>e instanceof pc)(o)&&(fc(o,n,this.callSetDisabledState),n.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const i=this.form.get(n.path);$E(i,n),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const i=this.form.get(n.path);i&&function m8(e,t){return df(e,t)}(i,n)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){u1(this.form,this),this._oldForm&&df(this._oldForm,this)}_checkFormPresent(){}}return(e=t).\u0275fac=function(n){return new(n||e)(z(Pn,10),z(xo,10),z(fs,8))},e.\u0275dir=Te({type:e,selectors:[["","formGroup",""]],hostBindings:function(n,i){1&n&&st("submit",function(c){return i.onSubmit(c)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ft([T8]),Ct,Rr]}),t})();const R8={provide:Ao,useExisting:ft(()=>Ma)};let Ma=(()=>{var e;class t extends Ao{set isDisabled(n){}constructor(n,i,o,c,f){super(),this._ngModelWarningConfig=f,this._added=!1,this.name=null,this.update=new Gt,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=h1(0,c)}ngOnChanges(n){this._added||this._setUpControl(),f1(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return lf(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(e=t)._ngModelWarningSentOnce=!1,e.\u0275fac=function(n){return new(n||e)(z(Kn,13),z(Pn,10),z(xo,10),z(Ei,10),z(p1,8))},e.\u0275dir=Te({type:e,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ft([R8]),Ct,Rr]}),t})();const O8={provide:Ei,useExisting:ft(()=>gc),multi:!0};function o2(e,t){return null==e?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let gc=(()=>{var e;class t extends us{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const o=o2(this._getOptionId(n),n);this.setProperty("value",o)}registerOnChange(n){this.onChange=i=>{this.value=this._getOptionValue(i),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),n))return i;return null}_getOptionValue(n){const i=function P8(e){return e.split(":")[0]}(n);return this._optionMap.has(i)?this._optionMap.get(i):n}}return(e=t).\u0275fac=function(){let r;return function(i){return(r||(r=bn(e)))(i||e)}}(),e.\u0275dir=Te({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,i){1&n&&st("change",function(c){return i.onChange(c.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ft([O8]),Ct]}),t})(),y1=(()=>{var e;class t{constructor(n,i,o){this._element=n,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(o2(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return(e=t).\u0275fac=function(n){return new(n||e)(z(Cr),z(Vi),z(gc,9))},e.\u0275dir=Te({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const F8={provide:Ei,useExisting:ft(()=>C1),multi:!0};function s2(e,t){return null==e?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let C1=(()=>{var e;class t extends us{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let i;if(this.value=n,Array.isArray(n)){const o=n.map(c=>this._getOptionId(c));i=(c,f)=>{c._setSelected(o.indexOf(f.toString())>-1)}}else i=(o,c)=>{o._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(n){this.onChange=i=>{const o=[],c=i.selectedOptions;if(void 0!==c){const f=c;for(let m=0;m<f.length;m++){const w=this._getOptionValue(f[m].value);o.push(w)}}else{const f=i.options;for(let m=0;m<f.length;m++){const g=f[m];if(g.selected){const w=this._getOptionValue(g.value);o.push(w)}}}this.value=o,n(o)}}_registerOption(n){const i=(this._idCounter++).toString();return this._optionMap.set(i,n),i}_getOptionId(n){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,n))return i;return null}_getOptionValue(n){const i=function L8(e){return e.split(":")[0]}(n);return this._optionMap.has(i)?this._optionMap.get(i)._value:n}}return(e=t).\u0275fac=function(){let r;return function(i){return(r||(r=bn(e)))(i||e)}}(),e.\u0275dir=Te({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,i){1&n&&st("change",function(c){return i.onChange(c.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Ft([F8]),Ct]}),t})(),v1=(()=>{var e;class t{constructor(n,i,o){this._element=n,this._renderer=i,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(s2(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(s2(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return(e=t).\u0275fac=function(n){return new(n||e)(z(Cr),z(Vi),z(C1,9))},e.\u0275dir=Te({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})(),m2=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Nr({type:e}),e.\u0275inj=jn({imports:[e2]}),t})();class y2 extends af{constructor(t,r,n){super(l1(r),c1(n,r)),this.controls=t,this._initObservables(),this._setUpdateStrategy(r),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,r={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}insert(t,r,n={}){this.controls.splice(t,0,r),this._registerControl(r),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,r={}){let n=this._adjustIndex(t);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:r.emitEvent})}setControl(t,r,n={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),r&&(this.controls.splice(i,0,r),this._registerControl(r)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,r={}){zE(this,0,t),t.forEach((n,i)=>{HE(this,!1,i),this.at(i).setValue(n,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r)}patchValue(t,r={}){null!=t&&(t.forEach((n,i)=>{this.at(i)&&this.at(i).patchValue(n,{onlySelf:!0,emitEvent:r.emitEvent})}),this.updateValueAndValidity(r))}reset(t=[],r={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:r.emitEvent})}),this._updatePristine(r),this._updateTouched(r),this.updateValueAndValidity(r)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(r=>r._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((r,n)=>!!n._syncPendingControls()||r,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((r,n)=>{t(r,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(r=>r.enabled&&t(r))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function C2(e){return!!e&&(void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn)}let mc=(()=>{var e;class t{constructor(){this.useNonNullable=!1}get nonNullable(){const n=new t;return n.useNonNullable=!0,n}group(n,i=null){const o=this._reduceControls(n);let c={};return C2(i)?c=i:null!==i&&(c.validators=i.validator,c.asyncValidators=i.asyncValidator),new uc(o,c)}record(n,i=null){const o=this._reduceControls(n);return new GE(o,i)}control(n,i,o){let c={};return this.useNonNullable?(C2(i)?c=i:(c.validators=i,c.asyncValidators=o),new pc(n,{...c,nonNullable:!0})):new pc(n,i,o)}array(n,i,o){const c=n.map(f=>this._createControl(f));return new y2(c,i,o)}_reduceControls(n){const i={};return Object.keys(n).forEach(o=>{i[o]=this._createControl(n[o])}),i}_createControl(n){return n instanceof pc||n instanceof af?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),W8=(()=>{var e;class t{static withConfig(n){return{ngModule:t,providers:[{provide:fs,useValue:n.callSetDisabledState??dc}]}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Nr({type:e}),e.\u0275inj=jn({imports:[m2]}),t})(),$8=(()=>{var e;class t{static withConfig(n){return{ngModule:t,providers:[{provide:p1,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:fs,useValue:n.callSetDisabledState??dc}]}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Nr({type:e}),e.\u0275inj=jn({imports:[m2]}),t})();function _1(...e){const t=zo(e),r=q(e),{args:n,keys:i}=fE(e);if(0===n.length)return Et([],t);const o=new dt(function Y8(e,t,r=xt){return n=>{v2(t,()=>{const{length:i}=e,o=new Array(i);let c=i,f=i;for(let m=0;m<i;m++)v2(t,()=>{const g=Et(e[m],t);let w=!1;g.subscribe(He(n,E=>{o[m]=E,w||(w=!0,f--),f||n.next(r(o.slice()))},()=>{--c||n.complete()}))},n)},n)}}(n,t,i?c=>pE(i,c):xt));return r?o.pipe(hE(r)):o}function v2(e,t,r){e?Ir(r,e,t):t()}const hf=Wa(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function E1(...e){return function X8(){return io(1)}()(Et(e,zo(e)))}function w2(e){return new dt(t=>{en(e()).subscribe(t)})}function Io(e,t){const r=Xe(e)?e:()=>e,n=i=>i.error(r());return new dt(t?i=>t.schedule(n,0,i):n)}function x1(){return jt((e,t)=>{let r=null;e._refCount++;const n=He(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(r=null);const i=e._connection,o=r;r=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(n),n.closed||(r=e.connect())})}class _2 extends dt{constructor(t,r){super(),this.source=t,this.subjectFactory=r,this._subject=null,this._refCount=0,this._connection=null,_e(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new kn;const r=this.getSubject();t.add(this.source.subscribe(He(r,void 0,()=>{this._teardown(),r.complete()},n=>{this._teardown(),r.error(n)},()=>this._teardown()))),t.closed&&(this._connection=null,t=kn.EMPTY)}return t}refCount(){return x1()(this)}}function Na(e){return e<=0?()=>Sr:jt((t,r)=>{let n=0;t.subscribe(He(r,i=>{++n<=e&&(r.next(i),e<=n&&r.complete())}))})}function Zi(e,t){return jt((r,n)=>{let i=0;r.subscribe(He(n,o=>e.call(t,o,i++)&&n.next(o)))})}function pf(e){return jt((t,r)=>{let n=!1;t.subscribe(He(r,i=>{n=!0,r.next(i)},()=>{n||r.next(e),r.complete()}))})}function E2(e=Q8){return jt((t,r)=>{let n=!1;t.subscribe(He(r,i=>{n=!0,r.next(i)},()=>n?r.complete():r.error(e())))})}function Q8(){return new hf}function gs(e,t){const r=arguments.length>=2;return n=>n.pipe(e?Zi((i,o)=>e(i,o,n)):xt,Na(1),r?pf(t):E2(()=>new hf))}function Ra(e,t){return Xe(t)?ln(e,t,1):ln(e,1)}function Fn(e,t,r){const n=Xe(e)||t||r?{next:e,error:t,complete:r}:e;return n?jt((i,o)=>{var c;null===(c=n.subscribe)||void 0===c||c.call(n);let f=!0;i.subscribe(He(o,m=>{var g;null===(g=n.next)||void 0===g||g.call(n,m),o.next(m)},()=>{var m;f=!1,null===(m=n.complete)||void 0===m||m.call(n),o.complete()},m=>{var g;f=!1,null===(g=n.error)||void 0===g||g.call(n,m),o.error(m)},()=>{var m,g;f&&(null===(m=n.unsubscribe)||void 0===m||m.call(n)),null===(g=n.finalize)||void 0===g||g.call(n)}))}):xt}function kr(e){return jt((t,r)=>{let o,n=null,i=!1;n=t.subscribe(He(r,void 0,void 0,c=>{o=en(e(c,kr(e)(t))),n?(n.unsubscribe(),n=null,o.subscribe(r)):i=!0})),i&&(n.unsubscribe(),n=null,o.subscribe(r))})}function A1(e){return e<=0?()=>Sr:jt((t,r)=>{let n=[];t.subscribe(He(r,i=>{n.push(i),e<n.length&&n.shift()},()=>{for(const i of n)r.next(i);r.complete()},void 0,()=>{n=null}))})}function yc(e){return jt((t,r)=>{try{t.subscribe(r)}finally{r.add(e)}})}const Be="primary",Cc=Symbol("RouteTitle");class r6{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const r=this.params[t];return Array.isArray(r)?r[0]:r}return null}getAll(t){if(this.has(t)){const r=this.params[t];return Array.isArray(r)?r:[r]}return[]}get keys(){return Object.keys(this.params)}}function Oa(e){return new r6(e)}function i6(e,t,r){const n=r.path.split("/");if(n.length>e.length||"full"===r.pathMatch&&(t.hasChildren()||n.length<e.length))return null;const i={};for(let o=0;o<n.length;o++){const c=n[o],f=e[o];if(c.startsWith(":"))i[c.substring(1)]=f;else if(c!==f.path)return null}return{consumed:e.slice(0,n.length),posParams:i}}function xi(e,t){const r=e?Object.keys(e):void 0,n=t?Object.keys(t):void 0;if(!r||!n||r.length!=n.length)return!1;let i;for(let o=0;o<r.length;o++)if(i=r[o],!x2(e[i],t[i]))return!1;return!0}function x2(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const r=[...e].sort(),n=[...t].sort();return r.every((i,o)=>n[o]===i)}return e===t}function A2(e){return e.length>0?e[e.length-1]:null}function So(e){return function q8(e){return!!e&&(e instanceof dt||Xe(e.lift)&&Xe(e.subscribe))}(e)?e:$l(e)?Et(Promise.resolve(e)):ae(e)}const s6={exact:function I2(e,t,r){if(!ms(e.segments,t.segments)||!gf(e.segments,t.segments,r)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const n in t.children)if(!e.children[n]||!I2(e.children[n],t.children[n],r))return!1;return!0},subset:S2},D2={exact:function a6(e,t){return xi(e,t)},subset:function l6(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(r=>x2(e[r],t[r]))},ignored:()=>!0};function b2(e,t,r){return s6[r.paths](e.root,t.root,r.matrixParams)&&D2[r.queryParams](e.queryParams,t.queryParams)&&!("exact"===r.fragment&&e.fragment!==t.fragment)}function S2(e,t,r){return T2(e,t,t.segments,r)}function T2(e,t,r,n){if(e.segments.length>r.length){const i=e.segments.slice(0,r.length);return!(!ms(i,r)||t.hasChildren()||!gf(i,r,n))}if(e.segments.length===r.length){if(!ms(e.segments,r)||!gf(e.segments,r,n))return!1;for(const i in t.children)if(!e.children[i]||!S2(e.children[i],t.children[i],n))return!1;return!0}{const i=r.slice(0,e.segments.length),o=r.slice(e.segments.length);return!!(ms(e.segments,i)&&gf(e.segments,i,n)&&e.children[Be])&&T2(e.children[Be],t,o,n)}}function gf(e,t,r){return t.every((n,i)=>D2[r](e[i].parameters,n.parameters))}class Pa{constructor(t=new vt([],{}),r={},n=null){this.root=t,this.queryParams=r,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Oa(this.queryParams)),this._queryParamMap}toString(){return d6.serialize(this)}}class vt{constructor(t,r){this.segments=t,this.children=r,this.parent=null,Object.values(r).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return mf(this)}}class vc{constructor(t,r){this.path=t,this.parameters=r}get parameterMap(){return this._parameterMap||(this._parameterMap=Oa(this.parameters)),this._parameterMap}toString(){return R2(this)}}function ms(e,t){return e.length===t.length&&e.every((r,n)=>r.path===t[n].path)}let wc=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:function(){return new D1},providedIn:"root"}),t})();class D1{parse(t){const r=new E6(t);return new Pa(r.parseRootSegment(),r.parseQueryParams(),r.parseFragment())}serialize(t){const r=`/${_c(t.root,!0)}`,n=function p6(e){const t=Object.keys(e).map(r=>{const n=e[r];return Array.isArray(n)?n.map(i=>`${yf(r)}=${yf(i)}`).join("&"):`${yf(r)}=${yf(n)}`}).filter(r=>!!r);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${r}${n}${"string"==typeof t.fragment?`#${function f6(e){return encodeURI(e)}(t.fragment)}`:""}`}}const d6=new D1;function mf(e){return e.segments.map(t=>R2(t)).join("/")}function _c(e,t){if(!e.hasChildren())return mf(e);if(t){const r=e.children[Be]?_c(e.children[Be],!1):"",n=[];return Object.entries(e.children).forEach(([i,o])=>{i!==Be&&n.push(`${i}:${_c(o,!1)}`)}),n.length>0?`${r}(${n.join("//")})`:r}{const r=function u6(e,t){let r=[];return Object.entries(e.children).forEach(([n,i])=>{n===Be&&(r=r.concat(t(i,n)))}),Object.entries(e.children).forEach(([n,i])=>{n!==Be&&(r=r.concat(t(i,n)))}),r}(e,(n,i)=>i===Be?[_c(e.children[Be],!1)]:[`${i}:${_c(n,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Be]?`${mf(e)}/${r[0]}`:`${mf(e)}/(${r.join("//")})`}}function M2(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yf(e){return M2(e).replace(/%3B/gi,";")}function b1(e){return M2(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Cf(e){return decodeURIComponent(e)}function N2(e){return Cf(e.replace(/\+/g,"%20"))}function R2(e){return`${b1(e.path)}${function h6(e){return Object.keys(e).map(t=>`;${b1(t)}=${b1(e[t])}`).join("")}(e.parameters)}`}const g6=/^[^\/()?;#]+/;function I1(e){const t=e.match(g6);return t?t[0]:""}const m6=/^[^\/()?;=#]+/,C6=/^[^=?&#]+/,w6=/^[^&#]+/;class E6{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new vt([],{}):new vt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let r={};this.peekStartsWith("/(")&&(this.capture("/"),r=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(r).length>0)&&(n[Be]=new vt(t,r)),n}parseSegment(){const t=I1(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new X(4009,!1);return this.capture(t),new vc(Cf(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const r=function y6(e){const t=e.match(m6);return t?t[0]:""}(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){const i=I1(this.remaining);i&&(n=i,this.capture(n))}t[Cf(r)]=Cf(n)}parseQueryParam(t){const r=function v6(e){const t=e.match(C6);return t?t[0]:""}(this.remaining);if(!r)return;this.capture(r);let n="";if(this.consumeOptional("=")){const c=function _6(e){const t=e.match(w6);return t?t[0]:""}(this.remaining);c&&(n=c,this.capture(n))}const i=N2(r),o=N2(n);if(t.hasOwnProperty(i)){let c=t[i];Array.isArray(c)||(c=[c],t[i]=c),c.push(o)}else t[i]=o}parseParens(t){const r={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=I1(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new X(4010,!1);let o;n.indexOf(":")>-1?(o=n.slice(0,n.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Be);const c=this.parseChildren();r[o]=1===Object.keys(c).length?c[Be]:new vt([],c),this.consumeOptional("//")}return r}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new X(4011,!1)}}function O2(e){return e.segments.length>0?new vt([],{[Be]:e}):e}function P2(e){const t={};for(const n of Object.keys(e.children)){const o=P2(e.children[n]);if(n===Be&&0===o.segments.length&&o.hasChildren())for(const[c,f]of Object.entries(o.children))t[c]=f;else(o.segments.length>0||o.hasChildren())&&(t[n]=o)}return function x6(e){if(1===e.numberOfChildren&&e.children[Be]){const t=e.children[Be];return new vt(e.segments.concat(t.segments),t.children)}return e}(new vt(e.segments,t))}function ys(e){return e instanceof Pa}function F2(e){let t;const i=O2(function r(o){const c={};for(const m of o.children){const g=r(m);c[m.outlet]=g}const f=new vt(o.url,c);return o===e&&(t=f),f}(e.root));return t??i}function L2(e,t,r,n){let i=e;for(;i.parent;)i=i.parent;if(0===t.length)return S1(i,i,i,r,n);const o=function D6(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new B2(!0,0,e);let t=0,r=!1;const n=e.reduce((i,o,c)=>{if("object"==typeof o&&null!=o){if(o.outlets){const f={};return Object.entries(o.outlets).forEach(([m,g])=>{f[m]="string"==typeof g?g.split("/"):g}),[...i,{outlets:f}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===c?(o.split("/").forEach((f,m)=>{0==m&&"."===f||(0==m&&""===f?r=!0:".."===f?t++:""!=f&&i.push(f))}),i):[...i,o]},[]);return new B2(r,t,n)}(t);if(o.toRoot())return S1(i,i,new vt([],{}),r,n);const c=function b6(e,t,r){if(e.isAbsolute)return new wf(t,!0,0);if(!r)return new wf(t,!1,NaN);if(null===r.parent)return new wf(r,!0,0);const n=vf(e.commands[0])?0:1;return function I6(e,t,r){let n=e,i=t,o=r;for(;o>i;){if(o-=i,n=n.parent,!n)throw new X(4005,!1);i=n.segments.length}return new wf(n,!1,i-o)}(r,r.segments.length-1+n,e.numberOfDoubleDots)}(o,i,e),f=c.processChildren?xc(c.segmentGroup,c.index,o.commands):V2(c.segmentGroup,c.index,o.commands);return S1(i,c.segmentGroup,f,r,n)}function vf(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Ec(e){return"object"==typeof e&&null!=e&&e.outlets}function S1(e,t,r,n,i){let c,o={};n&&Object.entries(n).forEach(([m,g])=>{o[m]=Array.isArray(g)?g.map(w=>`${w}`):`${g}`}),c=e===t?r:k2(e,t,r);const f=O2(P2(c));return new Pa(f,o,i)}function k2(e,t,r){const n={};return Object.entries(e.children).forEach(([i,o])=>{n[i]=o===t?r:k2(o,t,r)}),new vt(e.segments,n)}class B2{constructor(t,r,n){if(this.isAbsolute=t,this.numberOfDoubleDots=r,this.commands=n,t&&n.length>0&&vf(n[0]))throw new X(4003,!1);const i=n.find(Ec);if(i&&i!==A2(n))throw new X(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class wf{constructor(t,r,n){this.segmentGroup=t,this.processChildren=r,this.index=n}}function V2(e,t,r){if(e||(e=new vt([],{})),0===e.segments.length&&e.hasChildren())return xc(e,t,r);const n=function T6(e,t,r){let n=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(n>=r.length)return o;const c=e.segments[i],f=r[n];if(Ec(f))break;const m=`${f}`,g=n<r.length-1?r[n+1]:null;if(i>0&&void 0===m)break;if(m&&g&&"object"==typeof g&&void 0===g.outlets){if(!j2(m,g,c))return o;n+=2}else{if(!j2(m,{},c))return o;n++}i++}return{match:!0,pathIndex:i,commandIndex:n}}(e,t,r),i=r.slice(n.commandIndex);if(n.match&&n.pathIndex<e.segments.length){const o=new vt(e.segments.slice(0,n.pathIndex),{});return o.children[Be]=new vt(e.segments.slice(n.pathIndex),e.children),xc(o,0,i)}return n.match&&0===i.length?new vt(e.segments,{}):n.match&&!e.hasChildren()?T1(e,t,r):n.match?xc(e,0,i):T1(e,t,r)}function xc(e,t,r){if(0===r.length)return new vt(e.segments,{});{const n=function S6(e){return Ec(e[0])?e[0].outlets:{[Be]:e}}(r),i={};if(Object.keys(n).some(o=>o!==Be)&&e.children[Be]&&1===e.numberOfChildren&&0===e.children[Be].segments.length){const o=xc(e.children[Be],t,r);return new vt(e.segments,o.children)}return Object.entries(n).forEach(([o,c])=>{"string"==typeof c&&(c=[c]),null!==c&&(i[o]=V2(e.children[o],t,c))}),Object.entries(e.children).forEach(([o,c])=>{void 0===n[o]&&(i[o]=c)}),new vt(e.segments,i)}}function T1(e,t,r){const n=e.segments.slice(0,t);let i=0;for(;i<r.length;){const o=r[i];if(Ec(o)){const m=M6(o.outlets);return new vt(n,m)}if(0===i&&vf(r[0])){n.push(new vc(e.segments[t].path,U2(r[0]))),i++;continue}const c=Ec(o)?o.outlets[Be]:`${o}`,f=i<r.length-1?r[i+1]:null;c&&f&&vf(f)?(n.push(new vc(c,U2(f))),i+=2):(n.push(new vc(c,{})),i++)}return new vt(n,{})}function M6(e){const t={};return Object.entries(e).forEach(([r,n])=>{"string"==typeof n&&(n=[n]),null!==n&&(t[r]=T1(new vt([],{}),0,n))}),t}function U2(e){const t={};return Object.entries(e).forEach(([r,n])=>t[r]=`${n}`),t}function j2(e,t,r){return e==r.path&&xi(t,r.parameters)}const Ac="imperative";class Ai{constructor(t,r){this.id=t,this.url=r}}class _f extends Ai{constructor(t,r,n="imperative",i=null){super(t,r),this.type=0,this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class To extends Ai{constructor(t,r,n){super(t,r),this.urlAfterRedirects=n,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Dc extends Ai{constructor(t,r,n,i){super(t,r),this.reason=n,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Fa extends Ai{constructor(t,r,n,i){super(t,r),this.reason=n,this.code=i,this.type=16}}class Ef extends Ai{constructor(t,r,n,i){super(t,r),this.error=n,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class H2 extends Ai{constructor(t,r,n,i){super(t,r),this.urlAfterRedirects=n,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class N6 extends Ai{constructor(t,r,n,i){super(t,r),this.urlAfterRedirects=n,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class R6 extends Ai{constructor(t,r,n,i,o){super(t,r),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class O6 extends Ai{constructor(t,r,n,i){super(t,r),this.urlAfterRedirects=n,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class P6 extends Ai{constructor(t,r,n,i){super(t,r),this.urlAfterRedirects=n,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class F6{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class L6{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class k6{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class B6{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class V6{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class U6{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class z2{constructor(t,r,n){this.routerEvent=t,this.position=r,this.anchor=n,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class M1{}class N1{constructor(t){this.url=t}}class j6{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new bc,this.attachRef=null}}let bc=(()=>{var e;class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,i){const o=this.getOrCreateContext(n);o.outlet=i,this.contexts.set(n,o)}onChildOutletDestroyed(n){const i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new j6,this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();class G2{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const r=this.pathFromRoot(t);return r.length>1?r[r.length-2]:null}children(t){const r=R1(t,this._root);return r?r.children.map(n=>n.value):[]}firstChild(t){const r=R1(t,this._root);return r&&r.children.length>0?r.children[0].value:null}siblings(t){const r=O1(t,this._root);return r.length<2?[]:r[r.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return O1(t,this._root).map(r=>r.value)}}function R1(e,t){if(e===t.value)return t;for(const r of t.children){const n=R1(e,r);if(n)return n}return null}function O1(e,t){if(e===t.value)return[t];for(const r of t.children){const n=O1(e,r);if(n.length)return n.unshift(t),n}return[]}class Qi{constructor(t,r){this.value=t,this.children=r}toString(){return`TreeNode(${this.value})`}}function La(e){const t={};return e&&e.children.forEach(r=>t[r.value.outlet]=r),t}class W2 extends G2{constructor(t,r){super(t),this.snapshot=r,P1(this,t)}toString(){return this.snapshot.toString()}}function $2(e,t){const r=function H6(e,t){const c=new xf([],{},{},"",{},Be,t,null,{});return new Y2("",new Qi(c,[]))}(0,t),n=new Ye([new vc("",{})]),i=new Ye({}),o=new Ye({}),c=new Ye({}),f=new Ye(""),m=new Mo(n,i,c,f,o,Be,t,r.root);return m.snapshot=r.root,new W2(new Qi(m,[]),r)}class Mo{constructor(t,r,n,i,o,c,f,m){this.urlSubject=t,this.paramsSubject=r,this.queryParamsSubject=n,this.fragmentSubject=i,this.dataSubject=o,this.outlet=c,this.component=f,this._futureSnapshot=m,this.title=this.dataSubject?.pipe(ze(g=>g[Cc]))??ae(void 0),this.url=t,this.params=r,this.queryParams=n,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ze(t=>Oa(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ze(t=>Oa(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function q2(e,t="emptyOnly"){const r=e.pathFromRoot;let n=0;if("always"!==t)for(n=r.length-1;n>=1;){const i=r[n],o=r[n-1];if(i.routeConfig&&""===i.routeConfig.path)n--;else{if(o.component)break;n--}}return function z6(e){return e.reduce((t,r)=>({params:{...t.params,...r.params},data:{...t.data,...r.data},resolve:{...r.data,...t.resolve,...r.routeConfig?.data,...r._resolvedData}}),{params:{},data:{},resolve:{}})}(r.slice(n))}class xf{get title(){return this.data?.[Cc]}constructor(t,r,n,i,o,c,f,m,g){this.url=t,this.params=r,this.queryParams=n,this.fragment=i,this.data=o,this.outlet=c,this.component=f,this.routeConfig=m,this._resolve=g}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Oa(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Oa(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Y2 extends G2{constructor(t,r){super(r),this.url=t,P1(this,r)}toString(){return X2(this._root)}}function P1(e,t){t.value._routerState=e,t.children.forEach(r=>P1(e,r))}function X2(e){const t=e.children.length>0?` { ${e.children.map(X2).join(", ")} } `:"";return`${e.value}${t}`}function F1(e){if(e.snapshot){const t=e.snapshot,r=e._futureSnapshot;e.snapshot=r,xi(t.queryParams,r.queryParams)||e.queryParamsSubject.next(r.queryParams),t.fragment!==r.fragment&&e.fragmentSubject.next(r.fragment),xi(t.params,r.params)||e.paramsSubject.next(r.params),function o6(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!xi(e[r],t[r]))return!1;return!0}(t.url,r.url)||e.urlSubject.next(r.url),xi(t.data,r.data)||e.dataSubject.next(r.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function L1(e,t){const r=xi(e.params,t.params)&&function c6(e,t){return ms(e,t)&&e.every((r,n)=>xi(r.parameters,t[n].parameters))}(e.url,t.url);return r&&!(!e.parent!=!t.parent)&&(!e.parent||L1(e.parent,t.parent))}let k1=(()=>{var e;class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Be,this.activateEvents=new Gt,this.deactivateEvents=new Gt,this.attachEvents=new Gt,this.detachEvents=new Gt,this.parentContexts=ie(bc),this.location=ie(Xr),this.changeDetector=ie(Rd),this.environmentInjector=ie(yr),this.inputBinder=ie(Af,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:i,previousValue:o}=n.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new X(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new X(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new X(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new X(4013,!1);this._activatedRoute=n;const o=this.location,f=n.snapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,g=new G6(n,m,o.injector);this.activated=o.createComponent(f,{index:o.length,injector:g,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275dir=Te({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Rr]}),t})();class G6{constructor(t,r,n){this.route=t,this.childContexts=r,this.parent=n}get(t,r){return t===Mo?this.route:t===bc?this.childContexts:this.parent.get(t,r)}}const Af=new de("");let Z2=(()=>{var e;class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){const{activatedRoute:i}=n,o=_1([i.queryParams,i.params,i.data]).pipe(je(([c,f,m],g)=>(m={...c,...f,...m},0===g?ae(m):Promise.resolve(m)))).subscribe(c=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(n);const f=function bR(e){const t=Qe(e);if(!t)return null;const r=new jl(t);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}(i.component);if(f)for(const{templateName:m}of f.inputs)n.activatedComponentRef.setInput(m,c[m]);else this.unsubscribeFromRouteData(n)});this.outletDataSubscriptions.set(n,o)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:e.\u0275fac}),t})();function Ic(e,t,r){if(r&&e.shouldReuseRoute(t.value,r.value.snapshot)){const n=r.value;n._futureSnapshot=t.value;const i=function $6(e,t,r){return t.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(n.value,i.value.snapshot))return Ic(e,n,i);return Ic(e,n)})}(e,t,r);return new Qi(n,i)}{if(e.shouldAttach(t.value)){const o=e.retrieve(t.value);if(null!==o){const c=o.route;return c.value._futureSnapshot=t.value,c.children=t.children.map(f=>Ic(e,f)),c}}const n=function q6(e){return new Mo(new Ye(e.url),new Ye(e.params),new Ye(e.queryParams),new Ye(e.fragment),new Ye(e.data),e.outlet,e.component,e)}(t.value),i=t.children.map(o=>Ic(e,o));return new Qi(n,i)}}const B1="ngNavigationCancelingError";function Q2(e,t){const{redirectTo:r,navigationBehaviorOptions:n}=ys(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=K2(!1,0,t);return i.url=r,i.navigationBehaviorOptions=n,i}function K2(e,t,r){const n=new Error("NavigationCancelingError: "+(e||""));return n[B1]=!0,n.cancellationCode=t,r&&(n.url=r),n}function J2(e){return e&&e[B1]}let ex=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Bt({type:e,selectors:[["ng-component"]],standalone:!0,features:[Qv],decls:1,vars:0,template:function(n,i){1&n&&Ae(0,"router-outlet")},dependencies:[k1],encapsulation:2}),t})();function V1(e){const t=e.children&&e.children.map(V1),r=t?{...e,children:t}:{...e};return!r.component&&!r.loadComponent&&(t||r.loadChildren)&&r.outlet&&r.outlet!==Be&&(r.component=ex),r}function Kr(e){return e.outlet||Be}function Sc(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const r=t.routeConfig;if(r?._loadedInjector)return r._loadedInjector;if(r?._injector)return r._injector}return null}class tP{constructor(t,r,n,i,o){this.routeReuseStrategy=t,this.futureState=r,this.currState=n,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){const r=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(r,n,t),F1(this.futureState.root),this.activateChildRoutes(r,n,t)}deactivateChildRoutes(t,r,n){const i=La(r);t.children.forEach(o=>{const c=o.value.outlet;this.deactivateRoutes(o,i[c],n),delete i[c]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,n)})}deactivateRoutes(t,r,n){const i=t.value,o=r?r.value:null;if(i===o)if(i.component){const c=n.getContext(i.outlet);c&&this.deactivateChildRoutes(t,r,c.children)}else this.deactivateChildRoutes(t,r,n);else o&&this.deactivateRouteAndItsChildren(r,n)}deactivateRouteAndItsChildren(t,r){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,r):this.deactivateRouteAndOutlet(t,r)}detachAndStoreRouteSubtree(t,r){const n=r.getContext(t.value.outlet),i=n&&t.value.component?n.children:r,o=La(t);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],i);if(n&&n.outlet){const c=n.outlet.detach(),f=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:c,route:t,contexts:f})}}deactivateRouteAndOutlet(t,r){const n=r.getContext(t.value.outlet),i=n&&t.value.component?n.children:r,o=La(t);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],i);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,r,n){const i=La(r);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],n),this.forwardEvent(new U6(o.value.snapshot))}),t.children.length&&this.forwardEvent(new B6(t.value.snapshot))}activateRoutes(t,r,n){const i=t.value,o=r?r.value:null;if(F1(i),i===o)if(i.component){const c=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,r,c.children)}else this.activateChildRoutes(t,r,n);else if(i.component){const c=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(f.contexts),c.attachRef=f.componentRef,c.route=f.route.value,c.outlet&&c.outlet.attach(f.componentRef,f.route.value),F1(f.route.value),this.activateChildRoutes(t,null,c.children)}else{const f=Sc(i.snapshot);c.attachRef=null,c.route=i,c.injector=f,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(t,null,c.children)}}else this.activateChildRoutes(t,null,n)}}class tx{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Df{constructor(t,r){this.component=t,this.route=r}}function nP(e,t,r){const n=e._root;return Tc(n,t?t._root:null,r,[n.value])}function ka(e,t){const r=Symbol(),n=t.get(e,r);return n===r?"function"!=typeof e||function nu(e){return null!==ot(e)}(e)?t.get(e):e:n}function Tc(e,t,r,n,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=La(t);return e.children.forEach(c=>{(function iP(e,t,r,n,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,c=t?t.value:null,f=r?r.getContext(e.value.outlet):null;if(c&&o.routeConfig===c.routeConfig){const m=function oP(e,t,r){if("function"==typeof r)return r(e,t);switch(r){case"pathParamsChange":return!ms(e.url,t.url);case"pathParamsOrQueryParamsChange":return!ms(e.url,t.url)||!xi(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!L1(e,t)||!xi(e.queryParams,t.queryParams);default:return!L1(e,t)}}(c,o,o.routeConfig.runGuardsAndResolvers);m?i.canActivateChecks.push(new tx(n)):(o.data=c.data,o._resolvedData=c._resolvedData),Tc(e,t,o.component?f?f.children:null:r,n,i),m&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new Df(f.outlet.component,c))}else c&&Mc(t,f,i),i.canActivateChecks.push(new tx(n)),Tc(e,null,o.component?f?f.children:null:r,n,i)})(c,o[c.value.outlet],r,n.concat([c.value]),i),delete o[c.value.outlet]}),Object.entries(o).forEach(([c,f])=>Mc(f,r.getContext(c),i)),i}function Mc(e,t,r){const n=La(e),i=e.value;Object.entries(n).forEach(([o,c])=>{Mc(c,i.component?t?t.children.getContext(o):null:t,r)}),r.canDeactivateChecks.push(new Df(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function Nc(e){return"function"==typeof e}function nx(e){return e instanceof hf||"EmptyError"===e?.name}const bf=Symbol("INITIAL_VALUE");function Ba(){return je(e=>_1(e.map(t=>t.pipe(Na(1),function Z8(...e){const t=zo(e);return jt((r,n)=>{(t?E1(e,r,t):E1(e,r)).subscribe(n)})}(bf)))).pipe(ze(t=>{for(const r of t)if(!0!==r){if(r===bf)return bf;if(!1===r||r instanceof Pa)return r}return!0}),Zi(t=>t!==bf),Na(1)))}function rx(e){return function Le(...e){return to(e)}(Fn(t=>{if(ys(t))throw Q2(0,t)}),ze(t=>!0===t))}class If{constructor(t){this.segmentGroup=t||null}}class ix{constructor(t){this.urlTree=t}}function Va(e){return Io(new If(e))}function ox(e){return Io(new ix(e))}class DP{constructor(t,r){this.urlSerializer=t,this.urlTree=r}noMatchError(t){return new X(4002,!1)}lineralizeSegments(t,r){let n=[],i=r.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return ae(n);if(i.numberOfChildren>1||!i.children[Be])return Io(new X(4e3,!1));i=i.children[Be]}}applyRedirectCommands(t,r,n){return this.applyRedirectCreateUrlTree(r,this.urlSerializer.parse(r),t,n)}applyRedirectCreateUrlTree(t,r,n,i){const o=this.createSegmentGroup(t,r.root,n,i);return new Pa(o,this.createQueryParams(r.queryParams,this.urlTree.queryParams),r.fragment)}createQueryParams(t,r){const n={};return Object.entries(t).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const f=o.substring(1);n[i]=r[f]}else n[i]=o}),n}createSegmentGroup(t,r,n,i){const o=this.createSegments(t,r.segments,n,i);let c={};return Object.entries(r.children).forEach(([f,m])=>{c[f]=this.createSegmentGroup(t,m,n,i)}),new vt(o,c)}createSegments(t,r,n,i){return r.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,n))}findPosParam(t,r,n){const i=n[r.path.substring(1)];if(!i)throw new X(4001,!1);return i}findOrReturn(t,r){let n=0;for(const i of r){if(i.path===t.path)return r.splice(n),i;n++}return t}}const U1={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function bP(e,t,r,n,i){const o=j1(e,t,r);return o.matched?(n=function X6(e,t){return e.providers&&!e._injector&&(e._injector=Jp(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,n),function EP(e,t,r,n){const i=t.canMatch;return i&&0!==i.length?ae(i.map(c=>{const f=ka(c,e);return So(function dP(e){return e&&Nc(e.canMatch)}(f)?f.canMatch(t,r):e.runInContext(()=>f(t,r)))})).pipe(Ba(),rx()):ae(!0)}(n,t,r).pipe(ze(c=>!0===c?o:{...U1}))):ae(o)}function j1(e,t,r){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||r.length>0)?{...U1}:{matched:!0,consumedSegments:[],remainingSegments:r,parameters:{},positionalParamSegments:{}};const i=(t.matcher||i6)(r,e,t);if(!i)return{...U1};const o={};Object.entries(i.posParams??{}).forEach(([f,m])=>{o[f]=m.path});const c=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:r.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function sx(e,t,r,n){return r.length>0&&function TP(e,t,r){return r.some(n=>Sf(e,t,n)&&Kr(n)!==Be)}(e,r,n)?{segmentGroup:new vt(t,SP(n,new vt(r,e.children))),slicedSegments:[]}:0===r.length&&function MP(e,t,r){return r.some(n=>Sf(e,t,n))}(e,r,n)?{segmentGroup:new vt(e.segments,IP(e,0,r,n,e.children)),slicedSegments:r}:{segmentGroup:new vt(e.segments,e.children),slicedSegments:r}}function IP(e,t,r,n,i){const o={};for(const c of n)if(Sf(e,r,c)&&!i[Kr(c)]){const f=new vt([],{});o[Kr(c)]=f}return{...i,...o}}function SP(e,t){const r={};r[Be]=t;for(const n of e)if(""===n.path&&Kr(n)!==Be){const i=new vt([],{});r[Kr(n)]=i}return r}function Sf(e,t,r){return(!(e.hasChildren()||t.length>0)||"full"!==r.pathMatch)&&""===r.path}class PP{constructor(t,r,n,i,o,c,f){this.injector=t,this.configLoader=r,this.rootComponentType=n,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=c,this.urlSerializer=f,this.allowRedirects=!0,this.applyRedirects=new DP(this.urlSerializer,this.urlTree)}noMatchError(t){return new X(4002,!1)}recognize(){const t=sx(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Be).pipe(kr(r=>{if(r instanceof ix)return this.allowRedirects=!1,this.urlTree=r.urlTree,this.match(r.urlTree);throw r instanceof If?this.noMatchError(r):r}),ze(r=>{const n=new xf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Be,this.rootComponentType,null,{}),i=new Qi(n,r),o=new Y2("",i),c=function A6(e,t,r=null,n=null){return L2(F2(e),t,r,n)}(n,[],this.urlTree.queryParams,this.urlTree.fragment);return c.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(c),this.inheritParamsAndData(o._root),{state:o,tree:c}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,Be).pipe(kr(n=>{throw n instanceof If?this.noMatchError(n):n}))}inheritParamsAndData(t){const r=t.value,n=q2(r,this.paramsInheritanceStrategy);r.params=Object.freeze(n.params),r.data=Object.freeze(n.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,r,n,i){return 0===n.segments.length&&n.hasChildren()?this.processChildren(t,r,n):this.processSegment(t,r,n,n.segments,i,!0)}processChildren(t,r,n){const i=[];for(const o of Object.keys(n.children))"primary"===o?i.unshift(o):i.push(o);return Et(i).pipe(Ra(o=>{const c=n.children[o],f=function J6(e,t){const r=e.filter(n=>Kr(n)===t);return r.push(...e.filter(n=>Kr(n)!==t)),r}(r,o);return this.processSegmentGroup(t,f,c,o)}),function J8(e,t){return jt(function K8(e,t,r,n,i){return(o,c)=>{let f=r,m=t,g=0;o.subscribe(He(c,w=>{const E=g++;m=f?e(m,w,E):(f=!0,w),n&&c.next(m)},i&&(()=>{f&&c.next(m),c.complete()})))}}(e,t,arguments.length>=2,!0))}((o,c)=>(o.push(...c),o)),pf(null),function e6(e,t){const r=arguments.length>=2;return n=>n.pipe(e?Zi((i,o)=>e(i,o,n)):xt,A1(1),r?pf(t):E2(()=>new hf))}(),ln(o=>{if(null===o)return Va(n);const c=ax(o);return function FP(e){e.sort((t,r)=>t.value.outlet===Be?-1:r.value.outlet===Be?1:t.value.outlet.localeCompare(r.value.outlet))}(c),ae(c)}))}processSegment(t,r,n,i,o,c){return Et(r).pipe(Ra(f=>this.processSegmentAgainstRoute(f._injector??t,r,f,n,i,o,c).pipe(kr(m=>{if(m instanceof If)return ae(null);throw m}))),gs(f=>!!f),kr(f=>{if(nx(f))return function RP(e,t,r){return 0===t.length&&!e.children[r]}(n,i,o)?ae([]):Va(n);throw f}))}processSegmentAgainstRoute(t,r,n,i,o,c,f){return function NP(e,t,r,n){return!!(Kr(e)===n||n!==Be&&Sf(t,r,e))&&("**"===e.path||j1(t,e,r).matched)}(n,i,o,c)?void 0===n.redirectTo?this.matchSegmentAgainstRoute(t,i,n,o,c,f):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,i,r,n,o,c):Va(i):Va(i)}expandSegmentAgainstRouteUsingRedirect(t,r,n,i,o,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(t,r,n,i,o,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,n,i){const o=this.applyRedirects.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?ox(o):this.applyRedirects.lineralizeSegments(n,o).pipe(ln(c=>{const f=new vt(c,{});return this.processSegment(t,r,f,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,r,n,i,o,c){const{matched:f,consumedSegments:m,remainingSegments:g,positionalParamSegments:w}=j1(r,i,o);if(!f)return Va(r);const E=this.applyRedirects.applyRedirectCommands(m,i.redirectTo,w);return i.redirectTo.startsWith("/")?ox(E):this.applyRedirects.lineralizeSegments(i,E).pipe(ln(D=>this.processSegment(t,n,r,D.concat(g),c,!1)))}matchSegmentAgainstRoute(t,r,n,i,o,c){let f;if("**"===n.path){const m=i.length>0?A2(i).parameters:{};f=ae({snapshot:new xf(i,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,lx(n),Kr(n),n.component??n._loadedComponent??null,n,cx(n)),consumedSegments:[],remainingSegments:[]}),r.children={}}else f=bP(r,n,i,t).pipe(ze(({matched:m,consumedSegments:g,remainingSegments:w,parameters:E})=>m?{snapshot:new xf(g,E,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,lx(n),Kr(n),n.component??n._loadedComponent??null,n,cx(n)),consumedSegments:g,remainingSegments:w}:null));return f.pipe(je(m=>null===m?Va(r):this.getChildConfig(t=n._injector??t,n,i).pipe(je(({routes:g})=>{const w=n._loadedInjector??t,{snapshot:E,consumedSegments:D,remainingSegments:I}=m,{segmentGroup:P,slicedSegments:F}=sx(r,D,I,g);if(0===F.length&&P.hasChildren())return this.processChildren(w,g,P).pipe(ze(H=>null===H?null:[new Qi(E,H)]));if(0===g.length&&0===F.length)return ae([new Qi(E,[])]);const k=Kr(n)===o;return this.processSegment(w,g,P,F,k?Be:o,!0).pipe(ze(H=>[new Qi(E,H)]))}))))}getChildConfig(t,r,n){return r.children?ae({routes:r.children,injector:t}):r.loadChildren?void 0!==r._loadedRoutes?ae({routes:r._loadedRoutes,injector:r._loadedInjector}):function _P(e,t,r,n){const i=t.canLoad;return void 0===i||0===i.length?ae(!0):ae(i.map(c=>{const f=ka(c,e);return So(function aP(e){return e&&Nc(e.canLoad)}(f)?f.canLoad(t,r):e.runInContext(()=>f(t,r)))})).pipe(Ba(),rx())}(t,r,n).pipe(ln(i=>i?this.configLoader.loadChildren(t,r).pipe(Fn(o=>{r._loadedRoutes=o.routes,r._loadedInjector=o.injector})):function AP(e){return Io(K2(!1,3))}())):ae({routes:[],injector:t})}}function LP(e){const t=e.value.routeConfig;return t&&""===t.path}function ax(e){const t=[],r=new Set;for(const n of e){if(!LP(n)){t.push(n);continue}const i=t.find(o=>n.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...n.children),r.add(i)):t.push(n)}for(const n of r){const i=ax(n.children);t.push(new Qi(n.value,i))}return t.filter(n=>!r.has(n))}function lx(e){return e.data||{}}function cx(e){return e.resolve||{}}function ux(e){return"string"==typeof e.title||null===e.title}function H1(e){return je(t=>{const r=e(t);return r?Et(r).pipe(ze(()=>t)):ae(t)})}const Ua=new de("ROUTES");let z1=(()=>{var e;class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ie(Hw)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ae(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const i=So(n.loadComponent()).pipe(ze(dx),Fn(c=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=c}),yc(()=>{this.componentLoaders.delete(n)})),o=new _2(i,()=>new At).pipe(x1());return this.componentLoaders.set(n,o),o}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ae({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const c=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe(ze(m=>{this.onLoadEndListener&&this.onLoadEndListener(i);let g,w;return Array.isArray(m)?w=m:(g=m.create(n).injector,w=g.get(Ua,[],ke.Self|ke.Optional).flat()),{routes:w.map(V1),injector:g}}),yc(()=>{this.childrenLoaders.delete(i)})),f=new _2(c,()=>new At).pipe(x1());return this.childrenLoaders.set(i,f),f}loadModuleFactoryOrRoutes(n){return So(n()).pipe(ze(dx),ln(i=>i instanceof Xv||Array.isArray(i)?ae(i):Et(this.compiler.compileModuleAsync(i))))}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function dx(e){return function zP(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let Tf=(()=>{var e;class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new At,this.transitionAbortSubject=new At,this.configLoader=ie(z1),this.environmentInjector=ie(yr),this.urlSerializer=ie(wc),this.rootContexts=ie(bc),this.inputBindingEnabled=null!==ie(Af,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ae(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new L6(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new F6(o))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:i})}setupNavigations(n,i,o){return this.transitions=new Ye({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:n.urlHandlingStrategy.extract(i),urlAfterRedirects:n.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Ac,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Zi(c=>0!==c.id),ze(c=>({...c,extractedUrl:n.urlHandlingStrategy.extract(c.rawUrl)})),je(c=>{this.currentTransition=c;let f=!1,m=!1;return ae(c).pipe(Fn(g=>{this.currentNavigation={id:g.id,initialUrl:g.rawUrl,extractedUrl:g.extractedUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),je(g=>{const w=g.currentBrowserUrl.toString(),E=!n.navigated||g.extractedUrl.toString()!==w||w!==g.currentUrlTree.toString();if(!E&&"reload"!==(g.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const I="";return this.events.next(new Fa(g.id,this.urlSerializer.serialize(g.rawUrl),I,0)),g.resolve(null),Sr}if(n.urlHandlingStrategy.shouldProcessUrl(g.rawUrl))return ae(g).pipe(je(I=>{const P=this.transitions?.getValue();return this.events.next(new _f(I.id,this.urlSerializer.serialize(I.extractedUrl),I.source,I.restoredState)),P!==this.transitions?.getValue()?Sr:Promise.resolve(I)}),function kP(e,t,r,n,i,o){return ln(c=>function OP(e,t,r,n,i,o,c="emptyOnly"){return new PP(e,t,r,n,i,c,o).recognize()}(e,t,r,n,c.extractedUrl,i,o).pipe(ze(({state:f,tree:m})=>({...c,targetSnapshot:f,urlAfterRedirects:m}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Fn(I=>{c.targetSnapshot=I.targetSnapshot,c.urlAfterRedirects=I.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:I.urlAfterRedirects};const P=new H2(I.id,this.urlSerializer.serialize(I.extractedUrl),this.urlSerializer.serialize(I.urlAfterRedirects),I.targetSnapshot);this.events.next(P)}));if(E&&n.urlHandlingStrategy.shouldProcessUrl(g.currentRawUrl)){const{id:I,extractedUrl:P,source:F,restoredState:k,extras:H}=g,V=new _f(I,this.urlSerializer.serialize(P),F,k);this.events.next(V);const ne=$2(0,this.rootComponentType).snapshot;return this.currentTransition=c={...g,targetSnapshot:ne,urlAfterRedirects:P,extras:{...H,skipLocationChange:!1,replaceUrl:!1}},ae(c)}{const I="";return this.events.next(new Fa(g.id,this.urlSerializer.serialize(g.extractedUrl),I,1)),g.resolve(null),Sr}}),Fn(g=>{const w=new N6(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(w)}),ze(g=>(this.currentTransition=c={...g,guards:nP(g.targetSnapshot,g.currentSnapshot,this.rootContexts)},c)),function hP(e,t){return ln(r=>{const{targetSnapshot:n,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:c}}=r;return 0===c.length&&0===o.length?ae({...r,guardsResult:!0}):function pP(e,t,r,n){return Et(e).pipe(ln(i=>function wP(e,t,r,n,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?ae(o.map(f=>{const m=Sc(t)??i,g=ka(f,m);return So(function uP(e){return e&&Nc(e.canDeactivate)}(g)?g.canDeactivate(e,t,r,n):m.runInContext(()=>g(e,t,r,n))).pipe(gs())})).pipe(Ba()):ae(!0)}(i.component,i.route,r,t,n)),gs(i=>!0!==i,!0))}(c,n,i,e).pipe(ln(f=>f&&function sP(e){return"boolean"==typeof e}(f)?function gP(e,t,r,n){return Et(t).pipe(Ra(i=>E1(function yP(e,t){return null!==e&&t&&t(new k6(e)),ae(!0)}(i.route.parent,n),function mP(e,t){return null!==e&&t&&t(new V6(e)),ae(!0)}(i.route,n),function vP(e,t,r){const n=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(c=>function rP(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(c)).filter(c=>null!==c).map(c=>w2(()=>ae(c.guards.map(m=>{const g=Sc(c.node)??r,w=ka(m,g);return So(function cP(e){return e&&Nc(e.canActivateChild)}(w)?w.canActivateChild(n,e):g.runInContext(()=>w(n,e))).pipe(gs())})).pipe(Ba())));return ae(o).pipe(Ba())}(e,i.path,r),function CP(e,t,r){const n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||0===n.length)return ae(!0);const i=n.map(o=>w2(()=>{const c=Sc(t)??r,f=ka(o,c);return So(function lP(e){return e&&Nc(e.canActivate)}(f)?f.canActivate(t,e):c.runInContext(()=>f(t,e))).pipe(gs())}));return ae(i).pipe(Ba())}(e,i.route,r))),gs(i=>!0!==i,!0))}(n,o,e,t):ae(f)),ze(f=>({...r,guardsResult:f})))})}(this.environmentInjector,g=>this.events.next(g)),Fn(g=>{if(c.guardsResult=g.guardsResult,ys(g.guardsResult))throw Q2(0,g.guardsResult);const w=new R6(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.events.next(w)}),Zi(g=>!!g.guardsResult||(this.cancelNavigationTransition(g,"",3),!1)),H1(g=>{if(g.guards.canActivateChecks.length)return ae(g).pipe(Fn(w=>{const E=new O6(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(E)}),je(w=>{let E=!1;return ae(w).pipe(function BP(e,t){return ln(r=>{const{targetSnapshot:n,guards:{canActivateChecks:i}}=r;if(!i.length)return ae(r);let o=0;return Et(i).pipe(Ra(c=>function VP(e,t,r,n){const i=e.routeConfig,o=e._resolve;return void 0!==i?.title&&!ux(i)&&(o[Cc]=i.title),function UP(e,t,r,n){const i=function jP(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return ae({});const o={};return Et(i).pipe(ln(c=>function HP(e,t,r,n){const i=Sc(t)??n,o=ka(e,i);return So(o.resolve?o.resolve(t,r):i.runInContext(()=>o(t,r)))}(e[c],t,r,n).pipe(gs(),Fn(f=>{o[c]=f}))),A1(1),function t6(e){return ze(()=>e)}(o),kr(c=>nx(c)?Sr:Io(c)))}(o,e,t,n).pipe(ze(c=>(e._resolvedData=c,e.data=q2(e,r).resolve,i&&ux(i)&&(e.data[Cc]=i.title),null)))}(c.route,n,e,t)),Fn(()=>o++),A1(1),ln(c=>o===i.length?ae(r):Sr))})}(n.paramsInheritanceStrategy,this.environmentInjector),Fn({next:()=>E=!0,complete:()=>{E||this.cancelNavigationTransition(w,"",2)}}))}),Fn(w=>{const E=new P6(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(E)}))}),H1(g=>{const w=E=>{const D=[];E.routeConfig?.loadComponent&&!E.routeConfig._loadedComponent&&D.push(this.configLoader.loadComponent(E.routeConfig).pipe(Fn(I=>{E.component=I}),ze(()=>{})));for(const I of E.children)D.push(...w(I));return D};return _1(w(g.targetSnapshot.root)).pipe(pf(),Na(1))}),H1(()=>this.afterPreactivation()),ze(g=>{const w=function W6(e,t,r){const n=Ic(e,t._root,r?r._root:void 0);return new W2(n,t)}(n.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return this.currentTransition=c={...g,targetRouterState:w},c}),Fn(()=>{this.events.next(new M1)}),((e,t,r,n)=>ze(i=>(new tP(t,i.targetRouterState,i.currentRouterState,r,n).activate(e),i)))(this.rootContexts,n.routeReuseStrategy,g=>this.events.next(g),this.inputBindingEnabled),Na(1),Fn({next:g=>{f=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new To(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects))),n.titleStrategy?.updateTitle(g.targetRouterState.snapshot),g.resolve(!0)},complete:()=>{f=!0}}),function n6(e){return jt((t,r)=>{en(e).subscribe(He(r,()=>r.complete(),ws)),!r.closed&&t.subscribe(r)})}(this.transitionAbortSubject.pipe(Fn(g=>{throw g}))),yc(()=>{f||m||this.cancelNavigationTransition(c,"",1),this.currentNavigation?.id===c.id&&(this.currentNavigation=null)}),kr(g=>{if(m=!0,J2(g))this.events.next(new Dc(c.id,this.urlSerializer.serialize(c.extractedUrl),g.message,g.cancellationCode)),function Y6(e){return J2(e)&&ys(e.url)}(g)?this.events.next(new N1(g.url)):c.resolve(!1);else{this.events.next(new Ef(c.id,this.urlSerializer.serialize(c.extractedUrl),g,c.targetSnapshot??void 0));try{c.resolve(n.errorHandler(g))}catch(w){c.reject(w)}}return Sr}))}))}cancelNavigationTransition(n,i,o){const c=new Dc(n.id,this.urlSerializer.serialize(n.extractedUrl),i,o);this.events.next(c),n.resolve(!1)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function fx(e){return e!==Ac}let hx=(()=>{var e;class t{buildTitle(n){let i,o=n.root;for(;void 0!==o;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(c=>c.outlet===Be);return i}getResolvedTitleForRoute(n){return n.data[Cc]}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:function(){return ie(GP)},providedIn:"root"}),t})(),GP=(()=>{var e;class t extends hx{constructor(n){super(),this.title=n}updateTitle(n){const i=this.buildTitle(n);void 0!==i&&this.title.setTitle(i)}}return(e=t).\u0275fac=function(n){return new(n||e)(se(lE))},e.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),WP=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:function(){return ie(qP)},providedIn:"root"}),t})();class $P{shouldDetach(t){return!1}store(t,r){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,r){return t.routeConfig===r.routeConfig}}let qP=(()=>{var e;class t extends $P{}return(e=t).\u0275fac=function(){let r;return function(i){return(r||(r=bn(e)))(i||e)}}(),e.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const Mf=new de("",{providedIn:"root",factory:()=>({})});let YP=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:function(){return ie(XP)},providedIn:"root"}),t})(),XP=(()=>{var e;class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();var Rc=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Rc||{});function px(e,t){e.events.pipe(Zi(r=>r instanceof To||r instanceof Dc||r instanceof Ef||r instanceof Fa),ze(r=>r instanceof To||r instanceof Fa?Rc.COMPLETE:r instanceof Dc&&(0===r.code||1===r.code)?Rc.REDIRECTING:Rc.FAILED),Zi(r=>r!==Rc.REDIRECTING),Na(1)).subscribe(()=>{t()})}function ZP(e){throw e}function QP(e,t,r){return t.parse("/")}const KP={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},JP={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let sn=(()=>{var e;class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=ie(jw),this.isNgZoneEnabled=!1,this._events=new At,this.options=ie(Mf,{optional:!0})||{},this.pendingTasks=ie(Sd),this.errorHandler=this.options.errorHandler||ZP,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||QP,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=ie(YP),this.routeReuseStrategy=ie(WP),this.titleStrategy=ie(hx),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=ie(Ua,{optional:!0})?.flat()??[],this.navigationTransitions=ie(Tf),this.urlSerializer=ie(wc),this.location=ie(Rg),this.componentInputBindingEnabled=!!ie(Af,{optional:!0}),this.eventsSubscription=new kn,this.isNgZoneEnabled=ie(St)instanceof St&&St.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Pa,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=$2(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:o}=this.navigationTransitions;if(null===o)return void(gx(i)&&this._events.next(i));if(i instanceof _f)fx(o.source)&&(this.browserUrlTree=o.extractedUrl);else if(i instanceof Fa)this.rawUrlTree=o.rawUrl;else if(i instanceof H2){if("eager"===this.urlUpdateStrategy){if(!o.extras.skipLocationChange){const c=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl);this.setBrowserUrl(c,o)}this.browserUrlTree=o.urlAfterRedirects}}else if(i instanceof M1)this.currentUrlTree=o.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),this.routerState=o.targetRouterState,"deferred"===this.urlUpdateStrategy&&(o.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,o),this.browserUrlTree=o.urlAfterRedirects);else if(i instanceof Dc)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(o);else if(i instanceof N1){const c=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),f={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||fx(o.source)};this.scheduleNavigation(c,Ac,null,f,{resolve:o.resolve,reject:o.reject,promise:o.promise})}i instanceof Ef&&this.restoreHistory(o,!0),i instanceof To&&(this.navigated=!0),gx(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Ac,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const i="popstate"===n.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,i,n.state)},0)}))}navigateToSyncWithBrowser(n,i,o){const c={replaceUrl:!0},f=o?.navigationId?o:null;if(o){const g={...o};delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(c.state=g)}const m=this.parseUrl(n);this.scheduleNavigation(m,i,f,c)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(V1),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,i={}){const{relativeTo:o,queryParams:c,fragment:f,queryParamsHandling:m,preserveFragment:g}=i,w=g?this.currentUrlTree.fragment:f;let D,E=null;switch(m){case"merge":E={...this.currentUrlTree.queryParams,...c};break;case"preserve":E=this.currentUrlTree.queryParams;break;default:E=c||null}null!==E&&(E=this.removeEmptyProps(E));try{D=F2(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),D=this.currentUrlTree.root}return L2(D,n,E,w??null)}navigateByUrl(n,i={skipLocationChange:!1}){const o=ys(n)?n:this.parseUrl(n),c=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(c,Ac,null,i)}navigate(n,i={skipLocationChange:!1}){return function eF(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new X(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let i;try{i=this.urlSerializer.parse(n)}catch(o){i=this.malformedUriErrorHandler(o,this.urlSerializer,n)}return i}isActive(n,i){let o;if(o=!0===i?{...KP}:!1===i?{...JP}:i,ys(n))return b2(this.currentUrlTree,n,o);const c=this.parseUrl(n);return b2(this.currentUrlTree,c,o)}removeEmptyProps(n){return Object.keys(n).reduce((i,o)=>{const c=n[o];return null!=c&&(i[o]=c),i},{})}scheduleNavigation(n,i,o,c,f){if(this.disposed)return Promise.resolve(!1);let m,g,w;f?(m=f.resolve,g=f.reject,w=f.promise):w=new Promise((D,I)=>{m=D,g=I});const E=this.pendingTasks.add();return px(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(E))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:n,extras:c,resolve:m,reject:g,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(D=>Promise.reject(D))}setBrowserUrl(n,i){const o=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){const f={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(o,"",f)}else{const c={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(o,"",c)}}restoreHistory(n,i=!1){if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-this.browserPageId;0!==c?this.location.historyGo(c):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===c&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function gx(e){return!(e instanceof M1||e instanceof N1)}let Ki=(()=>{var e;class t{constructor(n,i,o,c,f,m){this.router=n,this.route=i,this.tabIndexAttribute=o,this.renderer=c,this.el=f,this.locationStrategy=m,this.href=null,this.commands=null,this.onChanges=new At,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const g=f.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===g||"area"===g,this.isAnchorElement?this.subscription=n.events.subscribe(w=>{w instanceof To&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,i,o,c,f){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||i||o||c||f||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function Jm(e,t,r){return function $b(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?Km:Bi}(t,r)(e)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,i){const o=this.renderer,c=this.el.nativeElement;null!==i?o.setAttribute(c,n,i):o.removeAttribute(c,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(e=t).\u0275fac=function(n){return new(n||e)(z(sn),z(Mo),function Au(e){return function fD(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const r=e.attrs;if(r){const n=r.length;let i=0;for(;i<n;){const o=r[i];if(_(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<n&&"string"==typeof r[i];)i++;else{if(o===t)return r[i+1];i+=2}}}return null}(Dn(),e)}("tabindex"),z(Vi),z(Cr),z(cs))},e.\u0275dir=Te({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,i){1&n&&st("click",function(c){return i.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),2&n&&vi("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",ba],skipLocationChange:["skipLocationChange","skipLocationChange",ba],replaceUrl:["replaceUrl","replaceUrl",ba],routerLink:"routerLink"},standalone:!0,features:[dC,Rr]}),t})(),mx=(()=>{var e;class t{get isActive(){return this._isActive}constructor(n,i,o,c,f){this.router=n,this.element=i,this.renderer=o,this.cdr=c,this.link=f,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Gt,this.routerEventsSubscription=n.events.subscribe(m=>{m instanceof To&&this.update()})}ngAfterContentInit(){ae(this.links.changes,ae(null)).pipe(io()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const n=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=Et(n).pipe(io()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(n){const i=Array.isArray(n)?n:n.split(" ");this.classes=i.filter(o=>!!o)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const n=this.hasActiveLinks();this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.classes.forEach(i=>{n?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),n&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(n))})}isLinkActive(n){const i=function tF(e){return!!e.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return o=>!!o.urlTree&&n.isActive(o.urlTree,i)}hasActiveLinks(){const n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}}return(e=t).\u0275fac=function(n){return new(n||e)(z(sn),z(Cr),z(Vi),z(Rd),z(Ki,8))},e.\u0275dir=Te({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(n,i,o){if(1&n&&function _w(e,t,r,n){const i=Ke();if(i.firstCreatePass){const o=Dn();xw(i,new vw(t,r,n),o.index),function K3(e,t){const r=e.contentQueries||(e.contentQueries=[]);t!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,t)}(i,e),2==(2&r)&&(i.staticContentQueries=!0)}Ew(i,Y(),r)}(o,Ki,5),2&n){let c;Dd(c=bd())&&(i.links=c)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Rr]}),t})();class yx{}let nF=(()=>{var e;class t{constructor(n,i,o,c,f){this.router=n,this.injector=o,this.preloadingStrategy=c,this.loader=f}setUpPreloading(){this.subscription=this.router.events.pipe(Zi(n=>n instanceof To),Ra(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,i){const o=[];for(const c of i){c.providers&&!c._injector&&(c._injector=Jp(c.providers,n,`Route: ${c.path}`));const f=c._injector??n,m=c._loadedInjector??f;(c.loadChildren&&!c._loadedRoutes&&void 0===c.canLoad||c.loadComponent&&!c._loadedComponent)&&o.push(this.preloadConfig(f,c)),(c.children||c._loadedRoutes)&&o.push(this.processRoutes(m,c.children??c._loadedRoutes))}return Et(o).pipe(io())}preloadConfig(n,i){return this.preloadingStrategy.preload(i,()=>{let o;o=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(n,i):ae(null);const c=o.pipe(ln(f=>null===f?ae(void 0):(i._loadedRoutes=f.routes,i._loadedInjector=f.injector,this.processRoutes(f.injector??n,f.routes))));return i.loadComponent&&!i._loadedComponent?Et([c,this.loader.loadComponent(i)]).pipe(io()):c})}}return(e=t).\u0275fac=function(n){return new(n||e)(se(sn),se(Hw),se(yr),se(yx),se(z1))},e.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const G1=new de("");let Cx=(()=>{var e;class t{constructor(n,i,o,c,f={}){this.urlSerializer=n,this.transitions=i,this.viewportScroller=o,this.zone=c,this.options=f,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},f.scrollPositionRestoration=f.scrollPositionRestoration||"disabled",f.anchorScrolling=f.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof _f?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof To?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Fa&&0===n.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof z2&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new z2(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(e=t).\u0275fac=function(n){!function By(){throw new Error("invalid")}()},e.\u0275prov=me({token:e,factory:e.\u0275fac}),t})();function Ji(e,t){return{\u0275kind:e,\u0275providers:t}}function wx(){const e=ie(vr);return t=>{const r=e.get(Da);if(t!==r.components[0])return;const n=e.get(sn),i=e.get(_x);1===e.get(W1)&&n.initialNavigation(),e.get(Ex,null,ke.Optional)?.setUpPreloading(),e.get(G1,null,ke.Optional)?.init(),n.resetRootComponentType(r.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const _x=new de("",{factory:()=>new At}),W1=new de("",{providedIn:"root",factory:()=>1}),Ex=new de("");function sF(e){return Ji(0,[{provide:Ex,useExisting:nF},{provide:yx,useExisting:e}])}const xx=new de("ROUTER_FORROOT_GUARD"),lF=[Rg,{provide:wc,useClass:D1},sn,bc,{provide:Mo,useFactory:function vx(e){return e.routerState.root},deps:[sn]},z1,[]];function cF(){return new Xw("Router",sn)}let Ax=(()=>{var e;class t{constructor(n){}static forRoot(n,i){return{ngModule:t,providers:[lF,[],{provide:Ua,multi:!0,useValue:n},{provide:xx,useFactory:hF,deps:[[sn,new Iu,new Su]]},{provide:Mf,useValue:i||{}},i?.useHash?{provide:cs,useClass:NR}:{provide:cs,useClass:D_},{provide:G1,useFactory:()=>{const e=ie(YO),t=ie(St),r=ie(Mf),n=ie(Tf),i=ie(wc);return r.scrollOffset&&e.setOffset(r.scrollOffset),new Cx(i,n,e,t,r)}},i?.preloadingStrategy?sF(i.preloadingStrategy).\u0275providers:[],{provide:Xw,multi:!0,useFactory:cF},i?.initialNavigation?pF(i):[],i?.bindToComponentInputs?Ji(8,[Z2,{provide:Af,useExisting:Z2}]).\u0275providers:[],[{provide:Dx,useFactory:wx},{provide:Eg,multi:!0,useExisting:Dx}]]}}static forChild(n){return{ngModule:t,providers:[{provide:Ua,multi:!0,useValue:n}]}}}return(e=t).\u0275fac=function(n){return new(n||e)(se(xx,8))},e.\u0275mod=Nr({type:e}),e.\u0275inj=jn({}),t})();function hF(e){return"guarded"}function pF(e){return["disabled"===e.initialNavigation?Ji(3,[{provide:pg,multi:!0,useFactory:()=>{const t=ie(sn);return()=>{t.setUpLocationChangeListener()}}},{provide:W1,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Ji(2,[{provide:W1,useValue:0},{provide:pg,multi:!0,deps:[vr],useFactory:t=>{const r=t.get(TR,Promise.resolve());return()=>r.then(()=>new Promise(n=>{const i=t.get(sn),o=t.get(_x);px(i,()=>{n(!0)}),t.get(Tf).afterPreactivation=()=>(n(!0),o.closed?ae(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const Dx=new de("");class Nf{}class Rf{}class Qt{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(r=>{const n=r.indexOf(":");if(n>0){const i=r.slice(0,n),o=i.toLowerCase(),c=r.slice(n+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(c):this.headers.set(o,[c])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((r,n)=>{this.setHeaderEntries(n,r)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([r,n])=>{this.setHeaderEntries(r,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const r=this.headers.get(t.toLowerCase());return r&&r.length>0?r[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,r){return this.clone({name:t,value:r,op:"a"})}set(t,r){return this.clone({name:t,value:r,op:"s"})}delete(t,r){return this.clone({name:t,value:r,op:"d"})}maybeSetNormalizedName(t,r){this.normalizedNames.has(r)||this.normalizedNames.set(r,t)}init(){this.lazyInit&&(this.lazyInit instanceof Qt?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(r=>{this.headers.set(r,t.headers.get(r)),this.normalizedNames.set(r,t.normalizedNames.get(r))})}clone(t){const r=new Qt;return r.lazyInit=this.lazyInit&&this.lazyInit instanceof Qt?this.lazyInit:this,r.lazyUpdate=(this.lazyUpdate||[]).concat([t]),r}applyUpdate(t){const r=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,r);const i=("a"===t.op?this.headers.get(r):void 0)||[];i.push(...n),this.headers.set(r,i);break;case"d":const o=t.value;if(o){let c=this.headers.get(r);if(!c)return;c=c.filter(f=>-1===o.indexOf(f)),0===c.length?(this.headers.delete(r),this.normalizedNames.delete(r)):this.headers.set(r,c)}else this.headers.delete(r),this.normalizedNames.delete(r)}}setHeaderEntries(t,r){const n=(Array.isArray(r)?r:[r]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,n),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(r=>t(this.normalizedNames.get(r),this.headers.get(r)))}}class mF{encodeKey(t){return bx(t)}encodeValue(t){return bx(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const CF=/%(\d[a-f0-9])/gi,vF={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function bx(e){return encodeURIComponent(e).replace(CF,(t,r)=>vF[r]??t)}function Of(e){return`${e}`}class No{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new mF,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function yF(e,t){const r=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[c,f]=-1==o?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],m=r.get(c)||[];m.push(f),r.set(c,m)}),r}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(r=>{const n=t.fromObject[r],i=Array.isArray(n)?n.map(Of):[Of(n)];this.map.set(r,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const r=this.map.get(t);return r?r[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,r){return this.clone({param:t,value:r,op:"a"})}appendAll(t){const r=[];return Object.keys(t).forEach(n=>{const i=t[n];Array.isArray(i)?i.forEach(o=>{r.push({param:n,value:o,op:"a"})}):r.push({param:n,value:i,op:"a"})}),this.clone(r)}set(t,r){return this.clone({param:t,value:r,op:"s"})}delete(t,r){return this.clone({param:t,value:r,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const r=this.encoder.encodeKey(t);return this.map.get(t).map(n=>r+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const r=new No({encoder:this.encoder});return r.cloneFrom=this.cloneFrom||this,r.updates=(this.updates||[]).concat(t),r}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const r=("a"===t.op?this.map.get(t.param):void 0)||[];r.push(Of(t.value)),this.map.set(t.param,r);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let n=this.map.get(t.param)||[];const i=n.indexOf(Of(t.value));-1!==i&&n.splice(i,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class wF{constructor(){this.map=new Map}set(t,r){return this.map.set(t,r),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function Ix(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function Sx(e){return typeof Blob<"u"&&e instanceof Blob}function Tx(e){return typeof FormData<"u"&&e instanceof FormData}class Oc{constructor(t,r,n,i){let o;if(this.url=r,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function _F(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,o=i):o=n,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Qt),this.context||(this.context=new wF),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=r;else{const f=r.indexOf("?");this.urlWithParams=r+(-1===f?"?":f<r.length-1?"&":"")+c}}else this.params=new No,this.urlWithParams=r}serializeBody(){return null===this.body?null:Ix(this.body)||Sx(this.body)||Tx(this.body)||function EF(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof No?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Tx(this.body)?null:Sx(this.body)?this.body.type||null:Ix(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof No?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const r=t.method||this.method,n=t.url||this.url,i=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,c=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,f=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let m=t.headers||this.headers,g=t.params||this.params;const w=t.context??this.context;return void 0!==t.setHeaders&&(m=Object.keys(t.setHeaders).reduce((E,D)=>E.set(D,t.setHeaders[D]),m)),t.setParams&&(g=Object.keys(t.setParams).reduce((E,D)=>E.set(D,t.setParams[D]),g)),new Oc(r,n,o,{params:g,headers:m,context:w,reportProgress:f,responseType:i,withCredentials:c})}}var ja=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(ja||{});class $1{constructor(t,r=200,n="OK"){this.headers=t.headers||new Qt,this.status=void 0!==t.status?t.status:r,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class q1 extends $1{constructor(t={}){super(t),this.type=ja.ResponseHeader}clone(t={}){return new q1({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Ha extends $1{constructor(t={}){super(t),this.type=ja.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Ha({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Mx extends $1{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Y1(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let X1=(()=>{var e;class t{constructor(n){this.handler=n}request(n,i,o={}){let c;if(n instanceof Oc)c=n;else{let g,w;g=o.headers instanceof Qt?o.headers:new Qt(o.headers),o.params&&(w=o.params instanceof No?o.params:new No({fromObject:o.params})),c=new Oc(n,i,void 0!==o.body?o.body:null,{headers:g,context:o.context,params:w,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials})}const f=ae(c).pipe(Ra(g=>this.handler.handle(g)));if(n instanceof Oc||"events"===o.observe)return f;const m=f.pipe(Zi(g=>g instanceof Ha));switch(o.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return m.pipe(ze(g=>{if(null!==g.body&&!(g.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return g.body}));case"blob":return m.pipe(ze(g=>{if(null!==g.body&&!(g.body instanceof Blob))throw new Error("Response is not a Blob.");return g.body}));case"text":return m.pipe(ze(g=>{if(null!==g.body&&"string"!=typeof g.body)throw new Error("Response is not a string.");return g.body}));default:return m.pipe(ze(g=>g.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(n,i={}){return this.request("DELETE",n,i)}get(n,i={}){return this.request("GET",n,i)}head(n,i={}){return this.request("HEAD",n,i)}jsonp(n,i){return this.request("JSONP",n,{params:(new No).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,i={}){return this.request("OPTIONS",n,i)}patch(n,i,o={}){return this.request("PATCH",n,Y1(o,i))}post(n,i,o={}){return this.request("POST",n,Y1(o,i))}put(n,i,o={}){return this.request("PUT",n,Y1(o,i))}}return(e=t).\u0275fac=function(n){return new(n||e)(se(Nf))},e.\u0275prov=me({token:e,factory:e.\u0275fac}),t})();function Ox(e,t){return t(e)}function AF(e,t){return(r,n)=>t.intercept(r,{handle:i=>e(i,n)})}const Px=new de(""),Pc=new de(""),Fx=new de("");function bF(){let e=null;return(t,r)=>{null===e&&(e=(ie(Px,{optional:!0})??[]).reduceRight(AF,Ox));const n=ie(Sd),i=n.add();return e(t,r).pipe(yc(()=>n.remove(i)))}}let Lx=(()=>{var e;class t extends Nf{constructor(n,i){super(),this.backend=n,this.injector=i,this.chain=null,this.pendingTasks=ie(Sd)}handle(n){if(null===this.chain){const o=Array.from(new Set([...this.injector.get(Pc),...this.injector.get(Fx,[])]));this.chain=o.reduceRight((c,f)=>function DF(e,t,r){return(n,i)=>r.runInContext(()=>t(n,o=>e(o,i)))}(c,f,this.injector),Ox)}const i=this.pendingTasks.add();return this.chain(n,o=>this.backend.handle(o)).pipe(yc(()=>this.pendingTasks.remove(i)))}}return(e=t).\u0275fac=function(n){return new(n||e)(se(Rf),se(yr))},e.\u0275prov=me({token:e,factory:e.\u0275fac}),t})();const MF=/^\)\]\}',?\n/;let Bx=(()=>{var e;class t{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new X(-2800,!1);const i=this.xhrFactory;return(i.\u0275loadImpl?Et(i.\u0275loadImpl()):ae(null)).pipe(je(()=>new dt(c=>{const f=i.build();if(f.open(n.method,n.urlWithParams),n.withCredentials&&(f.withCredentials=!0),n.headers.forEach((k,H)=>f.setRequestHeader(k,H.join(","))),n.headers.has("Accept")||f.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const k=n.detectContentTypeHeader();null!==k&&f.setRequestHeader("Content-Type",k)}if(n.responseType){const k=n.responseType.toLowerCase();f.responseType="json"!==k?k:"text"}const m=n.serializeBody();let g=null;const w=()=>{if(null!==g)return g;const k=f.statusText||"OK",H=new Qt(f.getAllResponseHeaders()),V=function NF(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(f)||n.url;return g=new q1({headers:H,status:f.status,statusText:k,url:V}),g},E=()=>{let{headers:k,status:H,statusText:V,url:ne}=w(),te=null;204!==H&&(te=typeof f.response>"u"?f.responseText:f.response),0===H&&(H=te?200:0);let Ce=H>=200&&H<300;if("json"===n.responseType&&"string"==typeof te){const ut=te;te=te.replace(MF,"");try{te=""!==te?JSON.parse(te):null}catch(kt){te=ut,Ce&&(Ce=!1,te={error:kt,text:te})}}Ce?(c.next(new Ha({body:te,headers:k,status:H,statusText:V,url:ne||void 0})),c.complete()):c.error(new Mx({error:te,headers:k,status:H,statusText:V,url:ne||void 0}))},D=k=>{const{url:H}=w(),V=new Mx({error:k,status:f.status||0,statusText:f.statusText||"Unknown Error",url:H||void 0});c.error(V)};let I=!1;const P=k=>{I||(c.next(w()),I=!0);let H={type:ja.DownloadProgress,loaded:k.loaded};k.lengthComputable&&(H.total=k.total),"text"===n.responseType&&f.responseText&&(H.partialText=f.responseText),c.next(H)},F=k=>{let H={type:ja.UploadProgress,loaded:k.loaded};k.lengthComputable&&(H.total=k.total),c.next(H)};return f.addEventListener("load",E),f.addEventListener("error",D),f.addEventListener("timeout",D),f.addEventListener("abort",D),n.reportProgress&&(f.addEventListener("progress",P),null!==m&&f.upload&&f.upload.addEventListener("progress",F)),f.send(m),c.next({type:ja.Sent}),()=>{f.removeEventListener("error",D),f.removeEventListener("abort",D),f.removeEventListener("load",E),f.removeEventListener("timeout",D),n.reportProgress&&(f.removeEventListener("progress",P),null!==m&&f.upload&&f.upload.removeEventListener("progress",F)),f.readyState!==f.DONE&&f.abort()}})))}}return(e=t).\u0275fac=function(n){return new(n||e)(se(G_))},e.\u0275prov=me({token:e,factory:e.\u0275fac}),t})();const Z1=new de("XSRF_ENABLED"),Vx=new de("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Ux=new de("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class jx{}let PF=(()=>{var e;class t{constructor(n,i,o){this.doc=n,this.platform=i,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=F_(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return(e=t).\u0275fac=function(n){return new(n||e)(se(_r),se(ts),se(Vx))},e.\u0275prov=me({token:e,factory:e.\u0275fac}),t})();function FF(e,t){const r=e.url.toLowerCase();if(!ie(Z1)||"GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return t(e);const n=ie(jx).getToken(),i=ie(Ux);return null!=n&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,n)})),t(e)}var Ro=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(Ro||{});function Cs(e,t){return{\u0275kind:e,\u0275providers:t}}function LF(...e){const t=[X1,Bx,Lx,{provide:Nf,useExisting:Lx},{provide:Rf,useExisting:Bx},{provide:Pc,useValue:FF,multi:!0},{provide:Z1,useValue:!0},{provide:jx,useClass:PF}];for(const r of e)t.push(...r.\u0275providers);return function Xh(e){return{\u0275providers:e}}(t)}const Hx=new de("LEGACY_INTERCEPTOR_FN");let BF=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Nr({type:e}),e.\u0275inj=jn({providers:[LF(Cs(Ro.LegacyInterceptors,[{provide:Hx,useFactory:bF},{provide:Pc,useExisting:Hx,multi:!0}]))]}),t})(),Jr=(()=>{var e;class t{constructor(){this.authToken="",this.refreshToken="",this.loggedInStatus=new Ye(!1)}setAuthToken(n,i,o){this.loggedInStatus.next(!0),this.authToken=n,this.refreshToken=i,localStorage.setItem("token",n),localStorage.setItem("loggedIn","true"),localStorage.setItem("refresh_token",i),localStorage.setItem("id",o)}getAuthToken(){return localStorage.getItem("token")}getRefreshAuthToken(){return localStorage.getItem("refresh_token")}getUserId(){return localStorage.getItem("id")}isLoggedIn(){return null!==localStorage.getItem("token")}getLoggedInStatus(){return this.loggedInStatus.asObservable()}logout(){localStorage.clear(),this.loggedInStatus.next(!1)}}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),lr=(()=>{var e;class t{constructor(n,i){this.http=n,this.authService=i,this.baseUrl="http://localhost:8000/"}postLoginUser(n){return this.http.post(this.baseUrl+"accounts/login/",{username:n.nome,email:n.email,password:n.senha},{})}postLogOutUser(){const n=this.authService.getAuthToken(),i=new Qt({"Content-type":"application/json",Authorization:`Bearer ${n}`});return this.http.post(this.baseUrl+"accounts/logout/",null,{headers:i})}refreshToken(n){const i=localStorage.getItem("token");return new Qt({"Content-type":"application/json",Authorization:`Bearer ${i}`}),this.http.post(this.baseUrl+"accounts/token/refresh/",{refresh:n},{})}verifyToken(){const n=localStorage.getItem("token");return this.http.post(this.baseUrl+"accounts/token/verify/",{token:n},{})}postUser(n){const i=new Qt({"Content-type":"application/json"});return console.log(n),this.http.post(this.baseUrl+"accounts/registration/",{username:n.username,first_name:n.nome,last_name:n.sobrenome,email:n.email,password1:n.senha,password2:n.confirmaSenha,esportePreferido:n.esportePreferido,cpf:n.cpf,cep:n.cep,endereco:n.endereco,cidade:n.cidade,estado:n.estado},{headers:i})}putUser(n,i){const o=this.authService.getAuthToken(),c=new Qt({Authorization:`Bearer ${o}`});return this.http.put(this.baseUrl+`usuario/usuarios/${i}/`,n,{headers:c})}getAllEventos(){const n=this.authService.getAuthToken(),i=new Qt({"Content-type":"application/json",Authorization:`Bearer ${n}`});return this.http.get(this.baseUrl+"/evento/eventos",{headers:i})}getUserLogado(){const n=localStorage.getItem("token"),i=new Qt({"Content-type":"application/json",Authorization:`Bearer ${n}`});return this.http.get(this.baseUrl+"/accounts/user/",{headers:i})}getAllUsers(){const n=localStorage.getItem("token"),i=new Qt({"Content-type":"application/json",Authorization:`Bearer ${n}`});return this.http.get(this.baseUrl+"usuario/usuarios/",{headers:i})}getAtividades(){const n=localStorage.getItem("token"),i=new Qt({"Content-type":"application/json",Authorization:`Bearer ${n}`});return this.http.get(this.baseUrl+"atividade/atividades/",{headers:i})}postAtividade(n){const i=localStorage.getItem("token"),o=new Qt({Authorization:`Bearer ${i}`});return this.http.post(this.baseUrl+"/atividade/atividades/",n,{headers:o})}getAtividadeById(n){const i=localStorage.getItem("token"),o=new Qt({"Content-type":"application/json",Authorization:`Bearer ${i}`});return this.http.get(this.baseUrl+"atividade/atividades/"+n+"/",{headers:o})}postEvento(n){const i=localStorage.getItem("token"),o=new Qt({Authorization:`Bearer ${i}`});return this.http.post(this.baseUrl+"evento/eventos/",n,{headers:o})}confirmEmail(n){return this.http.post(this.baseUrl+"/accounts/registration/verify-email/",{key:n},{})}}return(e=t).\u0275fac=function(n){return new(n||e)(se(X1),se(Jr))},e.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function GF(e,t){1&e&&(M(0,"div",37),R(1," Usu\xe1rio e/ou senha incorretos "),T())}let WF=(()=>{var e;class t{constructor(n,i,o,c){this.formBuilder=n,this.router=i,this.api=o,this.authService=c,this.mostraFracasso=!1,this.id="",this.acess="",this.refresh="",this.entrarClicado=!1}ngOnInit(){this.form=this.formBuilder.group({email:[""],senha:[""]}),this.entrarClicado=!1}entrar(){if(this.form.invalid)return void this.form.markAllAsTouched();const n=this.form.getRawValue();this.entrarClicado=!0,ae(this.api.postLoginUser(n).subscribe({next:i=>{const o=i;this.id=String(o.user.pk),this.authService.setAuthToken(o.access,o.refresh,this.id),this.router.navigate(["perfil/"]),localStorage.setItem("mostraHome","false")},error:i=>{console.log(i),this.entrarClicado=!1,this.mostraFracasso=!0},complete:()=>console.info("complete")}))}}return(e=t).\u0275fac=function(n){return new(n||e)(z(mc),z(sn),z(lr),z(Jr))},e.\u0275cmp=Bt({type:e,selectors:[["app-home"]],decls:63,vars:3,consts:[[1,"container-fluid"],[1,"row"],[1,"col-md-6","d-flex","justify-content-end","vh-md-100"],["data-bs-ride","carousel","id","carouselExampleIndicators","data-bs-interval","4000",1,"carousel","slide","mt-md-5","mt-2","mb-3",2,"max-width","570px"],[1,"carousel-indicators"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide-to","0","aria-current","true","aria-label","Slide 1",1,"active"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide-to","1","aria-label","Slide 2"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide-to","2","aria-label","Slide 3"],[1,"carousel-inner"],[1,"carousel-item","active",2,"max-width","100%","height","auto"],["src","../../../assets/images/a white duck pl 1.png","alt","...",1,"img-fluid","rounded"],[1,"carousel-caption","d-none","d-md-block"],[2,"color","black"],[1,"carousel-item",2,"max-width","100%","height","auto"],["src","../../../assets/images/pato volei.jpg","alt","...",1,"img-fluid","rounded"],["src","../../../assets/images/pato corrida.jpg","alt","...",1,"img-fluid","rounded"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"col-md-6"],[1,"row","justify-content-center"],[1,"col-md-4","mt-md-5","mt-2"],[1,"card","p-5","mx-auto","mb-3",2,"width","22rem","height","auto"],[3,"formGroup"],[1,"h3","mb-3","font-weight-normal"],["for","email"],["placeholder","","id","email","type","text","formControlName","email",1,"form-control"],["for","senha"],["id","senha","placeholder","","type","password","formControlName","senha",1,"form-control"],[1,"mb-3"],["routerLink","/cadastro","routerLinkActive","active"],["class","alert alert-danger","role","alert",4,"ngIf"],["id","signIn",1,"btn","btn-mg",3,"disabled","click"],[1,"row","mx-auto","mb-3",2,"width","22rem"],[1,"text-center"],["role","alert",1,"alert","alert-danger"]],template:function(n,i){1&n&&(M(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),Ae(5,"button",5)(6,"button",6)(7,"button",7),T(),M(8,"div",8)(9,"div",9),Ae(10,"img",10),M(11,"div",11)(12,"h5",12),R(13,"First slide label"),T(),M(14,"p",12)(15,"strong"),R(16,"Some representative placeholder content for the first slide."),T()()()(),M(17,"div",13),Ae(18,"img",14),M(19,"div",11)(20,"h5",12),R(21,"First slide label"),T(),M(22,"p",12)(23,"strong"),R(24,"Some representative placeholder content for the first slide."),T()()()(),M(25,"div",13),Ae(26,"img",15),M(27,"div",11)(28,"h5",12),R(29,"First slide label"),T(),M(30,"p",12)(31,"strong"),R(32,"Some representative placeholder content for the first slide."),T()()()()(),M(33,"button",16),Ae(34,"span",17),M(35,"span",18),R(36,"Previous"),T()(),M(37,"button",19),Ae(38,"span",20),M(39,"span",18),R(40,"Next"),T()()()(),M(41,"div",21)(42,"div",22)(43,"div",23)(44,"div",24)(45,"form",25)(46,"h1",26),R(47,"Login"),T(),M(48,"label",27),R(49,"E-mail"),T(),Ae(50,"input",28),M(51,"label",29),R(52,"Senha"),T(),Ae(53,"input",30),M(54,"div",31)(55,"a",32),R(56,"Criar uma conta"),T()(),ge(57,GF,2,0,"div",33),M(58,"button",34),st("click",function(){return i.entrar()}),R(59,"Entrar"),T()()(),M(60,"div",35)(61,"div",36),R(62,"Quack para um estilo de vida saud\xe1vel - Seja como nosso pato branco, mergulhe nos esportes!"),T()()()()()()()),2&n&&($(45),K("formGroup",i.form),$(12),K("ngIf",i.mostraFracasso),$(1),K("disabled",i.entrarClicado))},dependencies:[Yi,Ki,mx,bo,Xi,ds,Do,hs,Ma],styles:["#signIn[_ngcontent-%COMP%]{background-color:#cb3dd8}#signIn[_ngcontent-%COMP%]:hover{background-color:#760b8b}"]}),t})();class zx{static forcaSenha(t){const r=t.value;if(!r)return null;const n=/[A-Z]+/.test(r),i=/[a-z]+/.test(r),o=/[0-9]+/.test(r);return n&&i&&o&&r.length>=8?null:{forcaSenha:!0}}static cpf(t){if(!t.value)return null;let n=t.value;if(n=n.replace(/[^\d]+/g,""),11!=n.length||"00000000000"==n||"11111111111"==n||"22222222222"==n||"33333333333"==n||"44444444444"==n||"55555555555"==n||"66666666666"==n||"77777777777"==n||"88888888888"==n||"99999999999"==n)return{cpf:!0};let i=0;for(let c=0;c<9;c++)i+=parseInt(n.charAt(c))*(10-c);let o=11-i%11;if((10==o||11==o)&&(o=0),o!=parseInt(n.charAt(9)))return{cpf:!0};i=0;for(let c=0;c<10;c++)i+=parseInt(n.charAt(c))*(11-c);return o=11-i%11,(10==o||11==o)&&(o=0),o!=parseInt(n.charAt(10))?{cpf:!0}:null}}function $F(e,t){1&e&&(M(0,"ul")(1,"li"),R(2,"Campo obrigat\xf3rio"),T()())}function qF(e,t){1&e&&(M(0,"li"),R(1,"Campo obrigat\xf3rio"),T())}function YF(e,t){1&e&&(M(0,"li"),R(1,"E-mail inv\xe1lido"),T())}function XF(e,t){if(1&e&&(M(0,"ul"),ge(1,qF,2,0,"li",6),ge(2,YF,2,0,"li",6),T()),2&e){const r=Pt();let n,i;$(1),K("ngIf",null==(n=r.form.get("email"))?null:n.hasError("required")),$(1),K("ngIf",null==(i=r.form.get("email"))?null:i.hasError("email"))}}function ZF(e,t){1&e&&(M(0,"ul")(1,"li"),R(2,"Campo obrigat\xf3rio"),T()())}function QF(e,t){1&e&&(M(0,"li"),R(1,"Campo obrigat\xf3rio"),T())}function KF(e,t){if(1&e&&(M(0,"ul"),ge(1,QF,2,0,"li",6),T()),2&e){const r=Pt();let n;$(1),K("ngIf",null==(n=r.form.get("sobrenome"))?null:n.hasError("required"))}}function JF(e,t){1&e&&(M(0,"li"),R(1,"Campo obrigat\xf3rio"),T())}function eL(e,t){1&e&&(M(0,"li"),R(1,"Digite no m\xe1ximo 20 d\xedgitos"),T())}function tL(e,t){1&e&&(M(0,"li"),R(1,"Digite no m\xednimo 4 digitos"),T())}function nL(e,t){1&e&&(M(0,"li"),R(1,"A senha deve conter pelo menos 8 d\xedgitos, uma letra mai\xfascula, uma letra min\xfascula e um n\xfamero"),T())}function rL(e,t){if(1&e&&(M(0,"ul"),ge(1,JF,2,0,"li",6),ge(2,eL,2,0,"li",6),ge(3,tL,2,0,"li",6),ge(4,nL,2,0,"li",6),T()),2&e){const r=Pt();let n,i,o,c;$(1),K("ngIf",null==(n=r.form.get("senha"))?null:n.hasError("required")),$(1),K("ngIf",null==(i=r.form.get("senha"))?null:i.hasError("maxlength")),$(1),K("ngIf",null==(o=r.form.get("senha"))?null:o.hasError("minlength")),$(1),K("ngIf",null==(c=r.form.get("senha"))?null:c.hasError("forcaSenha"))}}function iL(e,t){1&e&&(M(0,"li"),R(1,"Campo obrigat\xf3rio"),T())}function oL(e,t){1&e&&(M(0,"li"),R(1,"Digite no m\xe1ximo 20 d\xedgitos"),T())}function sL(e,t){1&e&&(M(0,"li"),R(1,"Digite no m\xednimo 4 digitos"),T())}function aL(e,t){1&e&&(M(0,"li"),R(1,"As senhas n\xe3o conferem"),T())}function lL(e,t){if(1&e&&(M(0,"ul"),ge(1,iL,2,0,"li",6),ge(2,oL,2,0,"li",6),ge(3,sL,2,0,"li",6),ge(4,aL,2,0,"li",6),T()),2&e){const r=Pt();let n,i,o,c;$(1),K("ngIf",null==(n=r.form.get("confirmaSenha"))?null:n.hasError("required")),$(1),K("ngIf",null==(i=r.form.get("confirmaSenha"))?null:i.hasError("maxlength")),$(1),K("ngIf",null==(o=r.form.get("confirmaSenha"))?null:o.hasError("minlength")),$(1),K("ngIf",null==(c=r.form.get("confirmaSenha"))?null:c.hasError("senhasIguais"))}}function cL(e,t){1&e&&(M(0,"li"),R(1,"Campo obrigat\xf3rio"),T())}function uL(e,t){1&e&&(M(0,"li"),R(1,"CPF inv\xe1lido"),T())}function dL(e,t){if(1&e&&(M(0,"ul"),ge(1,cL,2,0,"li",6),ge(2,uL,2,0,"li",6),T()),2&e){const r=Pt();let n,i;$(1),K("ngIf",null==(n=r.form.get("cpf"))?null:n.hasError("required")),$(1),K("ngIf",null==(i=r.form.get("cpf"))?null:i.hasError("cpf"))}}function fL(e,t){1&e&&(M(0,"li"),R(1,"Campo obrigat\xf3rio"),T())}function hL(e,t){if(1&e&&(M(0,"ul"),ge(1,fL,2,0,"li",6),T()),2&e){const r=Pt();let n;$(1),K("ngIf",null==(n=r.form.get("esportePreferido"))?null:n.hasError("required"))}}function pL(e,t){1&e&&(M(0,"li"),R(1,"Campo obrigat\xf3rio"),T())}function gL(e,t){if(1&e&&(M(0,"ul"),ge(1,pL,2,0,"li",6),T()),2&e){const r=Pt();let n;$(1),K("ngIf",null==(n=r.form.get("cep"))?null:n.hasError("required"))}}function mL(e,t){1&e&&(M(0,"li"),R(1,"Campo obrigat\xf3rio"),T())}function yL(e,t){if(1&e&&(M(0,"ul"),ge(1,mL,2,0,"li",6),T()),2&e){const r=Pt();let n;$(1),K("ngIf",null==(n=r.form.get("endereco"))?null:n.hasError("required"))}}function CL(e,t){1&e&&(M(0,"li"),R(1,"Campo obrigat\xf3rio"),T())}function vL(e,t){if(1&e&&(M(0,"ul"),ge(1,CL,2,0,"li",6),T()),2&e){const r=Pt();let n;$(1),K("ngIf",null==(n=r.form.get("cidade"))?null:n.hasError("required"))}}function wL(e,t){1&e&&(M(0,"li"),R(1,"Campo obrigat\xf3rio"),T())}function _L(e,t){if(1&e&&(M(0,"ul"),ge(1,wL,2,0,"li",6),T()),2&e){const r=Pt();let n;$(1),K("ngIf",null==(n=r.form.get("estado"))?null:n.hasError("required"))}}function EL(e,t){1&e&&(M(0,"div",57),R(1," E-mail de verifica\xe7\xe3o enviado, favor verifique sua caixa de mensagens "),T())}function xL(e,t){1&e&&(M(0,"div",58),R(1," Os dados fornecidos n\xe3o atendem os padr\xf5es necess\xe1rios por favor verifique "),T())}const Br=function(e,t){return{"is-valid":e,"is-invalid":t}};let AL=(()=>{var e;class t{constructor(n,i,o){this.formBuilder=n,this.api=i,this.router=o,this.mostraSucesso=!1,this.mostraFracasso=!1}ngOnInit(){this.form=this.formBuilder.group({username:["",$t.required],nome:["",$t.required],sobrenome:["",$t.required],email:["",[$t.required,$t.email]],senha:["",[$t.required,$t.maxLength(20),$t.minLength(4),zx.forcaSenha]],confirmaSenha:["",[$t.required,$t.maxLength(20),$t.minLength(4)]],esportePreferido:["",[$t.required]],cpf:["",[$t.required,zx.cpf]],cep:["",[$t.required]],endereco:["",[$t.required]],cidade:["",[$t.required]],estado:["",[$t.required]]}),this.subscribeForms()}subscribeForms(){this.form.get("cep")?.valueChanges.subscribe(n=>{n.length>=8&&fetch(`https://viacep.com.br/ws/${n}/json/`).then(i=>i.json()).then(i=>{this.form.get("endereco")?.setValue(i.logradouro,{emitEvent:!1}),this.form.get("estado")?.setValue(i.uf,{emitEvent:!1}),this.form.get("cidade")?.setValue(i.localidade,{emitEvent:!1})}).catch(i=>{console.log("Error",i)})})}salvar(){if(this.form.invalid)return void this.form.markAllAsTouched();const n={...this.form.getRawValue(),esportePreferido:this.form.get("esportePreferido")?.value,cpf:this.form.get("cpf")?.value,cep:this.form.get("cep")?.value,endereco:this.form.get("endereco")?.value,cidade:this.form.get("cidade")?.value,estado:this.form.get("estado")?.value};console.log(n),ae(this.api.postUser(n).subscribe({next:i=>{console.log(i),this.mostraSucesso=!0},error:i=>{console.log(i),this.mostraFracasso=!0},complete:()=>console.info("complete")}))}}return(e=t).\u0275fac=function(n){return new(n||e)(z(mc),z(lr),z(sn))},e.\u0275cmp=Bt({type:e,selectors:[["app-cadastro"]],decls:113,vars:63,consts:[[1,"container-fluid","mt-3"],[3,"formGroup"],[1,"row","mb-3"],[1,"col-6"],["for","username"],["placeholder","Ex: Jo\xe3o01","id","username","type","text","formControlName","username",1,"form-control",3,"ngClass"],[4,"ngIf"],["for","email"],["placeholder","joao@gmail.com","id","email","type","text","formControlName","email",1,"form-control",3,"ngClass"],["for","nome"],["placeholder","Ex: Jo\xe3o","id","nome","type","text","formControlName","nome",1,"form-control",3,"ngClass"],["for","sobrenome"],["placeholder","Ex: Da Silva","id","sobrenome","type","text","formControlName","sobrenome",1,"form-control",3,"ngClass"],["for","senha"],["id","senha","type","password","formControlName","senha",1,"form-control",3,"ngClass"],["for","confirmaSenha"],["id","confirmaSenha","type","password","formControlName","confirmaSenha",1,"form-control",3,"ngClass"],["for","cpf"],["id","cpf","type","text","formControlName","cpf",1,"form-control",3,"ngClass"],["for","esportePreferido"],["data-dropup-auto","false","aria-label","Default select example","formControlName","esportePreferido",1,"form-select","form-control",3,"ngClass"],["selected",""],["value","Atletismo"],["value","Badminton"],["value","Basquete"],["value","Corrida"],["value","Dan\xe7a"],["value","Futebol"],["value","Futsal"],["value","Gin\xe1stica"],["value","Handeball"],["value","Jud\xf4"],["value","Nata\xe7\xe3o"],["value","Passeio"],["value","T\xeanis de Campo"],["value","T\xeanis de Mesa"],["value","Torneio de Cheerleaders"],["value","V\xf4lei"],["value","Xadrez"],[1,"col-6","mt-3"],["for","cep"],["placeholder","Ex: 00000-000","id","cep","type","text","formControlName","cep",1,"form-control",3,"ngClass"],[1,"col-5","mt-3"],["for","endereco"],["placeholder","Ex: Rua dos Alfeneiros","id","endereco","type","text","formControlName","endereco",1,"form-control",3,"ngClass"],[1,"col-10"],["for","cidade"],["placeholder","Ex: S\xe3o Paulo","id","cidade","type","text","formControlName","cidade",1,"form-control",3,"ngClass"],[1,"col-2"],["for","estado"],["placeholder","Ex: SP","id","estado","type","text","formControlName","estado",1,"form-control",3,"ngClass"],[1,"row"],[1,"col","mb-1"],[1,"btn","btn-success",3,"click"],["href","/home",1,"btn","btn-danger"],["class","alert alert-success","role","alert",4,"ngIf"],["class","alert alert-danger","role","alert",4,"ngIf"],["role","alert",1,"alert","alert-success"],["role","alert",1,"alert","alert-danger"]],template:function(n,i){if(1&n&&(M(0,"div",0)(1,"h2"),R(2,"Preencha os campos"),T(),M(3,"form",1)(4,"div",2)(5,"div",3)(6,"label",4),R(7,"Username"),T(),Ae(8,"input",5),ge(9,$F,3,0,"ul",6),T(),M(10,"div",3)(11,"label",7),R(12,"E-mail"),T(),Ae(13,"input",8),ge(14,XF,3,2,"ul",6),T()(),M(15,"div",2)(16,"div",3)(17,"label",9),R(18,"Nome"),T(),Ae(19,"input",10),ge(20,ZF,3,0,"ul",6),T(),M(21,"div",3)(22,"label",11),R(23,"Sobrenome"),T(),Ae(24,"input",12),ge(25,KF,2,1,"ul",6),T()(),M(26,"div",2)(27,"div",3)(28,"label",13),R(29,"Senha"),T(),Ae(30,"input",14),ge(31,rL,5,4,"ul",6),T(),M(32,"div",3)(33,"label",15),R(34,"Confirma\xe7\xe3o da Senha"),T(),Ae(35,"input",16),ge(36,lL,5,4,"ul",6),T()(),M(37,"div",2)(38,"div",3)(39,"label",17),R(40,"CPF"),T(),Ae(41,"input",18),ge(42,dL,3,2,"ul",6),T(),M(43,"div",3)(44,"label",19),R(45,"Esporte Preferido"),T(),M(46,"select",20)(47,"option",21),R(48,"Clique para selecionar"),T(),M(49,"option",22),R(50,"Atletismo"),T(),M(51,"option",23),R(52,"Badminton"),T(),M(53,"option",24),R(54,"Basquete"),T(),M(55,"option",25),R(56,"Corrida"),T(),M(57,"option",26),R(58,"Dan\xe7a"),T(),M(59,"option",27),R(60,"Futebol"),T(),M(61,"option",28),R(62,"Futsal"),T(),M(63,"option",29),R(64,"Gin\xe1stica"),T(),M(65,"option",30),R(66,"Handeball"),T(),M(67,"option",31),R(68,"Jud\xf4"),T(),M(69,"option",32),R(70,"Nata\xe7\xe3o"),T(),M(71,"option",33),R(72,"Passeio"),T(),M(73,"option",34),R(74,"T\xeanis de Campo"),T(),M(75,"option",35),R(76,"T\xeanis de Mesa"),T(),M(77,"option",36),R(78,"Torneio de Cheerleaders"),T(),M(79,"option",37),R(80,"V\xf4lei"),T(),M(81,"option",38),R(82,"Xadrez"),T()(),ge(83,hL,2,1,"ul",6),T(),M(84,"div",2)(85,"div",39)(86,"label",40),R(87,"CEP"),T(),Ae(88,"input",41),ge(89,gL,2,1,"ul",6),T(),M(90,"div",42)(91,"label",43),R(92,"Endere\xe7o"),T(),Ae(93,"input",44),ge(94,yL,2,1,"ul",6),T()(),M(95,"div",45)(96,"label",46),R(97,"Cidade"),T(),Ae(98,"input",47),ge(99,vL,2,1,"ul",6),T(),M(100,"div",48)(101,"label",49),R(102,"Estado"),T(),Ae(103,"input",50),ge(104,_L,2,1,"ul",6),T()()(),M(105,"div",51)(106,"div",52)(107,"button",53),st("click",function(){return i.salvar()}),R(108,"Salvar"),T(),M(109,"a",54),R(110,"Cancelar"),T()(),ge(111,EL,2,0,"div",55),ge(112,xL,2,0,"div",56),T()()),2&n){let o,c,f,m,g,w,E,D,I,P,F,k,H,V,ne,te,Ce,ut,kt,Ln,Cn,Fo,bi,Ga;$(3),K("formGroup",i.form),$(5),K("ngClass",yn(27,Br,null==(o=i.form.get("username"))?null:o.valid,(null==(o=i.form.get("username"))?null:o.invalid)&&((null==(o=i.form.get("username"))?null:o.touched)||(null==(o=i.form.get("username"))?null:o.dirty)))),$(1),K("ngIf",(null==(c=i.form.get("username"))?null:c.invalid)&&((null==(c=i.form.get("username"))?null:c.touched)||(null==(c=i.form.get("username"))?null:c.dirty))),$(4),K("ngClass",yn(30,Br,null==(f=i.form.get("email"))?null:f.valid,(null==(f=i.form.get("email"))?null:f.invalid)&&((null==(f=i.form.get("email"))?null:f.touched)||(null==(f=i.form.get("email"))?null:f.dirty)))),$(1),K("ngIf",(null==(m=i.form.get("email"))?null:m.invalid)&&((null==(m=i.form.get("email"))?null:m.touched)||(null==(m=i.form.get("email"))?null:m.dirty))),$(5),K("ngClass",yn(33,Br,null==(g=i.form.get("nome"))?null:g.valid,(null==(g=i.form.get("nome"))?null:g.invalid)&&((null==(g=i.form.get("nome"))?null:g.touched)||(null==(g=i.form.get("nome"))?null:g.dirty)))),$(1),K("ngIf",(null==(w=i.form.get("nome"))?null:w.invalid)&&((null==(w=i.form.get("nome"))?null:w.touched)||(null==(w=i.form.get("nome"))?null:w.dirty))),$(4),K("ngClass",yn(36,Br,null==(E=i.form.get("sobrenome"))?null:E.valid,(null==(E=i.form.get("sobrenome"))?null:E.invalid)&&((null==(E=i.form.get("sobrenome"))?null:E.touched)||(null==(E=i.form.get("sobrenome"))?null:E.dirty)))),$(1),K("ngIf",(null==(D=i.form.get("sobrenome"))?null:D.invalid)&&((null==(D=i.form.get("sobrenome"))?null:D.touched)||(null==(D=i.form.get("sobrenome"))?null:D.dirty))),$(5),K("ngClass",yn(39,Br,null==(I=i.form.get("senha"))?null:I.valid,(null==(I=i.form.get("senha"))?null:I.invalid)&&((null==(I=i.form.get("senha"))?null:I.touched)||(null==(I=i.form.get("senha"))?null:I.dirty)))),$(1),K("ngIf",(null==(P=i.form.get("senha"))?null:P.invalid)&&((null==(P=i.form.get("senha"))?null:P.touched)||(null==(P=i.form.get("senha"))?null:P.dirty))),$(4),K("ngClass",yn(42,Br,null==(F=i.form.get("confirmaSenha"))?null:F.valid,(null==(F=i.form.get("confirmaSenha"))?null:F.invalid)&&((null==(F=i.form.get("confirmaSenha"))?null:F.touched)||(null==(F=i.form.get("confirmaSenha"))?null:F.dirty)))),$(1),K("ngIf",(null==(k=i.form.get("confirmaSenha"))?null:k.invalid)&&((null==(k=i.form.get("confirmaSenha"))?null:k.touched)||(null==(k=i.form.get("confirmaSenha"))?null:k.dirty))),$(5),K("ngClass",yn(45,Br,null==(H=i.form.get("cpf"))?null:H.valid,(null==(H=i.form.get("cpf"))?null:H.invalid)&&((null==(H=i.form.get("cpf"))?null:H.touched)||(null==(H=i.form.get("cpf"))?null:H.dirty)))),$(1),K("ngIf",(null==(V=i.form.get("cpf"))?null:V.invalid)&&((null==(V=i.form.get("cpf"))?null:V.touched)||(null==(V=i.form.get("cpf"))?null:V.dirty))),$(4),K("ngClass",yn(48,Br,null==(ne=i.form.get("esportePreferido"))?null:ne.valid,(null==(ne=i.form.get("esportePreferido"))?null:ne.invalid)&&((null==(ne=i.form.get("esportePreferido"))?null:ne.touched)||(null==(ne=i.form.get("esportePreferido"))?null:ne.dirty)))),$(37),K("ngIf",(null==(te=i.form.get("esportePreferido"))?null:te.invalid)&&((null==(te=i.form.get("esportePreferido"))?null:te.touched)||(null==(te=i.form.get("esportePreferido"))?null:te.dirty))),$(5),K("ngClass",yn(51,Br,null==(Ce=i.form.get("cep"))?null:Ce.valid,(null==(Ce=i.form.get("cep"))?null:Ce.invalid)&&((null==(Ce=i.form.get("cep"))?null:Ce.touched)||(null==(Ce=i.form.get("cep"))?null:Ce.dirty)))),$(1),K("ngIf",(null==(ut=i.form.get("cep"))?null:ut.invalid)&&((null==(ut=i.form.get("cep"))?null:ut.touched)||(null==(ut=i.form.get("cep"))?null:ut.dirty))),$(4),K("ngClass",yn(54,Br,null==(kt=i.form.get("endereco"))?null:kt.valid,(null==(kt=i.form.get("endereco"))?null:kt.invalid)&&((null==(kt=i.form.get("endereco"))?null:kt.touched)||(null==(kt=i.form.get("endereco"))?null:kt.dirty)))),$(1),K("ngIf",(null==(Ln=i.form.get("endereco"))?null:Ln.invalid)&&((null==(Ln=i.form.get("endereco"))?null:Ln.touched)||(null==(Ln=i.form.get("endereco"))?null:Ln.dirty))),$(4),K("ngClass",yn(57,Br,null==(Cn=i.form.get("cidade"))?null:Cn.valid,(null==(Cn=i.form.get("cidade"))?null:Cn.invalid)&&((null==(Cn=i.form.get("cidade"))?null:Cn.touched)||(null==(Cn=i.form.get("cidade"))?null:Cn.dirty)))),$(1),K("ngIf",(null==(Fo=i.form.get("cidade"))?null:Fo.invalid)&&((null==(Fo=i.form.get("cidade"))?null:Fo.touched)||(null==(Fo=i.form.get("cidade"))?null:Fo.dirty))),$(4),K("ngClass",yn(60,Br,null==(bi=i.form.get("estado"))?null:bi.valid,(null==(bi=i.form.get("estado"))?null:bi.invalid)&&((null==(bi=i.form.get("estado"))?null:bi.touched)||(null==(bi=i.form.get("estado"))?null:bi.dirty)))),$(1),K("ngIf",(null==(Ga=i.form.get("estado"))?null:Ga.invalid)&&((null==(Ga=i.form.get("estado"))?null:Ga.touched)||(null==(Ga=i.form.get("estado"))?null:Ga.dirty))),$(7),K("ngIf",i.mostraSucesso),$(1),K("ngIf",i.mostraFracasso)}},dependencies:[qd,Yi,bo,y1,v1,Xi,gc,ds,Do,hs,Ma],styles:["#home[_ngcontent-%COMP%]:hover, #sobre[_ngcontent-%COMP%]:hover{background-color:#2caf63}"]}),t})(),DL=(()=>{var e;class t{constructor(n,i,o,c){this.formBuilder=n,this.api=i,this.authService=o,this.router=c,this.usuario={username:"",cidade:"",foto:"",esportePreferido:""}}ngOnInit(){const n="true"===localStorage.getItem("loggedIn");this.authService.loggedInStatus.next(n),this.authService.getLoggedInStatus().subscribe(i=>{i?ae(this.api.getUserLogado().subscribe({next:o=>{this.usuario=o,console.log(this.usuario)},error:o=>{console.log(o)},complete:()=>{console.info("complete")}})):this.router.navigate(["/not-found"])})}}return(e=t).\u0275fac=function(n){return new(n||e)(z(mc),z(lr),z(Jr),z(sn))},e.\u0275cmp=Bt({type:e,selectors:[["app-perfil"]],decls:43,vars:5,consts:[[1,"container","py-md-3","py-1"],[1,"row","d-flex","justify-content-center"],[1,"col-md-6","mb-3","mb-md-0"],[1,""],[1,"container","h-100"],[1,"row","d-flex","justify-content-center","align-items-center"],[1,"col-md-12","col-xl-12"],[1,"card",2,"height","100%","border-radius","15px"],[1,"card-body","text-center"],[1,"mt-3","mb-4"],[1,"rounded-circle","img-fluid",2,"width","100px",3,"src"],[1,"mb-2"],[1,"text-muted","mb-4"],[1,"mx-2"],["role","banner"],[1,"row","mb-4","pb-2"],[1,"col-3"],["routerLink","/ranking","type","button",1,"col-3","btn","btn-outline-primary","btn-floating"],["routerLink","/atividades","type","button",1,"col-3","btn","btn-outline-danger","btn-floating"],["src","../../../assets/images/fire.png","width","70px","height","70px","alt","fogo"],[1,"d-flex","justify-content-between","text-center","mt-5","mb-2"],[1,"mb-2","h5"],[1,"text-muted","mb-0"],[1,"px-3"]],template:function(n,i){1&n&&(M(0,"div",0)(1,"div",1)(2,"div",2)(3,"section",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9),Ae(10,"img",10),T(),M(11,"h4",11),R(12),T(),M(13,"p",12),R(14),M(15,"span",13),R(16,"|"),T(),M(17,"a",14),R(18),T()(),M(19,"div",15),Ae(20,"div",16),M(21,"button",17),R(22," Ranking de Pato Branco "),T(),M(23,"button",18),R(24," Atividades "),T()(),M(25,"div"),Ae(26,"img",19),T(),M(27,"div",20)(28,"div")(29,"p",21),R(30,"3"),T(),M(31,"p",22),R(32,"Dias na Semana"),T()(),M(33,"div",23)(34,"p",21),R(35,"1"),T(),M(36,"p",22),R(37,"Semanas Seguidas"),T()(),M(38,"div")(39,"p",21),R(40,"1\xb0"),T(),M(41,"p",22),R(42),T()()()()()()()()()()()()),2&n&&($(10),yo("src",i.usuario.foto,Bi),$(2),or(i.usuario.username),$(2),Hi("",i.usuario.cidade," "),$(4),or(i.usuario.esportePreferido),$(24),Hi("Ranking: ",i.usuario.esportePreferido,""))},dependencies:[Ki],styles:[".botao[_ngcontent-%COMP%]{background-color:green}"]}),t})();function bL(e,t){if(1&e&&(M(0,"li",11)(1,"div",11)(2,"a",12)(3,"div",13)(4,"div"),R(5),T(),Ae(6,"img",14),M(7,"h5",15),R(8),T(),M(9,"p",15),R(10),T(),M(11,"small",16),R(12),T()()()()()),2&e){const r=t.$implicit,n=t.index;$(5),Hi("",n+1,"\xb0"),$(1),yo("src",r.value.foto,Bi),$(2),Gp("",r.value.first_name," ",r.value.last_name,""),$(2),or(r.value.esportePreferido),$(2),or(r.value.totalEventos)}}let IL=(()=>{var e;class t{constructor(n){this.api=n,this.pessoas=[],this.pessoasPorPagina=10,this.paginaAtual=1}ngOnInit(){ae(this.api.getUserLogado().subscribe({next:n=>{this.userLogado=n,console.log(this.userLogado)},error:n=>console.log(n),complete:()=>console.log("complete")})),ae(this.api.getAllUsers().subscribe({next:n=>{console.log(n);for(let i=0;i<n.length;i++)n[i].esportePreferido==this.userLogado.esportePreferido&&this.pessoas.push(n[i]);this.pessoas.sort((i,o)=>o.totalEventos-i.totalEventos),console.log(this.pessoas)},error:n=>console.error(n),complete:()=>console.log("complete")}))}}return(e=t).\u0275fac=function(n){return new(n||e)(z(lr))},e.\u0275cmp=Bt({type:e,selectors:[["app-ranking"]],decls:15,vars:3,consts:[[1,"container"],[1,"row"],[1,"col-8"],[1,"col-4"],["role","search",1,"d-flex","mt-3"],["type","search","placeholder","Search","aria-label","Search",1,"form-control","me-2"],["id","buscar","type","submit",1,"btn","btn-mg"],[1,"row","mt-3"],[1,"col-12"],[1,"text-center",2,"color","rgb(118, 11, 139)","margin-bottom","40px"],["class","list-group",4,"ngFor","ngForOf"],[1,"list-group"],["role","banner",1,"list-group-item","list-group-item-action","lista-ranking"],[1,"d-flex","w-100","justify-content-between"],[1,"rounded-circle","img-fluid",2,"width","80px",3,"src"],[1,"my-auto"],[1,"text-body-secondary","my-auto"]],template:function(n,i){1&n&&(M(0,"div",0)(1,"div",1),Ae(2,"div",2),M(3,"div",3)(4,"form",4),Ae(5,"input",5),M(6,"button",6),R(7,"Buscar"),T()()()(),M(8,"div",7)(9,"div",8)(10,"h2",9),R(11,"Ranking"),T(),M(12,"ul"),ge(13,bL,13,6,"li",10),as(14,"keyvalue"),T()()()()),2&n&&($(13),K("ngForOf",_d(14,1,i.pessoas.slice((i.paginaAtual-1)*i.pessoasPorPagina,i.paginaAtual*i.pessoasPorPagina))))},dependencies:[Yd,bo,Do,Ta,Zd],styles:[".lista-ranking[_ngcontent-%COMP%]:hover{background-color:#760b8b}#buscar[_ngcontent-%COMP%]{background-color:#cb3dd8}#buscar[_ngcontent-%COMP%]:hover{background-color:#760b8b}"]}),t})();function SL(e,t){if(1&e){const r=mo();M(0,"button",23),st("click",function(){hi(r);const i=Pt().$implicit;return pi(Pt().acessarQrCode(i))}),R(1,"Acessar Qr Code"),T()}}function TL(e,t){if(1&e&&(M(0,"li",14)(1,"div",15),Ae(2,"img",16),M(3,"div",17)(4,"h5",18),R(5),T(),ge(6,SL,2,0,"button",19),M(7,"small",20),R(8),T(),M(9,"small",20),R(10),as(11,"date"),T(),M(12,"small",21),R(13,"Saiba mais em:\xa0\xa0\xa0\xa0"),M(14,"a",22),R(15),T()()()()()),2&e){const r=t.$implicit;$(2),yo("src",r.value.foto,Bi),$(3),or(r.value.titulo),$(1),K("ngIf",r.value.qr_code),$(2),or(r.value.esporte),$(2),or(Ed(11,7,r.value.data,"dd/MM/YYYY")),$(4),yo("href",r.value.link,Bi),$(1),or(r.value.link)}}let ML=(()=>{var e;class t{constructor(n){this.api=n,this.eventos=[],this.texto="",this.mostraQrCode=!1,this.eventosPorPagina=10,this.paginaAtual=1,this.getEventos()}getEventos(){ae(this.api.getAllEventos().subscribe({next:n=>{this.eventos=n},error:n=>console.log(n),complete:()=>console.info("complete")}))}acessarQrCode(n){this.mostraQrCode=!0}}return(e=t).\u0275fac=function(n){return new(n||e)(z(lr))},e.\u0275cmp=Bt({type:e,selectors:[["app-eventos"]],decls:19,vars:4,consts:[[1,"container-fluid"],[1,"row"],[1,"col-8","mt-3"],["routerLink","/criar-evento","id","criar-evento",1,"btn","btn-mg"],[1,"col-4"],["role","search",1,"d-flex","mt-3","form-group"],["name","busca","type","search","placeholder","Ex: Corrida","aria-label","Search",1,"form-control","me-2",3,"ngModel","ngModelChange"],["id","buscar",1,"btn","btn-mg"],[1,"row","mt-3"],[1,"col-md-12"],[1,"text-center",2,"color","rgb(118, 11, 139)"],[1,"list-group"],["class","list-group-item lista-eventos",4,"ngFor","ngForOf"],[1,"container"],[1,"list-group-item","lista-eventos"],[1,"d-flex","flex-column","flex-md-row","align-items-center"],[1,"rounded","img-fluid","mb-3","mb-md-0",2,"width","100px","height","60px",3,"src"],[1,"flex-grow-1","mx-md-3","d-md-inline"],[1,"ms-md-5",2,"width","100px"],["id","qr_code","class","btn btn-sm ms-md-4",3,"click",4,"ngIf"],[1,"d-block","m-md-5","d-md-inline",2,"width","100px"],[1,"d-md-inline"],[1,"flex-column",2,"width","600px",3,"href"],["id","qr_code",1,"btn","btn-sm","ms-md-4",3,"click"]],template:function(n,i){1&n&&(M(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),R(4,"Criar Evento"),T()(),M(5,"div",4)(6,"form",5)(7,"input",6),st("ngModelChange",function(c){return i.texto=c}),T(),M(8,"button",7),R(9,"Buscar"),T()()()(),M(10,"div",8)(11,"div",9)(12,"h2",10),R(13,"Eventos"),T(),M(14,"ul",11),ge(15,TL,16,10,"li",12),as(16,"keyvalue"),T()()()(),M(17,"div",13),Ae(18,"div",1),T()),2&n&&($(7),K("ngModel",i.texto),$(8),K("ngForOf",_d(16,2,i.eventos)))},dependencies:[Yd,Yi,Ki,bo,Xi,ds,Do,ff,Ta,Xd,Zd],styles:[".lista-eventos[_ngcontent-%COMP%]:hover{background-color:#760b8b}#buscar[_ngcontent-%COMP%]{background-color:#cb3dd8}#buscar[_ngcontent-%COMP%]:hover{background-color:#760b8b}#qr_code[_ngcontent-%COMP%]{background-color:#cb3dd8}#qr_code[_ngcontent-%COMP%]:hover{background-color:#760b8b}#criar-evento[_ngcontent-%COMP%]{background-color:#cb3dd8}#criar-evento[_ngcontent-%COMP%]:hover{background-color:#760b8b}"]}),t})(),NL=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Bt({type:e,selectors:[["app-sobre"]],decls:69,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-md-12"],[1,"text-center","mt-4"],[1,"text-center","lead"],[1,"col-md-6"],[1,"col-md-12","text-center"]],template:function(n,i){1&n&&(M(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),R(4,"Sobre o DesporPato"),T(),M(5,"p",4),R(6,"Sua plataforma esportiva em Pato Branco"),T()()(),M(7,"div",1)(8,"div",5)(9,"h2"),R(10,"Quem Somos"),T(),M(11,"p"),R(12," Somos uma plataforma dedicada a tornar a experi\xeancia esportiva em Pato Branco incr\xedvel. Nosso objetivo \xe9 proporcionar aos moradores locais e aos visitantes uma maneira f\xe1cil de se envolver em eventos esportivos emocionantes. "),T()(),M(13,"div",5)(14,"h2"),R(15,"O Que Oferecemos"),T(),M(16,"p"),R(17," Oferecemos uma ampla variedade de eventos esportivos para escolher. Voc\xea pode explorar, se inscrever e participar de competi\xe7\xf5es esportivas emocionantes em nossa cidade. Al\xe9m disso, nossa plataforma permite que voc\xea acompanhe suas participa\xe7\xf5es e obtenha certificados de desempenho. "),T()()(),M(18,"div",1)(19,"div",6)(20,"h2"),R(21,"Nossa Miss\xe3o"),T(),M(22,"p"),R(23," Nossa miss\xe3o \xe9 promover um estilo de vida ativo e saud\xe1vel em Pato Branco, conectando pessoas por meio do esporte e incentivando a participa\xe7\xe3o em eventos esportivos locais. "),T()()()(),M(24,"div",0)(25,"div",1)(26,"div",2)(27,"h1",3),R(28,"Como Usar o DesporPato"),T(),M(29,"p",4),R(30,"Sua plataforma esportiva em Pato Branco"),T()()(),M(31,"div",1)(32,"div",2)(33,"h2"),R(34,"Registrando Atividades"),T(),M(35,"p"),R(36," Para registrar suas atividades esportivas e obter certificados de participa\xe7\xe3o, siga estas etapas simples: "),T(),M(37,"ol")(38,"li"),R(39,"Entre no aplicativo e v\xe1 para a aba 'Registrar Atividade'."),T(),M(40,"li"),R(41,"Leia o c\xf3digo QR de algum dos eventos esportivos cadastrados na data do evento."),T(),M(42,"li"),R(43,"Tire uma foto da sua participa\xe7\xe3o no evento esportivo."),T(),M(44,"li"),R(45,"Ap\xf3s concluir essas etapas, seu registro de atividade ser\xe1 processado."),T(),M(46,"li"),R(47,"Em breve, seu certificado de participa\xe7\xe3o estar\xe1 dispon\xedvel para download no aplicativo."),T()()()(),M(48,"div",1)(49,"div",2)(50,"h2"),R(51,"Criando Eventos"),T(),M(52,"p"),R(53," Se voc\xea deseja criar eventos esportivos, siga estas etapas: "),T(),M(54,"ol")(55,"li"),R(56,"Crie um perfil de 'Administrador de Eventos' em sua conta."),T(),M(57,"li"),R(58,"Ap\xf3s criar o perfil, voc\xea ter\xe1 a capacidade de adicionar e gerenciar eventos esportivos."),T(),M(59,"li"),R(60,"Insira detalhes do evento, como data, local e descri\xe7\xe3o, para que os participantes possam se inscrever."),T(),M(61,"li"),R(62,"Depois de criar o evento, ele estar\xe1 dispon\xedvel para os esportistas lerem o qrcode e registrar a participa\xe7\xe3o."),T()()()(),M(63,"div",1)(64,"div",6)(65,"h2"),R(66,"Desfrute do DesporPato"),T(),M(67,"p"),R(68," Aproveite ao m\xe1ximo a experi\xeancia esportiva em Pato Branco com o DesporPato. Registre suas atividades, participe de eventos emocionantes e obtenha seus certificados de participa\xe7\xe3o. Seja bem-vindo \xe0 comunidade esportiva! "),T()()()())},styles:["h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{color:#760b8b}"]}),t})();const RL=function(e){return["/atividades",e]};function OL(e,t){if(1&e&&(M(0,"li",15)(1,"a",16)(2,"div",17),Ae(3,"div",4),M(4,"div",18),Ae(5,"img",19),T(),M(6,"div",20)(7,"h5",21),R(8),T(),M(9,"small",22),R(10),T(),Ae(11,"br"),M(12,"small",22),R(13),as(14,"date"),T()()()()()),2&e){const r=t.$implicit;$(1),K("routerLink",function iw(e,t,r,n){return ow(Y(),$n(),e,t,r,n)}(8,RL,r.value.id)),$(4),yo("src",r.value.foto,Bi),$(3),or(r.value.evento.titulo),$(2),or(r.value.evento.esporte),$(3),or(Ed(14,5,r.value.evento.data,"dd/MM/YYYY"))}}let PL=(()=>{var e;class t{constructor(n,i){this.api=n,this.auth=i,this.atividades=[],this.atividadesPorPagina=10,this.paginaAtual=1,this.texto="",this.getAtividades()}getAtividades(){ae(this.api.getAtividades().subscribe({next:n=>{for(let i=0;i<n.length;i++)n[i].usuario.id==this.auth.getUserId()&&this.atividades.push(n[i])},error:n=>console.log(n),complete:()=>console.info("complete")}))}}return(e=t).\u0275fac=function(n){return new(n||e)(z(lr),z(Jr))},e.\u0275cmp=Bt({type:e,selectors:[["app-atividades"]],decls:23,vars:6,consts:[[1,"container"],[1,"row"],[1,"col-8","mt-3"],["routerLink","/criar-atividade","id","criar-atividade",1,"btn","btn-mg"],[1,"col-4"],["role","search",1,"d-flex","mt-3","form-group"],["name","busca","type","search","placeholder","Ex: Corrida","aria-label","Search",1,"form-control","me-2",3,"ngModel","ngModelChange"],["id","buscar",1,"btn","btn-mg"],[1,"row","mt-3"],[1,"col-l-12"],[1,"text-center",2,"color","rgb(118, 11, 139)"],["class","list-group",4,"ngFor","ngForOf"],[1,"col-12","d-flex","justify-content-center","mt-3"],[1,"btn","btn-primary","me-2",3,"disabled","click"],[1,"btn","btn-primary",3,"disabled","click"],[1,"list-group"],["role","banner",1,"list-group-item","list-group-item-action","lista-atividades",3,"routerLink"],[1,"d-md-flex","flex-md-row","flex-md-wrap","align-items-md-start"],[1,"col-md-4","mb-3","mb-md-0"],[1,"rounded","img-fluid",2,"width","100%","height","200px",3,"src"],[1,"col-md-12"],[1,"my-auto"],[1,"text-body-secondary","my-auto"]],template:function(n,i){1&n&&(M(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),R(4,"Registrar Nova Atividade"),T()(),M(5,"div",4)(6,"form",5)(7,"input",6),st("ngModelChange",function(c){return i.texto=c}),T(),M(8,"button",7),R(9,"Buscar"),T()()()(),M(10,"div",8)(11,"div",9)(12,"h2",10),R(13,"Atividades"),T(),M(14,"ul"),ge(15,OL,15,10,"li",11),as(16,"keyvalue"),T()()(),M(17,"div",1)(18,"div",12)(19,"button",13),st("click",function(){return i.paginaAtual=i.paginaAtual-1}),R(20,"Anterior"),T(),M(21,"button",14),st("click",function(){return i.paginaAtual=i.paginaAtual+1}),R(22,"Pr\xf3xima"),T()()()()),2&n&&($(7),K("ngModel",i.texto),$(8),K("ngForOf",_d(16,4,i.atividades.slice().reverse().slice((i.paginaAtual-1)*i.atividadesPorPagina,i.paginaAtual*i.atividadesPorPagina))),$(4),K("disabled",1===i.paginaAtual),$(2),K("disabled",i.paginaAtual*i.atividadesPorPagina>=i.atividades.length))},dependencies:[Yd,Ki,bo,Xi,ds,Do,ff,Ta,Xd,Zd],styles:[".lista-atividades[_ngcontent-%COMP%]:hover{background-color:#760b8b}#buscar[_ngcontent-%COMP%]{background-color:#cb3dd8}#buscar[_ngcontent-%COMP%]:hover{background-color:#760b8b}#criar-atividade[_ngcontent-%COMP%]{background-color:#cb3dd8}#criar-atividade[_ngcontent-%COMP%]:hover{background-color:#760b8b}"]}),t})(),FL=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=Bt({type:e,selectors:[["app-not-found"]],decls:3,vars:0,consts:[[1,"container","d-flex","justify-content-center","align-items-center",2,"margin-top","400px"]],template:function(n,i){1&n&&(M(0,"div",0)(1,"h1"),R(2," P\xe1gina N\xe3o Encontrada "),T()())},styles:["h1[_ngcontent-%COMP%]{color:#760b8b}"]}),t})(),Oo=(()=>{var e;class t{constructor(n,i,o){this.api=n,this.authService=i,this.router=o}canActivate(){if(this.authService.isLoggedIn()){const n=this.authService.getAuthToken();return console.log("Tenho token: ",n),n?this.isTokenValid()?ae(!0):(console.log("Token n\xe3o est\xe1 mais v\xe1lido, vou usar refresh"),this.api.refreshToken(this.authService.getRefreshAuthToken()).pipe(je(o=>o.access?(console.log("Consegui novo token: ",o.access),localStorage.setItem("token",o.access),ae(!0)):(this.authService.logout(),this.router.navigate(["/home"]),ae(!1))),kr(o=>(console.log(o),this.authService.logout(),this.router.navigate(["/home"]),ae(!1))))):ae(!0)}return this.router.navigate(["/not-found"]),ae(!1)}isTokenValid(){return ae(this.api.verifyToken().subscribe({next:()=>!0,error:n=>(console.log(n),!1)})),!1}}return(e=t).\u0275fac=function(n){return new(n||e)(se(lr),se(Jr),se(sn))},e.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const LL=["fotoInput"];function kL(e,t){1&e&&(M(0,"div",49),R(1," Dados atualizados com sucesso "),T())}function BL(e,t){1&e&&(M(0,"div",50),R(1," N\xe3o foi poss\xedvel atualizar seus dados "),T())}let VL=(()=>{var e;class t{constructor(n,i,o,c){this.formBuilder=n,this.api=i,this.router=o,this.authService=c,this.mostraSucesso=!1,this.mostraFracasso=!1,this.activeLink="active"}ngOnInit(){this.form=this.formBuilder.group({username:[""],foto:[""],nome:[""],sobrenome:[""],esportePreferido:[""],cep:[""],cidade:[""],estado:[""],endereco:[""]}),this.subscribeForms(),ae(this.api.getUserLogado().subscribe({next:n=>{this.usuario=n,console.log(this.usuario),this.form.patchValue({username:this.usuario.username,nome:this.usuario.first_name,sobrenome:this.usuario.last_name,esportePreferido:this.usuario.esportePreferido,cep:this.usuario.cep,cidade:this.usuario.cidade,estado:this.usuario.estado,endereco:this.usuario.endereco})},error:n=>console.log(n)}))}onFileSelected(n){const i=n.target.files[0];if(i){const o=new FileReader;o.onload=()=>{console.log(i),console.log(i.name),this.form.get("foto")?.setValue(i)},o.readAsDataURL(i)}}subscribeForms(){this.form.get("cep")?.valueChanges.subscribe(n=>{n.length>=8&&fetch(`https://viacep.com.br/ws/${n}/json/`).then(i=>i.json()).then(i=>{this.form.get("endereco")?.setValue(i.logradouro,{emitEvent:!1}),this.form.get("estado")?.setValue(i.uf,{emitEvent:!1}),this.form.get("cidade")?.setValue(i.localidade,{emitEvent:!1})}).catch(i=>{console.log("Error",i)})})}salvar(){if(this.form.invalid)return void this.form.markAllAsTouched();const n=this.form.getRawValue(),i=new FormData;i.append("username",n.username),i.append("first_name",n.nome),i.append("last_name",n.sobrenome),i.append("esportePreferido",n.esportePreferido),i.append("cep",n.cep),i.append("endereco",n.endereco),i.append("cidade",n.cidade),i.append("estado",n.estado),i.append("is_active","true"),n.foto instanceof File&&i.append("foto",n.foto,n.foto.name);const o=this.authService.getUserId();ae(this.api.putUser(i,o).subscribe({next:c=>{console.log(c),this.mostraSucesso=!0},error:c=>{console.log(c),this.mostraFracasso=!0},complete:()=>console.info("complete")}))}navigateToProfile(){this.authService.getUserId()?this.router.navigate(["perfil/"]):this.router.navigate(["not-found"])}}return(e=t).\u0275fac=function(n){return new(n||e)(z(mc),z(lr),z(sn),z(Jr))},e.\u0275cmp=Bt({type:e,selectors:[["app-configuracoes"]],viewQuery:function(n,i){if(1&n&&lg(LL,5),2&n){let o;Dd(o=bd())&&(i.fotoInput=o.first)}},decls:89,vars:3,consts:[[1,"container-fluid","mt-3"],[3,"formGroup"],[1,"row","mb-3"],[1,"col-6"],["for","username"],["id","username","type","text","formControlName","username",1,"form-control"],["for","foto"],["accept","image/*","placeholder","","id","foto","type","file","formControlName","foto",1,"form-control",3,"change"],["fotoInput",""],["for","nome"],["id","nome","type","text","formControlName","nome",1,"form-control"],["for","sobrenome"],["id","sobrenome","type","text","formControlName","sobrenome",1,"form-control"],["for","esportePreferido"],["data-dropup-auto","false","aria-label","Default select example","formControlName","esportePreferido",1,"form-select","form-control"],["selected",""],["value","Atletismo"],["value","Badminton"],["value","Basquete"],["value","Corrida"],["value","Dan\xe7a"],["value","Futebol"],["value","Futsal"],["value","Gin\xe1stica"],["value","Handeball"],["value","Jud\xf4"],["value","Nata\xe7\xe3o"],["value","Passeio"],["value","T\xeanis de Campo"],["value","T\xeanis de Mesa"],["value","Torneio de Cheerleaders"],["value","V\xf4lei"],["value","Xadrez"],["for","endereco"],["id","endereco","type","text","formControlName","endereco",1,"form-control"],[1,"col-4"],["for","cep"],["id","cep","type","text","formControlName","cep",1,"form-control"],[1,"col-2"],["for","estado"],["id","estado","type","text","formControlName","estado",1,"form-control"],["for","cidade"],["id","cidade","type","text","formControlName","cidade",1,"form-control"],[1,"row"],[1,"col","mb-1"],[1,"btn","btn-success",3,"click"],[1,"btn","btn-danger",3,"click"],["class","alert alert-success","role","alert",4,"ngIf"],["class","alert alert-danger","role","alert",4,"ngIf"],["role","alert",1,"alert","alert-success"],["role","alert",1,"alert","alert-danger"]],template:function(n,i){1&n&&(M(0,"div",0)(1,"h2"),R(2,"Preencha os campos"),T(),M(3,"form",1)(4,"div",2)(5,"div",3)(6,"label",4),R(7,"Username"),T(),Ae(8,"input",5),T(),M(9,"div",3)(10,"label",6),R(11,"Foto"),T(),M(12,"input",7,8),st("change",function(c){return i.onFileSelected(c)}),T()()(),M(14,"div",2)(15,"div",3)(16,"label",9),R(17,"Nome"),T(),Ae(18,"input",10),T(),M(19,"div",3)(20,"label",11),R(21,"Sobrenome"),T(),Ae(22,"input",12),T()(),M(23,"div",2)(24,"div",3)(25,"label",13),R(26,"Esporte Preferido"),T(),M(27,"select",14)(28,"option",15),R(29,"Clique para selecionar"),T(),M(30,"option",16),R(31,"Atletismo"),T(),M(32,"option",17),R(33,"Badminton"),T(),M(34,"option",18),R(35,"Basquete"),T(),M(36,"option",19),R(37,"Corrida"),T(),M(38,"option",20),R(39,"Dan\xe7a"),T(),M(40,"option",21),R(41,"Futebol"),T(),M(42,"option",22),R(43,"Futsal"),T(),M(44,"option",23),R(45,"Gin\xe1stica"),T(),M(46,"option",24),R(47,"Handeball"),T(),M(48,"option",25),R(49,"Jud\xf4"),T(),M(50,"option",26),R(51,"Nata\xe7\xe3o"),T(),M(52,"option",27),R(53,"Passeio"),T(),M(54,"option",28),R(55,"T\xeanis de Campo"),T(),M(56,"option",29),R(57,"T\xeanis de Mesa"),T(),M(58,"option",30),R(59,"Torneio de Cheerleaders"),T(),M(60,"option",31),R(61,"V\xf4lei"),T(),M(62,"option",32),R(63,"Xadrez"),T()()(),M(64,"div",3)(65,"label",33),R(66,"Endere\xe7o"),T(),Ae(67,"input",34),T()(),M(68,"div",2)(69,"div",35)(70,"label",36),R(71,"CEP"),T(),Ae(72,"input",37),T(),M(73,"div",38)(74,"label",39),R(75,"Estado"),T(),Ae(76,"input",40),T(),M(77,"div",3)(78,"label",41),R(79,"Cidade"),T(),Ae(80,"input",42),T()()(),M(81,"div",43)(82,"div",44)(83,"button",45),st("click",function(){return i.salvar()}),R(84,"Salvar"),T(),M(85,"a",46),st("click",function(){return i.navigateToProfile()}),R(86,"Cancelar"),T()(),ge(87,kL,2,0,"div",47),ge(88,BL,2,0,"div",48),T()()),2&n&&($(3),K("formGroup",i.form),$(84),K("ngIf",i.mostraSucesso),$(1),K("ngIf",i.mostraFracasso))},dependencies:[Yi,bo,y1,v1,Xi,gc,ds,Do,hs,Ma],styles:["#tema[_ngcontent-%COMP%], #linguagem[_ngcontent-%COMP%]{background-color:#cb3dd8}#tema[_ngcontent-%COMP%]:hover, #linguagem[_ngcontent-%COMP%]:hover{background-color:#760b8b}"]}),t})(),Gx=(()=>{var e;class t{constructor(n,i){this.router=n,this.authService=i}canActivate(){return!this.authService.isLoggedIn()||(this.router.navigate(["/perfil"]),!1)}}return(e=t).\u0275fac=function(n){return new(n||e)(se(sn),se(Jr))},e.\u0275prov=me({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const xr=void 0;!function CO(e,t,r){(function lM(e,t,r){"string"!=typeof t&&(r=t,t=e[Tt.LocaleId]),t=t.toLowerCase().replace(/_/g,"-"),_a[t]=e,r&&(_a[t][Tt.ExtraData]=r)})(e,t,r)}(["pt",[["AM","PM"],xr,xr],xr,[["D","S","T","Q","Q","S","S"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xe1b."],["domingo","segunda-feira","ter\xe7a-feira","quarta-feira","quinta-feira","sexta-feira","s\xe1bado"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xe1b."]],xr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["jan.","fev.","mar.","abr.","mai.","jun.","jul.","ago.","set.","out.","nov.","dez."],["janeiro","fevereiro","mar\xe7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]],xr,[["a.C.","d.C."],xr,["antes de Cristo","depois de Cristo"]],0,[6,0],["dd/MM/y","d 'de' MMM 'de' y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}",xr,xr,xr],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4\xa0#,##0.00","#E0"],"BRL","R$","Real brasileiro",{AUD:["AU$","$"],BYN:[xr,"\u0440."],JPY:["JP\xa5","\xa5"],PHP:[xr,"\u20b1"],PTE:["Esc."],RON:[xr,"L"],SYP:[xr,"S\xa3"],THB:["\u0e3f"],TWD:["NT$"],USD:["US$","$"]},"ltr",function UL(e){const r=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length,i=parseInt(e.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return r===Math.floor(r)&&r>=0&&r<=1?1:0===i&&0!==r&&r%1e6==0&&0===n||!(i>=0&&i<=5)?4:5}]);let jL=(()=>{var e;class t{constructor(n,i,o){this.api=n,this.route=i,this.http=o,this.mostrapdf=!1,this.atividadeSelecionada={id:0,titulo:"",usuario:{first_name:"",last_name:""},evento:{titulo:"",esporte:"",data:""},cidade:"",data:"",foto:""}}ngOnInit(){this.route.paramMap.subscribe(n=>{const i=n.get("id");ae(this.api.getAtividadeById(i).subscribe({next:o=>this.atividadeSelecionada=o,error:o=>console.log(o),complete:()=>console.info("complete")}))})}gerarPDF(n){this.http.get(`http://localhost:8000/atividade/gerar_certificado/${n}/`,{responseType:"blob"}).subscribe(i=>{const o=window.URL.createObjectURL(i),c=document.createElement("a");c.href=o,c.download="certificado.pdf",c.click(),window.URL.revokeObjectURL(o)})}}return(e=t).\u0275fac=function(n){return new(n||e)(z(lr),z(Mo),z(X1))},e.\u0275cmp=Bt({type:e,selectors:[["app-atividade-detail"]],decls:30,vars:8,consts:[[1,"container"],[1,"row"],[1,"col-12"],[1,"text-center",2,"color","rgb(118, 11, 139)"],[1,"row","mt-3"],[1,"col-md-6","col-sm-12"],[1,"rounded","img-fluid",2,"width","100%","max-height","400px",3,"src"],[1,"col-md-6"],[1,"btn","btn-success",3,"click"],["routerLink","/atividades",1,"btn","btn-primary"]],template:function(n,i){1&n&&(M(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),R(4,"Detalhes da Atividade"),T()()(),M(5,"div",4)(6,"div",5),Ae(7,"img",6),T(),M(8,"div",7)(9,"h3"),R(10),T(),M(11,"p")(12,"strong"),R(13,"Evento:"),T(),R(14),T(),M(15,"p")(16,"strong"),R(17,"Esporte:"),T(),R(18),T(),M(19,"p")(20,"strong"),R(21,"Data:"),T(),R(22),as(23,"date"),T(),M(24,"button",8),st("click",function(){return i.gerarPDF(i.atividadeSelecionada.id)}),R(25,"Gerar Certificado"),T()()(),M(26,"div",4)(27,"div",2)(28,"a",9),R(29,"Voltar para Lista"),T()()()()),2&n&&($(7),yo("src",i.atividadeSelecionada.foto,Bi),$(3),or(i.atividadeSelecionada.titulo),$(4),Hi(" ",i.atividadeSelecionada.evento.titulo,""),$(4),Hi(" ",i.atividadeSelecionada.evento.esporte,""),$(4),Hi(" ",Ed(23,5,i.atividadeSelecionada.evento.data,"dd/MM/yyyy"),""))},dependencies:[Ki,Xd]}),t})();const HL=["fotoInput"];function zL(e,t){1&e&&(M(0,"ul")(1,"li"),R(2,"Campo obrigat\xf3rio"),T()())}function GL(e,t){1&e&&(M(0,"ul")(1,"li"),R(2,"Campo obrigat\xf3rio"),T()())}function WL(e,t){1&e&&(M(0,"ul")(1,"li"),R(2,"Campo obrigat\xf3rio"),T()())}function $L(e,t){1&e&&(M(0,"ul")(1,"li"),R(2,"Campo obrigat\xf3rio"),T()())}function qL(e,t){1&e&&(M(0,"ul")(1,"li"),R(2,"Campo obrigat\xf3rio"),T()())}function YL(e,t){1&e&&(M(0,"div",20),R(1," Evento Cadastrado, aguarde pelo QrCode do evento "),T())}function XL(e,t){1&e&&(M(0,"div",21),R(1," Erro ao cadastrar o evento "),T())}const Fc=function(e,t){return{"is-valid":e,"is-invalid":t}};function ZL(e,t){if(1&e){const r=mo();M(0,"div",1)(1,"h2"),R(2,"Preencha os campos do Evento"),T(),M(3,"form",2)(4,"div",3)(5,"div",4)(6,"label",5),R(7,"Titulo"),T(),Ae(8,"input",6),ge(9,zL,3,0,"ul",7),T()(),M(10,"div",3)(11,"div",4)(12,"label",8),R(13,"Link"),T(),Ae(14,"input",9),ge(15,GL,3,0,"ul",7),T()(),M(16,"div",3)(17,"div",4)(18,"label",10),R(19,"Data"),T(),Ae(20,"input",11),ge(21,WL,3,0,"ul",7),T()(),M(22,"div",3)(23,"div",4)(24,"label",12),R(25,"Esporte"),T(),Ae(26,"input",13),ge(27,$L,3,0,"ul",7),T()(),M(28,"div",3)(29,"div",4)(30,"label",14),R(31,"Foto"),T(),M(32,"input",15,16),st("change",function(i){return hi(r),pi(Pt().onFileSelected(i))}),T(),ge(34,qL,3,0,"ul",7),T()(),M(35,"button",17),st("click",function(){return hi(r),pi(Pt().criar())}),R(36,"Criar"),T(),ge(37,YL,2,0,"div",18),ge(38,XL,2,0,"div",19),T()()}if(2&e){const r=Pt();let n,i,o,c,f,m,g,w,E,D;$(3),K("formGroup",r.form),$(5),K("ngClass",yn(14,Fc,null==(n=r.form.get("titulo"))?null:n.valid,(null==(n=r.form.get("titulo"))?null:n.invalid)&&((null==(n=r.form.get("titulo"))?null:n.touched)||(null==(n=r.form.get("titulo"))?null:n.dirty)))),$(1),K("ngIf",(null==(i=r.form.get("titulo"))?null:i.invalid)&&((null==(i=r.form.get("titulo"))?null:i.touched)||(null==(i=r.form.get("titulo"))?null:i.dirty))),$(5),K("ngClass",yn(17,Fc,null==(o=r.form.get("link"))?null:o.valid,(null==(o=r.form.get("link"))?null:o.invalid)&&((null==(o=r.form.get("link"))?null:o.touched)||(null==(o=r.form.get("link"))?null:o.dirty)))),$(1),K("ngIf",(null==(c=r.form.get("link"))?null:c.invalid)&&((null==(c=r.form.get("link"))?null:c.touched)||(null==(c=r.form.get("link"))?null:c.dirty))),$(5),K("ngClass",yn(20,Fc,null==(f=r.form.get("data"))?null:f.valid,(null==(f=r.form.get("data"))?null:f.invalid)&&((null==(f=r.form.get("data"))?null:f.touched)||(null==(f=r.form.get("data"))?null:f.dirty)))),$(1),K("ngIf",(null==(m=r.form.get("data"))?null:m.invalid)&&((null==(m=r.form.get("data"))?null:m.touched)||(null==(m=r.form.get("data"))?null:m.dirty))),$(5),K("ngClass",yn(23,Fc,null==(g=r.form.get("esporte"))?null:g.valid,(null==(g=r.form.get("esporte"))?null:g.invalid)&&((null==(g=r.form.get("esporte"))?null:g.touched)||(null==(g=r.form.get("esporte"))?null:g.dirty)))),$(1),K("ngIf",(null==(w=r.form.get("esporte"))?null:w.invalid)&&((null==(w=r.form.get("esporte"))?null:w.touched)||(null==(w=r.form.get("esporte"))?null:w.dirty))),$(5),K("ngClass",yn(26,Fc,null==(E=r.form.get("foto"))?null:E.valid,(null==(E=r.form.get("foto"))?null:E.invalid)&&((null==(E=r.form.get("foto"))?null:E.touched)||(null==(E=r.form.get("foto"))?null:E.dirty)))),$(2),K("ngIf",(null==(D=r.form.get("foto"))?null:D.invalid)&&((null==(D=r.form.get("foto"))?null:D.touched)||(null==(D=r.form.get("foto"))?null:D.dirty))),$(1),K("disabled",r.criarClicado),$(2),K("ngIf",r.mostraSucesso),$(1),K("ngIf",r.mostraFracasso)}}function QL(e,t){if(1&e&&(M(0,"div",1)(1,"div",3)(2,"div",22)(3,"div",23),R(4,' O QrCode do seu evento foi gerado, guarde-o para confirmar a presen\xe7a dos participantes no dia. Aviso: Basta o participante ler esse Qrcode na conta dele e a presen\xe7a dele no evento estar\xe1 garantida. Caso precise desse Qrcode basta acessar o menu "meus eventos". '),T(),Ae(5,"br")(6,"img",24),T()()()),2&e){const r=Pt();$(6),hd("src","https://api.qrserver.com/v1/create-qr-code/?data=",r.nomeQrCode,"&size=150x150",Bi)}}let KL=(()=>{var e;class t{constructor(n,i,o){this.api=n,this.formBuilder=i,this.authService=o,this.criarClicado=!1,this.mostraSucesso=!1,this.mostraFracasso=!1,this.nomeQrCode="",this.qrCodeCriado=!1}ngOnInit(){this.form=this.formBuilder.group({titulo:["",$t.required],link:["",$t.required],data:["",$t.required],esporte:["",[$t.required]],foto:["",$t.required]})}onFileSelected(n){const i=n.target.files[0];if(i){const o=new FileReader;o.onload=()=>{this.form.get("foto")?.setValue(i)},o.readAsDataURL(i)}}criar(){if(this.form.invalid)return void this.form.markAllAsTouched();const n=this.form.getRawValue(),i=new FormData,o=String(this.authService.getUserId());this.nomeQrCode=n.titulo.replaceAll(" ","-");const c=`https://api.qrserver.com/v1/create-qr-code/?data=${this.nomeQrCode}&date=${n.data}&size=150x150`;i.append("titulo",n.titulo),i.append("link",n.link),i.append("data",n.data),i.append("esporte",n.esporte),i.append("foto",n.foto),i.append("usuario",o),i.append("qr_code",c),this.api.postEvento(i).subscribe({next:f=>{this.mostraSucesso=!0,console.log("Evento criado com sucesso!",f),setTimeout(this.mostraQrcode.bind(this),3e3)},error:f=>{this.criarClicado=!1,this.mostraFracasso=!0,console.error("Erro ao criar evento:",f)}})}mostraQrcode(){this.qrCodeCriado=!0}}return(e=t).\u0275fac=function(n){return new(n||e)(z(lr),z(mc),z(Jr))},e.\u0275cmp=Bt({type:e,selectors:[["app-cria-evento"]],viewQuery:function(n,i){if(1&n&&lg(HL,5),2&n){let o;Dd(o=bd())&&(i.fotoInput=o.first)}},decls:2,vars:2,consts:[["class","container-fluid mt-3",4,"ngIf"],[1,"container-fluid","mt-3"],[3,"formGroup"],[1,"row","mb-3"],[1,"col-3"],["for","titulo"],["placeholder","Ex: Corrida Unimed","id","titulo","type","text","formControlName","titulo",1,"form-control",3,"ngClass"],[4,"ngIf"],["for","link"],["placeholder","Cole o link do evento","id","link","type","url","formControlName","link",1,"form-control",3,"ngClass"],["for","data"],["placeholder","Cole o data do evento","id","data","type","date","formControlName","data",1,"form-control",3,"ngClass"],["for","esporte"],["placeholder","Ex: Corrida","id","esporte","type","url","formControlName","esporte",1,"form-control",3,"ngClass"],["for","foto"],["accept","image/*","placeholder","","id","foto","type","file","formControlName","foto",1,"form-control",3,"ngClass","change"],["fotoInput",""],["id","criar",1,"btn","btn-mg",3,"disabled","click"],["class","alert alert-success","role","alert",4,"ngIf"],["class","alert alert-danger","role","alert",4,"ngIf"],["role","alert",1,"alert","alert-success"],["role","alert",1,"alert","alert-danger"],[1,"col-12","d-flex","flex-column","align-items-center"],[1,"text-center","mb-3"],["alt","","title","",3,"src"]],template:function(n,i){1&n&&(ge(0,ZL,39,29,"div",0),ge(1,QL,7,1,"div",0)),2&n&&(K("ngIf",!i.qrCodeCriado),$(1),K("ngIf",i.qrCodeCriado))},dependencies:[qd,Yi,bo,Xi,ds,Do,hs,Ma],styles:["#criar[_ngcontent-%COMP%]{background-color:#cb3dd8}#criar[_ngcontent-%COMP%]:hover{background-color:#760b8b}"]}),t})();var fe=function(e){return e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION",e}(fe||{}),Wx=new Map([[fe.QR_CODE,"QR_CODE"],[fe.AZTEC,"AZTEC"],[fe.CODABAR,"CODABAR"],[fe.CODE_39,"CODE_39"],[fe.CODE_93,"CODE_93"],[fe.CODE_128,"CODE_128"],[fe.DATA_MATRIX,"DATA_MATRIX"],[fe.MAXICODE,"MAXICODE"],[fe.ITF,"ITF"],[fe.EAN_13,"EAN_13"],[fe.EAN_8,"EAN_8"],[fe.PDF_417,"PDF_417"],[fe.RSS_14,"RSS_14"],[fe.RSS_EXPANDED,"RSS_EXPANDED"],[fe.UPC_A,"UPC_A"],[fe.UPC_E,"UPC_E"],[fe.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]);function ek(e){return Object.values(fe).includes(e)}var vs=function(e){return e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE",e}(vs||{}),ei=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[vs.SCAN_TYPE_CAMERA,vs.SCAN_TYPE_FILE],e}(),$x=function(){function e(t,r){this.format=t,this.formatName=r}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!Wx.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,Wx.get(t))},e}(),qx=function(){function e(){}return e.createFromText=function(t){return{decodedText:t,result:{text:t}}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),Yx=function(e){return e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR",e}(Yx||{}),Xx=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:Yx.UNKWOWN_ERROR}},e}(),Zx=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,r){(this.verbose||!0===r)&&console.error(t)},e.prototype.logErrors=function(t){if(0===t.length)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function Di(e){return typeof e>"u"||null===e}var e,za=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),wt=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),Qx=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),Kx=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,r){if("object"!=typeof t)return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(typeof t,"."),!0),!1;for(var o=new Set(["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"]),f=0,m=Object.keys(t);f<m.length;f++){var g=m[f];if(o.has(g))return r.logError("".concat(g," is not supported videoConstaints."),!0),!1}return!0},e}(),Lt=Z(834),Jx=function(){function e(t,r,n){if(this.formatMap=new Map([[fe.QR_CODE,Lt.BarcodeFormat.QR_CODE],[fe.AZTEC,Lt.BarcodeFormat.AZTEC],[fe.CODABAR,Lt.BarcodeFormat.CODABAR],[fe.CODE_39,Lt.BarcodeFormat.CODE_39],[fe.CODE_93,Lt.BarcodeFormat.CODE_93],[fe.CODE_128,Lt.BarcodeFormat.CODE_128],[fe.DATA_MATRIX,Lt.BarcodeFormat.DATA_MATRIX],[fe.MAXICODE,Lt.BarcodeFormat.MAXICODE],[fe.ITF,Lt.BarcodeFormat.ITF],[fe.EAN_13,Lt.BarcodeFormat.EAN_13],[fe.EAN_8,Lt.BarcodeFormat.EAN_8],[fe.PDF_417,Lt.BarcodeFormat.PDF_417],[fe.RSS_14,Lt.BarcodeFormat.RSS_14],[fe.RSS_EXPANDED,Lt.BarcodeFormat.RSS_EXPANDED],[fe.UPC_A,Lt.BarcodeFormat.UPC_A],[fe.UPC_E,Lt.BarcodeFormat.UPC_E],[fe.UPC_EAN_EXTENSION,Lt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Lt)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var i=this.createZXingFormats(t),o=new Map;o.set(Lt.DecodeHintType.POSSIBLE_FORMATS,i),o.set(Lt.DecodeHintType.TRY_HARDER,!1),this.hints=o}return e.prototype.decodeAsync=function(t){var r=this;return new Promise(function(n,i){try{n(r.decode(t))}catch(o){i(o)}})},e.prototype.decode=function(t){var r=new Lt.MultiFormatReader(this.verbose,this.hints),n=new Lt.HTMLCanvasElementLuminanceSource(t),i=new Lt.BinaryBitmap(new Lt.HybridBinarizer(n)),o=r.decode(i);return{text:o.text,format:$x.create(this.toHtml5QrcodeSupportedFormats(o.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,i){t.set(r,n)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var r=[],n=0,i=t;n<i.length;n++){var o=i[n];this.formatMap.has(o)?r.push(this.formatMap.get(o)):this.logger.logError("".concat(o," is not supported by")+"ZXingHtml5QrcodeShim")}return r},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),eA=function(){function e(t,r,n){if(this.formatMap=new Map([[fe.QR_CODE,"qr_code"],[fe.AZTEC,"aztec"],[fe.CODABAR,"codabar"],[fe.CODE_39,"code_39"],[fe.CODE_93,"code_93"],[fe.CODE_128,"code_128"],[fe.DATA_MATRIX,"data_matrix"],[fe.ITF,"itf"],[fe.EAN_13,"ean_13"],[fe.EAN_8,"ean_8"],[fe.PDF_417,"pdf417"],[fe.UPC_A,"upc_a"],[fe.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var i=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){return"BarcodeDetector"in window&&typeof new BarcodeDetector({formats:["qr_code"]})<"u"},e.prototype.decodeAsync=function(t){return function(e,t,r,n){return new(r||(r=Promise))(function(o,c){function f(w){try{g(n.next(w))}catch(E){c(E)}}function m(w){try{g(n.throw(w))}catch(E){c(E)}}function g(w){w.done?o(w.value):function i(o){return o instanceof r?o:new r(function(c){c(o)})}(w.value).then(f,m)}g((n=n.apply(e,t||[])).next())})}(this,void 0,void 0,function(){var r,n;return function(e,t){var n,i,o,c,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:f(0),throw:f(1),return:f(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function f(g){return function(w){return function m(g){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,g[0]&&(r=0)),r;)try{if(n=1,i&&(o=2&g[0]?i.return:g[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,g[1])).done)return o;switch(i=0,o&&(g=[2&g[0],o.value]),g[0]){case 0:case 1:o=g;break;case 4:return r.label++,{value:g[1],done:!1};case 5:r.label++,i=g[1],g=[0];continue;case 7:g=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===g[0]||2===g[0])){r=0;continue}if(3===g[0]&&(!o||g[1]>o[0]&&g[1]<o[3])){r.label=g[1];break}if(6===g[0]&&r.label<o[1]){r.label=o[1],o=g;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(g);break}o[2]&&r.ops.pop(),r.trys.pop();continue}g=t.call(e,r)}catch(w){g=[6,w],i=0}finally{n=o=0}if(5&g[0])throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}([g,w])}}}(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(t)];case 1:if(!(r=i.sent())||0===r.length)throw"No barcode or QR code detected.";return[2,{text:(n=this.selectLargestBarcode(r)).rawValue,format:$x.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var r=null,n=0,i=0,o=t;i<o.length;i++){var c=o[i],f=c.boundingBox.width*c.boundingBox.height;f>n&&(n=f,r=c)}if(!r)throw"No largest barcode found";return r},e.prototype.createBarcodeDetectorFormats=function(t){for(var r=[],n=0,i=t;n<i.length;n++){var o=i[n];this.formatMap.has(o)?r.push(this.formatMap.get(o)):this.logger.warn("".concat(o," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(r,n,i){t.set(r,n)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),tA=function(e,t,r,n){return new(r||(r=Promise))(function(o,c){function f(w){try{g(n.next(w))}catch(E){c(E)}}function m(w){try{g(n.throw(w))}catch(E){c(E)}}function g(w){w.done?o(w.value):function i(o){return o instanceof r?o:new r(function(c){c(o)})}(w.value).then(f,m)}g((n=n.apply(e,t||[])).next())})},nA=function(e,t){var n,i,o,c,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:f(0),throw:f(1),return:f(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function f(g){return function(w){return function m(g){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,g[0]&&(r=0)),r;)try{if(n=1,i&&(o=2&g[0]?i.return:g[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,g[1])).done)return o;switch(i=0,o&&(g=[2&g[0],o.value]),g[0]){case 0:case 1:o=g;break;case 4:return r.label++,{value:g[1],done:!1};case 5:r.label++,i=g[1],g=[0];continue;case 7:g=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===g[0]||2===g[0])){r=0;continue}if(3===g[0]&&(!o||g[1]>o[0]&&g[1]<o[3])){r.label=g[1];break}if(6===g[0]&&r.label<o[1]){r.label=o[1],o=g;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(g);break}o[2]&&r.ops.pop(),r.trys.pop();continue}g=t.call(e,r)}catch(w){g=[6,w],i=0}finally{n=o=0}if(5&g[0])throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}([g,w])}}},ik=function(){function e(t,r,n,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&eA.isSupported()?(this.primaryDecoder=new eA(t,n,i),this.secondaryDecoder=new Jx(t,n,i)):this.primaryDecoder=new Jx(t,n,i)}return e.prototype.decodeAsync=function(t){return tA(this,void 0,void 0,function(){var r;return nA(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return tA(this,void 0,void 0,function(){var r,n;return nA(this,function(i){switch(i.label){case 0:r=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,i.sent()];case 3:if(n=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?!1===this.wasPrimaryDecoderUsedInLastDecode?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var r=performance.now()-t;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,r=0,n=this.executionResults;r<n.length;r++)t+=n[r];console.log("".concat(t/this.executionResults.length," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),Q1=(e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,r)},function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}),Ff=function(e,t,r,n){return new(r||(r=Promise))(function(o,c){function f(w){try{g(n.next(w))}catch(E){c(E)}}function m(w){try{g(n.throw(w))}catch(E){c(E)}}function g(w){w.done?o(w.value):function i(o){return o instanceof r?o:new r(function(c){c(o)})}(w.value).then(f,m)}g((n=n.apply(e,t||[])).next())})},Lf=function(e,t){var n,i,o,c,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:f(0),throw:f(1),return:f(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function f(g){return function(w){return function m(g){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,g[0]&&(r=0)),r;)try{if(n=1,i&&(o=2&g[0]?i.return:g[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,g[1])).done)return o;switch(i=0,o&&(g=[2&g[0],o.value]),g[0]){case 0:case 1:o=g;break;case 4:return r.label++,{value:g[1],done:!1};case 5:r.label++,i=g[1],g=[0];continue;case 7:g=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===g[0]||2===g[0])){r=0;continue}if(3===g[0]&&(!o||g[1]>o[0]&&g[1]<o[3])){r.label=g[1];break}if(6===g[0]&&r.label<o[1]){r.label=o[1],o=g;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(g);break}o[2]&&r.ops.pop(),r.trys.pop();continue}g=t.call(e,r)}catch(w){g=[6,w],i=0}finally{n=o=0}if(5&g[0])throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}([g,w])}}},rA=function(){function e(t,r){this.name=t,this.track=r}return e.prototype.isSupported=function(){return!!this.track.getCapabilities&&this.name in this.track.getCapabilities()},e.prototype.apply=function(t){var r={};return r[this.name]=t,this.track.applyConstraints({advanced:[r]})},e.prototype.value=function(){var t=this.track.getSettings();return this.name in t?t[this.name]:null},e}(),ok=function(e){function t(r,n){return e.call(this,r,n)||this}return Q1(t,e),t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(r){var n={};return n[this.name]=r,this.track.applyConstraints({advanced:[n]})},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities()[this.name];return{min:n.min,max:n.max,step:n.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(rA),sk=function(e){function t(r){return e.call(this,"zoom",r)||this}return Q1(t,e),t}(ok),ak=function(e){function t(r){return e.call(this,"torch",r)||this}return Q1(t,e),t}(rA),lk=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new sk(this.track)},e.prototype.torchFeature=function(){return new ak(this.track)},e}(),ck=function(){function e(t,r,n){this.isClosed=!1,this.parentElement=t,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var r=document.createElement("video");return r.style.width="".concat(t,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){t.callbacks.onRenderSurfaceReady(t.surface.clientWidth,t.surface.clientHeight),t.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,r,n,i){return Ff(this,void 0,void 0,function(){var o,c;return Lf(this,function(f){switch(f.label){case 0:return o=new e(t,r,i),n.aspectRatio?(c={aspectRatio:n.aspectRatio},[4,o.getFirstTrackOrFail().applyConstraints(c)]):[3,2];case 1:f.sent(),f.label=2;case 2:return o.setupSurface(),[2,o]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),0===this.mediaStream.getVideoTracks().length)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var r=this,n=function(){setTimeout(t,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return Ff(this,void 0,void 0,function(){return Lf(this,function(r){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(r,n){var o=t.mediaStream.getVideoTracks().length,c=0;t.mediaStream.getVideoTracks().forEach(function(f){t.mediaStream.removeTrack(f),f.stop(),++c>=o&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),r())})})},e.prototype.getCapabilities=function(){return new lk(this.getFirstTrackOrFail())},e}(),uk=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,r,n){return Ff(this,void 0,void 0,function(){return Lf(this,function(i){return[2,ck.create(t,this.mediaStream,r,n)]})})},e.create=function(t){return Ff(this,void 0,void 0,function(){return Lf(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[4,navigator.mediaDevices.getUserMedia({audio:!1,video:t})];case 1:return[2,new e(i.sent())]}})})},e}(),iA=function(e,t,r,n){return new(r||(r=Promise))(function(o,c){function f(w){try{g(n.next(w))}catch(E){c(E)}}function m(w){try{g(n.throw(w))}catch(E){c(E)}}function g(w){w.done?o(w.value):function i(o){return o instanceof r?o:new r(function(c){c(o)})}(w.value).then(f,m)}g((n=n.apply(e,t||[])).next())})},oA=function(e,t){var n,i,o,c,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:f(0),throw:f(1),return:f(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function f(g){return function(w){return function m(g){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,g[0]&&(r=0)),r;)try{if(n=1,i&&(o=2&g[0]?i.return:g[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,g[1])).done)return o;switch(i=0,o&&(g=[2&g[0],o.value]),g[0]){case 0:case 1:o=g;break;case 4:return r.label++,{value:g[1],done:!1};case 5:r.label++,i=g[1],g=[0];continue;case 7:g=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===g[0]||2===g[0])){r=0;continue}if(3===g[0]&&(!o||g[1]>o[0]&&g[1]<o[3])){r.label=g[1];break}if(6===g[0]&&r.label<o[1]){r.label=o[1],o=g;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(g);break}o[2]&&r.ops.pop(),r.trys.pop();continue}g=t.call(e,r)}catch(w){g=[6,w],i=0}finally{n=o=0}if(5&g[0])throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}([g,w])}}},dk=function(){function e(){}return e.failIfNotSupported=function(){return iA(this,void 0,void 0,function(){return oA(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return iA(this,void 0,void 0,function(){return oA(this,function(r){return[2,uk.create(t)]})})},e}(),pk=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=za.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=za.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if("https:"===location.protocol)return!0;var t=location.host.split(":")[0];return"127.0.0.1"===t||"localhost"===t},e.getCamerasFromMediaDevices=function(){return function(e,t,r,n){return new(r||(r=Promise))(function(o,c){function f(w){try{g(n.next(w))}catch(E){c(E)}}function m(w){try{g(n.throw(w))}catch(E){c(E)}}function g(w){w.done?o(w.value):function i(o){return o instanceof r?o:new r(function(c){c(o)})}(w.value).then(f,m)}g((n=n.apply(e,t||[])).next())})}(this,void 0,void 0,function(){var t,r,n,i,o,c,f;return function(e,t){var n,i,o,c,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:f(0),throw:f(1),return:f(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function f(g){return function(w){return function m(g){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,g[0]&&(r=0)),r;)try{if(n=1,i&&(o=2&g[0]?i.return:g[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,g[1])).done)return o;switch(i=0,o&&(g=[2&g[0],o.value]),g[0]){case 0:case 1:o=g;break;case 4:return r.label++,{value:g[1],done:!1};case 5:r.label++,i=g[1],g=[0];continue;case 7:g=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===g[0]||2===g[0])){r=0;continue}if(3===g[0]&&(!o||g[1]>o[0]&&g[1]<o[3])){r.label=g[1];break}if(6===g[0]&&r.label<o[1]){r.label=o[1],o=g;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(g);break}o[2]&&r.ops.pop(),r.trys.pop();continue}g=t.call(e,r)}catch(w){g=[6,w],i=0}finally{n=o=0}if(5&g[0])throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}([g,w])}}}(this,function(m){switch(m.label){case 0:return t=function(g){for(var E=0,D=g.getVideoTracks();E<D.length;E++){var I=D[E];I.enabled=!1,I.stop(),g.removeTrack(I)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=m.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=m.sent(),i=[],o=0,c=n;o<c.length;o++)"videoinput"===(f=c[o]).kind&&i.push({id:f.deviceId,label:f.label});return t(r),[2,i]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,r){MediaStreamTrack.getSources(function(o){for(var c=[],f=0,m=o;f<m.length;f++){var g=m[f];"video"===g.kind&&c.push({id:g.id,label:g.label})}t(c)})})},e}(),Kt=function(e){return e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED",e}(Kt||{}),gk=function(){function e(){this.state=Kt.NOT_STARTED,this.onGoingTransactionNewState=Kt.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===Kt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=Kt.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===Kt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=Kt.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==Kt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case Kt.UNKNOWN:throw"Transition from unknown is not allowed";case Kt.NOT_STARTED:this.failIfNewStateIs(t,[Kt.PAUSED])}},e.prototype.failIfNewStateIs=function(t,r){for(var n=0,i=r;n<i.length;n++)if(t===i[n])throw"Cannot transition from ".concat(this.state," to ").concat(t)},e}(),mk=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===Kt.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==Kt.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===Kt.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===Kt.PAUSED},e}(),yk=function(){function e(){}return e.create=function(){return new mk(new gk)},e}(),Ck=function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),Ar=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Ck(t,e),t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(ei),vk=function(){function e(t,r){this.logger=r,this.fps=Ar.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=!0===t.disableFlip,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=Ar.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Kx.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Di(this.qrbox)},e.create=function(t,r){return new e(t,r)},e}(),K1=function(){function e(t,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");var i;this.elementId=t,this.verbose=!1,"boolean"==typeof r?this.verbose=!0===r:r&&(this.verbose=!0===(i=r).verbose),this.logger=new Zx(this.verbose),this.qrcode=new ik(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(i),this.verbose,this.logger),this.shouldScan=!0,this.stateManagerProxy=yk.create()}return e.prototype.start=function(t,r,n,i){var c,o=this;if(!t)throw"cameraIdOrConfig is required";if(!n||"function"!=typeof n)throw"qrCodeSuccessCallback is required and should be a function.";c=i||(this.verbose?this.logger.log:function(){});var f=vk.create(r,this.logger);this.clearElement();var m=!1;f.videoConstraints&&(f.isMediaStreamConstraintsValid()?m=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var g=m,w=document.getElementById(this.elementId);w.style.position="relative",this.shouldScan=!0,this.element=w;var D=this,I=this.stateManagerProxy.startTransition(Kt.SCANNING);return new Promise(function(P,F){var k=g?f.videoConstraints:D.createVideoConstraints(t);if(!k)return I.cancel(),void F("videoConstraints should be defined");var H={};(!g||f.aspectRatio)&&(H.aspectRatio=f.aspectRatio);var V={onRenderSurfaceReady:function(ne,te){D.setupUi(ne,te,f),D.isScanning=!0,D.foreverScan(f,n,c)}};dk.failIfNotSupported().then(function(ne){ne.create(k).then(function(te){return te.render(o.element,H,V).then(function(Ce){D.renderedCamera=Ce,I.execute(),P(null)}).catch(function(Ce){I.cancel(),F(Ce)})}).catch(function(te){I.cancel(),F(za.errorGettingUserMedia(te))})}).catch(function(ne){I.cancel(),F(za.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(Kt.PAUSED),this.showPausedState(),(Di(t)||!0!==t)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,r=function(){t.stateManagerProxy.directTransition(Kt.SCANNING),t.hidePausedState()};this.renderedCamera.isPaused()?this.renderedCamera.resume(function(){r()}):r()},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(Kt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),function(){if(t.element){var o=document.getElementById(Ar.SHADED_REGION_ELEMENT_ID);o&&t.element.removeChild(o)}}(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),r.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,r){return this.scanFileV2(t,r).then(function(n){return n.decodedText})},e.prototype.scanFileV2=function(t,r){var n=this;if(!(t&&t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Di(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,o){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(t);var c=new Image;c.onload=function(){var f=c.width,m=c.height,g=document.getElementById(n.elementId),w=g.clientWidth?g.clientWidth:Ar.DEFAULT_WIDTH,E=Math.max(g.clientHeight?g.clientHeight:m,Ar.FILE_SCAN_MIN_HEIGHT),D=n.computeCanvasDrawConfig(f,m,w,E);if(r){var I=n.createCanvasElement(w,E,"qr-canvas-visible");I.style.display="inline-block",g.appendChild(I);var P=I.getContext("2d");if(!P)throw"Unable to get 2d context from canvas";P.canvas.width=w,P.canvas.height=E,P.drawImage(c,0,0,f,m,D.x,D.y,D.width,D.height)}var F=Ar.FILE_SCAN_HIDDEN_CANVAS_PADDING,k=Math.max(c.width,D.width),H=Math.max(c.height,D.height),V=k+2*F,ne=H+2*F,te=n.createCanvasElement(V,ne);g.appendChild(te);var Ce=te.getContext("2d");if(!Ce)throw"Unable to get 2d context from canvas";Ce.canvas.width=V,Ce.canvas.height=ne,Ce.drawImage(c,0,0,f,m,F,F,k,H);try{n.qrcode.decodeRobustlyAsync(te).then(function(ut){i(qx.createFromQrcodeResult(ut))}).catch(o)}catch(ut){o("QR code parse error, error = ".concat(ut))}},c.onerror=o,c.onabort=o,c.onstalled=o,c.onsuspend=o,c.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return pk.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(!t)throw"videoConstaints is required argument.";if(!Kx.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(null==this.renderedCamera)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){if(!t||"boolean"==typeof t||!t.formatsToSupport)return[fe.QR_CODE,fe.AZTEC,fe.CODABAR,fe.CODE_39,fe.CODE_93,fe.CODE_128,fe.DATA_MATRIX,fe.MAXICODE,fe.ITF,fe.EAN_13,fe.EAN_8,fe.PDF_417,fe.RSS_14,fe.RSS_EXPANDED,fe.UPC_A,fe.UPC_E,fe.UPC_EAN_EXTENSION];if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(0===t.formatsToSupport.length)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],i=0,o=t.formatsToSupport;i<o.length;i++){var c=o[i];ek(c)?n.push(c):this.logger.warn("Invalid format: ".concat(c," passed in config, ignoring."))}if(0===n.length)throw"None of formatsToSupport match supported values.";return n},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(Di(t))return!0;if(!Di(t.useBarCodeDetectorIfSupported))return!1!==t.useBarCodeDetectorIfSupported;if(Di(t.experimentalFeatures))return!0;var r=t.experimentalFeatures;return!!Di(r.useBarCodeDetectorIfSupported)||!1!==r.useBarCodeDetectorIfSupported},e.prototype.validateQrboxSize=function(t,r,n){var o=n.qrbox;this.validateQrboxConfig(o);var g,c=this.toQrdimensions(t,r,o),f=function(g){if(g<Ar.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Ar.MIN_QR_BOX_SIZE,"px.")};f(c.width),f(c.height),c.width=((g=c.width)>t&&(this.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),g=t),g)},e.prototype.validateQrboxConfig=function(t){if("number"!=typeof t&&"function"!=typeof t&&(void 0===t.width||void 0===t.height))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,r,n){if("number"==typeof n)return{width:n,height:n};if("function"==typeof n)try{return n(t,r)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return n},e.prototype.setupUi=function(t,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(t,r,n);var i=Di(n.qrbox)?{width:t,height:r}:n.qrbox;this.validateQrboxConfig(i);var o=this.toQrdimensions(t,r,i);o.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var c=n.isShadedBoxEnabled()&&o.height<=r,f={x:0,y:0,width:t,height:r},m=c?this.getShadedRegionBounds(t,r,o):f,g=this.createCanvasElement(m.width,m.height),E=g.getContext("2d",{willReadFrequently:!0});E.canvas.width=m.width,E.canvas.height=m.height,this.element.append(g),c&&this.possiblyInsertShadingElement(this.element,t,r,o),this.createScannerPausedUiElement(this.element),this.qrRegion=m,this.context=E,this.canvasElement=g},e.prototype.createScannerPausedUiElement=function(t){var r=document.createElement("div");r.innerText=za.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",t.appendChild(r),this.scannerPausedUiElement=r},e.prototype.scanContext=function(t,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return t(i.text,qx.createFromQrcodeResult(i)),n.possiblyUpdateShaders(!0),!0}).catch(function(i){n.possiblyUpdateShaders(!1);var o=za.codeParseError(i);return r(o,Xx.createFrom(o)),!1})},e.prototype.foreverScan=function(t,r,n){var i=this;if(this.shouldScan&&this.renderedCamera){var o=this.renderedCamera.getSurface(),c=o.videoWidth/o.clientWidth,f=o.videoHeight/o.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";this.context.drawImage(o,this.qrRegion.x*c,this.qrRegion.y*f,this.qrRegion.width*c,this.qrRegion.height*f,0,0,this.qrRegion.width,this.qrRegion.height);var D=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(t,r,n)},i.getTimeoutFps(t.fps))};this.scanContext(r,n).then(function(I){I||!0===t.disableFlip?D():(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(r,n).finally(function(){D()}))}).catch(function(I){i.logger.logError("Error happend while scanning context",I),D()})}},e.prototype.createVideoConstraints=function(t){if("string"==typeof t)return{deviceId:{exact:t}};if("object"==typeof t){var r="facingMode",n="deviceId",i={user:!0,environment:!0},o="exact",c=function(P){if(P in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(P,"'")},f=Object.keys(t);if(1!==f.length)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(f.length," keys");var m=Object.keys(t)[0];if(m!==r&&m!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(m!==r){var E=t.deviceId;if("string"==typeof E)return{deviceId:E};if("object"==typeof E){if(o in E)return{deviceId:{exact:E["".concat(o)]}};throw"'deviceId' should be string or object with"+" ".concat(o," as key.")}throw"Invalid type of 'deviceId' = ".concat(typeof E)}var g=t.facingMode;if("string"==typeof g){if(c(g))return{facingMode:g}}else{if("object"!=typeof g)throw"Invalid type of 'facingMode' = ".concat(typeof g);if(!(o in g))throw"'facingMode' should be string or object with"+" ".concat(o," as key.");if(c(g["".concat(o)]))return{facingMode:{exact:g["".concat(o)]}}}}throw"Invalid type of 'cameraIdOrConfig' = ".concat(typeof t)},e.prototype.computeCanvasDrawConfig=function(t,r,n,i){if(t<=n&&r<=i)return{x:(n-t)/2,y:(i-r)/2,width:t,height:r};var f=t,m=r;return t>n&&(r*=n/t,t=n),r>i&&(t*=i/r,r=i),this.logger.log("Image downsampled from "+"".concat(f,"X").concat(m)+" to ".concat(t,"X").concat(r,".")),this.computeCanvasDrawConfig(t,r,n,i)},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=t?Ar.BORDER_SHADER_MATCH_COLOR:Ar.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,r,n){var i=t,o=r,c=document.createElement("canvas");return c.style.width="".concat(i,"px"),c.style.height="".concat(o,"px"),c.style.display="none",c.id=Di(n)?"qr-canvas":n,c},e.prototype.getShadedRegionBounds=function(t,r,n){if(n.width>t||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},e.prototype.possiblyInsertShadingElement=function(t,r,n,i){if(!(r-i.width<1||n-i.height<1)){var o=document.createElement("div");o.style.position="absolute";var c=(r-i.width)/2,f=(n-i.height)/2;if(o.style.borderLeft="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderRight="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderTop="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderBottom="".concat(f,"px solid rgba(0, 0, 0, 0.48)"),o.style.boxSizing="border-box",o.style.top="0px",o.style.bottom="0px",o.style.left="0px",o.style.right="0px",o.id="".concat(Ar.SHADED_REGION_ELEMENT_ID),r-i.width<11||n-i.height<11)this.hasBorderShaders=!1;else{this.insertShaderBorders(o,40,5,-5,null,0,!0),this.insertShaderBorders(o,40,5,-5,null,0,!1),this.insertShaderBorders(o,40,5,null,-5,0,!0),this.insertShaderBorders(o,40,5,null,-5,0,!1),this.insertShaderBorders(o,5,45,-5,null,-5,!0),this.insertShaderBorders(o,5,45,null,-5,-5,!0),this.insertShaderBorders(o,5,45,-5,null,-5,!1),this.insertShaderBorders(o,5,45,null,-5,-5,!1),this.hasBorderShaders=!0}t.append(o)}},e.prototype.insertShaderBorders=function(t,r,n,i,o,c,f){var m=document.createElement("div");m.style.position="absolute",m.style.backgroundColor=Ar.BORDER_SHADER_DEFAULT_COLOR,m.style.width="".concat(r,"px"),m.style.height="".concat(n,"px"),null!==i&&(m.style.top="".concat(i,"px")),null!==o&&(m.style.bottom="".concat(o,"px")),f?m.style.left="".concat(c,"px"):m.style.right="".concat(c,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(m),t.appendChild(m)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),J1="data:image/svg+xml;base64,",wk=J1+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",_k=J1+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",sA=J1+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",aA=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),xk=function(){function e(){this.data=aA.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=aA.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),Ak=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Qx.poweredBy();var r=document.createElement("a");r.innerText="ScanApp",r.href="https://scanapp.org",r.target="new",r.style.color="white",this.infoDiv.appendChild(r);var n=document.createElement("br"),i=document.createElement("br");this.infoDiv.appendChild(n),this.infoDiv.appendChild(i);var o=document.createElement("a");o.innerText=Qx.reportIssues(),o.href="https://github.com/mebjas/html5-qrcode/issues",o.target="new",o.style.color="white",this.infoDiv.appendChild(o),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),Dk=function(){function e(t,r){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=r,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var r=this;this.infoIcon.alt="Info icon",this.infoIcon.src=sA,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(n){return r.onHoverIn()},this.infoIcon.onmouseout=function(n){return r.onHoverOut()},this.infoIcon.onclick=function(n){return r.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=sA,this.infoIcon.style.opacity="0.6")},e}(),bk=function(){function e(){var t=this;this.infoDiv=new Ak,this.infoIcon=new Dk(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}(),lA=function(){function e(){}return e.hasPermissions=function(){return function(e,t,r,n){return new(r||(r=Promise))(function(o,c){function f(w){try{g(n.next(w))}catch(E){c(E)}}function m(w){try{g(n.throw(w))}catch(E){c(E)}}function g(w){w.done?o(w.value):function i(o){return o instanceof r?o:new r(function(c){c(o)})}(w.value).then(f,m)}g((n=n.apply(e,t||[])).next())})}(this,void 0,void 0,function(){var t,r,n,i;return function(e,t){var n,i,o,c,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:f(0),throw:f(1),return:f(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function f(g){return function(w){return function m(g){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,g[0]&&(r=0)),r;)try{if(n=1,i&&(o=2&g[0]?i.return:g[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,g[1])).done)return o;switch(i=0,o&&(g=[2&g[0],o.value]),g[0]){case 0:case 1:o=g;break;case 4:return r.label++,{value:g[1],done:!1};case 5:r.label++,i=g[1],g=[0];continue;case 7:g=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===g[0]||2===g[0])){r=0;continue}if(3===g[0]&&(!o||g[1]>o[0]&&g[1]<o[3])){r.label=g[1];break}if(6===g[0]&&r.label<o[1]){r.label=o[1],o=g;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(g);break}o[2]&&r.ops.pop(),r.trys.pop();continue}g=t.call(e,r)}catch(w){g=[6,w],i=0}finally{n=o=0}if(5&g[0])throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}([g,w])}}}(this,function(o){switch(o.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=o.sent(),r=0,n=t;r<n.length;r++)if("videoinput"===(i=n[r]).kind&&i.label)return[2,!0];return[2,!1]}})})},e}(),Po=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,r=this.supportedScanTypes;t<r.length;t++)if(e.isCameraScanType(r[t]))return!0;return!1},e.isCameraScanType=function(t){return t===vs.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===vs.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||0===t.length)return ei.DEFAULT_SUPPORTED_SCAN_TYPE;var r=ei.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>r)throw"Max ".concat(r," values expected for ")+"supportedScanTypes";for(var n=0,i=t;n<i.length;n++){var o=i[n];if(!ei.DEFAULT_SUPPORTED_SCAN_TYPE.includes(o))throw"Unsupported scan type ".concat(o)}return t},e}(),Dr=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),eo=function(){function e(){}return e.createElement=function(t,r){var n=document.createElement(t);return n.id=r,n.classList.add(Dr.ALL_ELEMENT_CLASS),"button"===t&&n.setAttribute("type","button"),n},e}(),cA=function(e,t,r,n){return new(r||(r=Promise))(function(o,c){function f(w){try{g(n.next(w))}catch(E){c(E)}}function m(w){try{g(n.throw(w))}catch(E){c(E)}}function g(w){w.done?o(w.value):function i(o){return o instanceof r?o:new r(function(c){c(o)})}(w.value).then(f,m)}g((n=n.apply(e,t||[])).next())})},uA=function(e,t){var n,i,o,c,r={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return c={next:f(0),throw:f(1),return:f(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function f(g){return function(w){return function m(g){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,g[0]&&(r=0)),r;)try{if(n=1,i&&(o=2&g[0]?i.return:g[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,g[1])).done)return o;switch(i=0,o&&(g=[2&g[0],o.value]),g[0]){case 0:case 1:o=g;break;case 4:return r.label++,{value:g[1],done:!1};case 5:r.label++,i=g[1],g=[0];continue;case 7:g=r.ops.pop(),r.trys.pop();continue;default:if(!(o=(o=r.trys).length>0&&o[o.length-1])&&(6===g[0]||2===g[0])){r=0;continue}if(3===g[0]&&(!o||g[1]>o[0]&&g[1]<o[3])){r.label=g[1];break}if(6===g[0]&&r.label<o[1]){r.label=o[1],o=g;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(g);break}o[2]&&r.ops.pop(),r.trys.pop();continue}g=t.call(e,r)}catch(w){g=[6,w],i=0}finally{n=o=0}if(5&g[0])throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}([g,w])}}},dA=function(){function e(t,r,n){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=r,this.onTorchActionFailureCallback=n}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return cA(this,void 0,void 0,function(){var t,r;return uA(this,function(n){switch(n.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return n.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return r=n.sent(),this.propagateFailure(t,r),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,r){t===r?(this.buttonController.setText(r?wt.torchOffButton():wt.torchOnButton()),this.isTorchOn=r):this.propagateFailure(r),this.buttonController.enable()},e.prototype.propagateFailure=function(t,r){var n=t?wt.torchOnFailedMessage():wt.torchOffFailedMessage();r&&(n+="; Error = "+r),this.onTorchActionFailureCallback(n)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),Tk=function(){function e(t,r){this.onTorchActionFailureCallback=r,this.torchButton=eo.createElement("button",Dr.TORCH_BUTTON_ID),this.torchController=new dA(t,this,r)}return e.prototype.render=function(t,r){var n=this;this.torchButton.innerText=wt.torchOnButton(),this.torchButton.style.display=r.display,this.torchButton.style.marginLeft=r.marginLeft;var i=this;this.torchButton.addEventListener("click",function(o){return cA(n,void 0,void 0,function(){return uA(this,function(c){switch(c.label){case 0:return[4,i.torchController.flipState()];case 1:return c.sent(),i.torchController.isTorchEnabled()?(i.torchButton.classList.remove(Dr.TORCH_BUTTON_CLASS_TORCH_OFF),i.torchButton.classList.add(Dr.TORCH_BUTTON_CLASS_TORCH_ON)):(i.torchButton.classList.remove(Dr.TORCH_BUTTON_CLASS_TORCH_ON),i.torchButton.classList.add(Dr.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new dA(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=wt.torchOnButton(),this.torchController.reset()},e.create=function(t,r,n,i){var o=new e(r,i);return o.render(t,n),o},e}(),Mk=function(){function e(t,r,n){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=r?"block":"none",t.appendChild(this.fileBasedScanRegion);var i=document.createElement("label");i.setAttribute("for",this.getFileScanInputId()),i.style.display="inline-block",this.fileBasedScanRegion.appendChild(i),this.fileSelectionButton=eo.createElement("button",Dr.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(f){i.click()}),i.append(this.fileSelectionButton),this.fileScanInput=eo.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",i.appendChild(this.fileScanInput);var o=this;this.fileScanInput.addEventListener("change",function(f){if(null!=f&&null!=f.target){var m=f.target;if(!m.files||0!==m.files.length){var w=m.files[0];o.setImageNameToButton(w.name),n(w)}}});var c=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(c),this.fileBasedScanRegion.addEventListener("dragenter",function(f){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionActiveBorder(),f.stopPropagation(),f.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(f){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionDefaultBorder(),f.stopPropagation(),f.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(f){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionActiveBorder(),f.stopPropagation(),f.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(f){f.stopPropagation(),f.preventDefault(),o.fileBasedScanRegion.style.border=o.fileBasedScanRegionDefaultBorder();var m=f.dataTransfer;if(m){var g=m.files;if(!g||0===g.length)return;for(var w=!1,E=0;E<g.length;++E){var D=g.item(E);if(D&&D.type.match(/image.*/)){w=!0,o.setImageNameToButton(D.name),n(D),c.innerText=wt.dragAndDropMessage();break}}w||(c.innerText=wt.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return"block"===this.fileBasedScanRegion.style.display},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=wt.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){if(t.length>20){var n=t.substring(0,8),i=t.length,o=t.substring(i-8,i);t="".concat(n,"....").concat(o)}var c=wt.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=c},e.prototype.setInitialValueToButton=function(){var t=wt.fileSelectionChooseImage()+" - "+wt.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,r,n){return new e(t,r,n)},e}(),Nk=function(){function e(t){this.selectElement=eo.createElement("select",Dr.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var r=document.createElement("span");r.style.marginRight="10px";var n=this.cameras.length;if(0===n)throw new Error("No cameras found");if(1===n)r.style.display="none";else{var i=wt.selectCamera();r.innerText="".concat(i," (").concat(this.cameras.length,")  ")}for(var o=1,c=0,f=this.cameras;c<f.length;c++){var m=f[c],g=m.id,w=null==m.label?g:m.label;(!w||""===w)&&(w=[wt.anonymousCameraPrefix(),o++].join(" "));var E=document.createElement("option");E.value=g,E.innerText=w,this.options.push(E),this.selectElement.appendChild(E)}r.appendChild(this.selectElement),t.appendChild(r)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return!0===this.selectElement.disabled},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var r=0,n=this.options;r<n.length;r++)if(n[r].value===t)return!0;return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return 1===this.cameras.length},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,r){var n=new e(r);return n.render(t),n},e}(),Rk=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=eo.createElement("input",Dr.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,r){this.zoomElementContainer.style.display=r?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var n=wt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(n),this.rangeText.style.marginRight="10px";var i=this;this.rangeInput.addEventListener("input",function(){return i.onValueChange()}),this.rangeInput.addEventListener("change",function(){return i.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=wt.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,r,n,i){this.rangeInput.min=t.toString(),this.rangeInput.max=r.toString(),this.rangeInput.step=i.toString(),this.rangeInput.value=n.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,r){var n=new e;return n.render(t,r),n},e}(),Vr=function(e){return e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION",e}(Vr||{});function Fk(e,t){if(1&e){const r=mo();M(0,"div",16)(1,"button",17),st("click",function(){return hi(r),pi(Pt().lerQrCode())}),R(2,"Ler QRcode"),T(),M(3,"button",18),st("click",function(){return hi(r),pi(Pt().tirarFoto())}),R(4,"Tirar Foto"),T()()}}function Lk(e,t){if(1&e){const r=mo();M(0,"div",16)(1,"button",19),st("click",function(){return hi(r),pi(Pt().testeClickSalvar())}),R(2,"Salvar"),T()()}if(2&e){const r=Pt();$(1),K("disabled",r.qrCodeNaoLido)}}function kk(e,t){1&e&&(M(0,"div",20),R(1," Atividade cadastrada com sucesso! "),T())}function Bk(e,t){1&e&&(M(0,"div",21),R(1," Essa Atividade j\xe1 foi cadastrada para voc\xea! "),T())}function Vk(e,t){1&e&&(M(0,"div",21),R(1," Voc\xea s\xf3 pode registrar sua participa\xe7\xe3o no dia do evento! "),T())}function Uk(e,t){1&e&&(M(0,"div",22),R(1," Evento N\xe3o Encontrado! "),T())}!function(){function e(t,r,n){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(r),this.verbose=!0===n,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new Po(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Zx(this.verbose),this.persistedDataManager=new xk,!0!==r.rememberLastUsedCamera&&this.persistedDataManager.reset()}e.prototype.render=function(t,r){var n=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(o,c){if(t)t(o,c);else{if(n.lastMatchFound===o)return;n.lastMatchFound=o,n.setHeaderMessage(wt.lastMatch(o),Vr.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(o,c){r&&r(o,c)};var i=document.getElementById(this.elementId);if(!i)throw"HTML Element with id=".concat(this.elementId," not found");i.innerHTML="",this.createBasicLayout(i),this.html5Qrcode=new K1(this.getScanRegionId(),function Pk(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}(this.config,this.verbose))},e.prototype.pause=function(t){(Di(t)||!0!==t)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,r=function(){var n=document.getElementById(t.elementId);n&&(n.innerHTML="",t.resetBasicLayout(n))};return this.html5Qrcode?new Promise(function(n,i){t.html5Qrcode?t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(o){t.html5Qrcode?(t.html5Qrcode.clear(),r(),n()):n()}).catch(function(o){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",o),i(o)}):(t.html5Qrcode.clear(),r(),n()):n()}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=ei.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!ei.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=ei.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=ei.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:ei.SCAN_DEFAULT_FPS,rememberLastUsedCamera:ei.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:ei.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var r=document.createElement("div"),n=this.getScanRegionId();r.id=n,r.style.width="100%",r.style.minHeight="100px",r.style.textAlign="center",t.appendChild(r),Po.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var i=document.createElement("div"),o=this.getDashboardId();i.id=o,i.style.width="100%",t.appendChild(i),this.setupInitialDashboard(i)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var r=document.createElement("div");r.style.textAlign="left",r.style.margin="0px",t.appendChild(r),(new bk).renderInto(r);var i=document.createElement("div");i.id=this.getHeaderMessageContainerId(),i.style.display="none",i.style.textAlign="center",i.style.fontSize="14px",i.style.padding="2px 10px",i.style.margin="4px",i.style.borderTop="1px solid #f6f6f6",r.appendChild(i)},e.prototype.createSection=function(t){var r=document.createElement("div");r.id=this.getDashboardSectionId(),r.style.width="100%",r.style.padding="10px 0px 10px 0px",r.style.textAlign="left",t.appendChild(r)},e.prototype.createCameraListUi=function(t,r,n){var i=this;i.showHideScanTypeSwapLink(!1),i.setHeaderMessage(wt.cameraPermissionRequesting());var o=function(){n||i.createPermissionButton(t,r)};K1.getCameras().then(function(c){i.persistedDataManager.setHasPermission(!0),i.showHideScanTypeSwapLink(!0),i.resetHeaderMessage(),c&&c.length>0?(t.removeChild(r),i.renderCameraSelection(c)):(i.setHeaderMessage(wt.noCameraFound(),Vr.STATUS_WARNING),o())}).catch(function(c){i.persistedDataManager.setHasPermission(!1),n?n.disabled=!1:o(),i.setHeaderMessage(c,Vr.STATUS_WARNING),i.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,r){var n=this,i=eo.createElement("button",this.getCameraPermissionButtonId());i.innerText=wt.cameraPermissionTitle(),i.addEventListener("click",function(){i.disabled=!0,n.createCameraListUi(t,r,i)}),r.appendChild(i)},e.prototype.createPermissionsUi=function(t,r){var n=this;Po.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()?lA.hasPermissions().then(function(i){i?n.createCameraListUi(t,r):(n.persistedDataManager.setHasPermission(!1),n.createPermissionButton(t,r))}).catch(function(i){n.persistedDataManager.setHasPermission(!1),n.createPermissionButton(t,r)}):this.createPermissionButton(t,r)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),r=document.createElement("div");t.appendChild(r);var n=document.createElement("div");n.id=this.getDashboardSectionCameraScanRegionId(),n.style.display=Po.isCameraScanType(this.currentScanType)?"block":"none",r.appendChild(n);var i=document.createElement("div");i.style.textAlign="center",n.appendChild(i),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(n,i),this.renderFileScanUi(r)},e.prototype.renderFileScanUi=function(t){var r=Po.isFileScanType(this.currentScanType),n=this;this.fileSelectionUi=Mk.create(t,r,function(o){if(!n.html5Qrcode)throw"html5Qrcode not defined";Po.isFileScanType(n.currentScanType)&&(n.setHeaderMessage(wt.loadingImage()),n.html5Qrcode.scanFileV2(o,!0).then(function(c){n.resetHeaderMessage(),n.qrCodeSuccessCallback(c.decodedText,c)}).catch(function(c){n.setHeaderMessage(c,Vr.STATUS_WARNING),n.qrCodeErrorCallback(c,Xx.createFrom(c))}))})},e.prototype.renderCameraSelection=function(t){var r=this,n=this,i=document.getElementById(this.getDashboardSectionCameraScanRegionId());i.style.textAlign="center";var o=Rk.create(i,!1),f=Nk.create(i,t),m=document.createElement("span"),g=eo.createElement("button",Dr.CAMERA_START_BUTTON_ID);g.innerText=wt.scanButtonStartScanningText(),m.appendChild(g);var E,w=eo.createElement("button",Dr.CAMERA_STOP_BUTTON_ID);w.innerText=wt.scanButtonStopScanningText(),w.style.display="none",w.disabled=!0,m.appendChild(w),i.appendChild(m);var I=function(F){F||(g.style.display="none"),g.innerText=wt.scanButtonStartScanningText(),g.style.opacity="1",g.disabled=!1,F&&(g.style.display="inline-block")};if(g.addEventListener("click",function(F){g.innerText=wt.scanButtonScanningStarting(),f.disable(),g.disabled=!0,g.style.opacity="0.5",r.scanTypeSelector.hasMoreThanOneScanType()&&n.showHideScanTypeSwapLink(!1),n.resetHeaderMessage();var k=f.getValue();n.persistedDataManager.setLastUsedCameraId(k),n.html5Qrcode.start(k,function Ok(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}(n.config),n.qrCodeSuccessCallback,n.qrCodeErrorCallback).then(function(H){w.disabled=!1,w.style.display="inline-block",I(!1);var V=n.html5Qrcode.getRunningTrackCameraCapabilities();!0===r.config.showTorchButtonIfSupported&&function(F){F.torchFeature().isSupported()?(E?E.updateTorchCapability(F.torchFeature()):E=Tk.create(m,F.torchFeature(),{display:"none",marginLeft:"5px"},function(k){n.setHeaderMessage(k,Vr.STATUS_WARNING)}),E.show()):E&&E.hide()}(V),!0===r.config.showZoomSliderIfSupported&&function(F){var k=F.zoomFeature();if(k.isSupported()){o.setOnCameraZoomValueChangeCallback(function(V){k.apply(V)});var H=1;r.config.defaultZoomValueIfSupported&&(H=r.config.defaultZoomValueIfSupported),H=function tk(e,t,r){return e>r?r:e<t?t:e}(H,k.min(),k.max()),o.setValues(k.min(),k.max(),H,k.step()),o.show()}}(V)}).catch(function(H){n.showHideScanTypeSwapLink(!0),f.enable(),I(!0),n.setHeaderMessage(H,Vr.STATUS_WARNING)})}),f.hasSingleItem()&&g.click(),w.addEventListener("click",function(F){if(!n.html5Qrcode)throw"html5Qrcode not defined";w.disabled=!0,n.html5Qrcode.stop().then(function(k){r.scanTypeSelector.hasMoreThanOneScanType()&&n.showHideScanTypeSwapLink(!0),f.enable(),g.disabled=!1,w.style.display="none",g.style.display="inline-block",E&&(E.reset(),E.hide()),o.removeOnCameraZoomValueChangeCallback(),o.hide(),n.insertCameraScanImageToScanRegion()}).catch(function(k){w.disabled=!1,n.setHeaderMessage(k,Vr.STATUS_WARNING)})}),n.persistedDataManager.getLastUsedCameraId()){var P=n.persistedDataManager.getLastUsedCameraId();f.hasValue(P)?(f.setValue(P),g.click()):n.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,r=wt.textIfCameraScanSelected(),n=wt.textIfFileScanSelected(),i=document.getElementById(this.getDashboardSectionId()),o=document.createElement("div");o.style.textAlign="center";var c=eo.createElement("span",this.getDashboardSectionSwapLinkId());c.style.textDecoration="underline",c.style.cursor="pointer",c.innerText=Po.isCameraScanType(this.currentScanType)?r:n,c.addEventListener("click",function(){t.sectionSwapAllowed?(t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,Po.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),c.innerText=n,t.currentScanType=vs.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),c.innerText=r,t.currentScanType=vs.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0):t.verbose&&t.logger.logError("Section swap called when not allowed")}),o.appendChild(c),i.appendChild(o)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,r=this;this.persistedDataManager.hasCameraPermissions()&&lA.hasPermissions().then(function(n){if(n){var i=document.getElementById(r.getCameraPermissionButtonId());if(!i)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";i.click()}else r.persistedDataManager.setHasPermission(!1)}).catch(function(n){r.persistedDataManager.setHasPermission(!1)})},e.prototype.resetHeaderMessage=function(){document.getElementById(this.getHeaderMessageContainerId()).style.display="none"},e.prototype.setHeaderMessage=function(t,r){r||(r=Vr.STATUS_DEFAULT);var n=this.getHeaderMessageDiv();switch(n.innerText=t,n.style.display="block",r){case Vr.STATUS_SUCCESS:n.style.background="rgba(106, 175, 80, 0.26)",n.style.color="#477735";break;case Vr.STATUS_WARNING:n.style.background="rgba(203, 36, 49, 0.14)",n.style.color="#cb2431";break;default:n.style.background="rgba(0, 0, 0, 0)",n.style.color="rgb(17, 17, 17)"}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(!0!==t&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,r=document.getElementById(this.getScanRegionId());if(this.cameraScanImage)return r.innerHTML="<br>",void r.appendChild(this.cameraScanImage);this.cameraScanImage=new Image,this.cameraScanImage.onload=function(n){r.innerHTML="<br>",r.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=wk,this.cameraScanImage.alt=wt.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,r=document.getElementById(this.getScanRegionId());if(this.fileScanImage)return r.innerHTML="<br>",void r.appendChild(this.fileScanImage);this.fileScanImage=new Image,this.fileScanImage.onload=function(n){r.innerHTML="<br>",r.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=_k,this.fileScanImage.alt=wt.fileScanAltText()},e.prototype.clearScanRegion=function(){document.getElementById(this.getScanRegionId()).innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return Dr.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return Dr.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())}}();let jk=(()=>{var e;class t{constructor(n,i){this.api=n,this.authService=i,this.mostraSucesso=!1,this.mostraFracasso=!1,this.mostraFracasso2=!1,this.mostraEventoNaoEncontrado=!1,this.photoUrl=null,this.qrCodeNaoLido=!0,this.cameraFechada=!0}lerQrCode(){this.mostraEventoNaoEncontrado=!1,this.mostraFracasso=!1,this.mostraFracasso2=!1,this.mostraSucesso=!1,this.cameraFechada=!1;let n=!1;const i=document.getElementById("reader-container");let o=document.getElementById("reader");o||(o=document.createElement("div"),o.id="reader",o.style.width="100%",document.getElementById("reader-container")?.appendChild(o));const c=new K1("reader"),f=document.createElement("button");f.textContent="Voltar",f.classList.add("btn","btn-danger","mt-2"),f.addEventListener("click",()=>{c.stop().then(()=>{this.qrCodeNaoLido=!0,i.removeChild(o),i.removeChild(f),this.cameraFechada=!0})}),i.appendChild(f),c.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250}},(E,D)=>{n||(n=!0,console.log(`C\xf3digo lido = ${E}, vou chamar o get atividades`,D),localStorage.setItem("leituraQrCode",E),this.qrCodeNaoLido=!1,c.stop().then(()=>{i.innerHTML="";const I=document.createElement("div");I.textContent=`C\xf3digo lido: ${E}`,i.appendChild(I),this.cameraFechada=!0}))},function w(E){})}tirarFoto(){let i;this.mostraEventoNaoEncontrado=!1,this.mostraFracasso=!1,this.mostraFracasso2=!1,this.mostraSucesso=!1,this.cameraFechada=!1,navigator.mediaDevices.getUserMedia({video:!0}).then(o=>{i=o;const c=document.createElement("video");c.classList.add("rounded","shadow"),c.srcObject=o,c.autoplay=!0,c.style.width="100%";const f=document.createElement("canvas");f.width=640,f.height=480;const m=f.getContext("2d"),g=document.createElement("button");g.innerText="Tirar Foto",g.classList.add("btn","btn-primary");const w=document.createElement("button");w.innerText="Voltar",w.classList.add("btn","btn-danger");const E=document.createElement("div");E.classList.add("d-flex","justify-content-center","align-items-center","mt-1"),E.appendChild(g),E.appendChild(w),g.addEventListener("click",()=>{m.drawImage(c,0,0,f.width,f.height);const P=f.toDataURL("image/jpeg"),F=document.createElement("img");F.src=P,F.classList.add("rounded","shadow"),F.style.width="100%";const k=document.getElementById("fotoContainer");k.innerHTML="",k.appendChild(F);const H=document.createElement("button");H.innerText="Foto Ok",H.classList.add("btn","btn-primary","me-1");const V=document.createElement("button");V.innerText="Tirar outra Foto",V.classList.add("btn","btn-danger");const ne=document.createElement("div");ne.classList.add("d-flex","justify-content-center","align-items-center","mt-1"),ne.appendChild(H),ne.appendChild(V),k.appendChild(ne),H.addEventListener("click",()=>{const te=atob(P.split(",")[1]),Ce=P.split(",")[0].split(":")[1].split(";")[0],ut=new ArrayBuffer(te.length),kt=new Uint8Array(ut);for(let Cn=0;Cn<te.length;Cn++)kt[Cn]=te.charCodeAt(Cn);const Ln=new Blob([ut],{type:Ce});this.photoUrl=Ln,k.innerHTML="",ne.remove(),this.cameraFechada=!0}),V.addEventListener("click",()=>{k.innerHTML="",ne.remove(),this.tirarFoto()}),i.getTracks().forEach(te=>te.stop()),c.remove(),g.remove(),E.remove()}),w.addEventListener("click",()=>{i.getTracks().forEach(P=>P.stop()),c.remove(),g.remove(),E.remove(),this.cameraFechada=!0});const D=document.createElement("div");D.classList.add("d-flex","justify-content-center","align-items-center"),D.appendChild(c);const I=document.getElementById("fotoContainer");I.innerHTML="",I.appendChild(D),I.appendChild(E),D.classList.add("mt-4","bg-light","rounded")}).catch(o=>{console.error("Erro ao acessar a c\xe2mera:",o)})}testeClickSalvar(){this.leituraQrCode=localStorage.getItem("leituraQrCode"),console.log("entrei"),gE([this.api.getAtividades().pipe(kr(o=>(console.log(o),ae([])))),this.api.getAllEventos().pipe(kr(o=>(console.log(o),ae([]))))]).subscribe(([o,c])=>{for(let m=0;m<o.length;m++)if(o[m].evento.titulo==this.leituraQrCode.replaceAll("-"," ")&&o[m].usuario.id==this.authService.getUserId())return console.log("Evento j\xe1 cadastrado para esse usu\xe1rio!"),void(this.mostraFracasso=!0);let f=0;for(let m=0;m<c.length;m++){if(this.leituraQrCode.replaceAll("-"," ")==c[m].titulo)return console.log("achei evento"),void this.postarAtividade(c[m]);this.leituraQrCode.replaceAll("-"," ")!=c[m].titulo&&(f++,console.log("Evento n\xe3o encontrado"))}f==c.length&&(this.mostraEventoNaoEncontrado=!0)})}postarAtividade(n){const i=new FormData;console.log("postando atividade",this.photoUrl);const o=String(this.authService.getUserId());if(i.append("esporte",n.esporte),i.append("usuario",o),i.append("titulo",n.titulo),i.append("data",n.data),i.append("evento",n.id),this.photoUrl){console.log("oi alan");const f=`imagem_${Math.floor(1e4*Math.random())}.jpg`;i.append("foto",this.photoUrl,f),console.log(i.get("foto"))}ae(this.api.postAtividade(i).subscribe({next:c=>{console.log(c),this.mostraSucesso=!0},error:c=>{console.log(c),this.mostraFracasso2=!0},complete:()=>console.info("complete")}))}}return(e=t).\u0275fac=function(n){return new(n||e)(z(lr),z(Jr))},e.\u0275cmp=Bt({type:e,selectors:[["app-cria-atividade"]],decls:20,vars:6,consts:[[1,"container-fluid","d-flex","justify-content-center","mt-5"],[1,"col-md-4"],[1,"vh-100"],[1,"container","py-1","h-100"],[1,"row","d-flex","justify-content-center","align-items-center"],[1,"col-md-12","col-xl-12"],[1,"card",2,"height","100%","border-radius","15px"],[1,"m-4","text-center"],["class","row mt-1 justify-content-center",4,"ngIf"],[1,"row"],["id","reader-container",1,"col-md-12","text-center"],[1,"col-md-12"],["id","fotoContainer",2,"width","100%"],["class","alert alert-success","role","alert",4,"ngIf"],["class","alert alert-danger","role","alert",4,"ngIf"],["class","alert alert-warning","role","alert",4,"ngIf"],[1,"row","mt-1","justify-content-center"],[1,"col-4","btn","btn-primary","me-1",3,"click"],[1,"col-4","btn","btn-warning",3,"click"],[1,"col-4","btn","btn-success",3,"disabled","click"],["role","alert",1,"alert","alert-success"],["role","alert",1,"alert","alert-danger"],["role","alert",1,"alert","alert-warning"]],template:function(n,i){1&n&&(M(0,"div",0)(1,"div",1)(2,"section",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h2",7),R(8,"Registrar Nova Atividade"),T(),ge(9,Fk,5,0,"div",8),ge(10,Lk,3,1,"div",8),M(11,"div",9),Ae(12,"div",10),T(),M(13,"div",9)(14,"div",11),Ae(15,"div",12),T()(),ge(16,kk,2,0,"div",13),ge(17,Bk,2,0,"div",14),ge(18,Vk,2,0,"div",14),ge(19,Uk,2,0,"div",15),T()()()()()()()),2&n&&($(9),K("ngIf",i.cameraFechada),$(1),K("ngIf",i.cameraFechada),$(6),K("ngIf",i.mostraSucesso),$(1),K("ngIf",i.mostraFracasso),$(1),K("ngIf",i.mostraFracasso2),$(1),K("ngIf",i.mostraEventoNaoEncontrado))},dependencies:[Yi]}),t})();function Hk(e,t){1&e&&(M(0,"div",5)(1,"h4",6),R(2,"Sucesso!"),T(),M(3,"p"),R(4,"Seu email foi verificado corretamente"),T(),Ae(5,"hr"),M(6,"p",7),R(7,"Aguarde e voc\xea ser\xe1 direcionado \xe0 tela inicial para fazer o seu primeiro login"),T()())}function zk(e,t){1&e&&(M(0,"div",8)(1,"h4",6),R(2,"Erro!"),T(),M(3,"p"),R(4,"Aconteceu um erro na verifica\xe7\xe3o do seu email"),T(),Ae(5,"hr"),M(6,"p",7),R(7,"Se ocorrer novamente esse erro, entre em contato com o nosso suporte"),T()())}const Gk=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:WF,canActivate:[Gx]},{path:"cadastro",component:AL},{path:"perfil",component:DL,canActivate:[Oo]},{path:"ranking",component:IL,canActivate:[Oo]},{path:"criar-evento",component:KL,canActivate:[Oo]},{path:"eventos",component:ML,canActivate:[Oo]},{path:"sobre",component:NL},{path:"configuracoes",component:VL,canActivate:[Oo]},{path:"criar-atividade",component:jk,canActivate:[Oo]},{path:"atividades",component:PL,canActivate:[Oo]},{path:"atividades/:id",component:jL,canActivate:[Oo]},{path:"confirm-email/:key",component:(()=>{var e;class t{constructor(n,i,o){this.api=n,this._activatedRoute=i,this.router=o,this.mostraSucesso=!1,this.mostraFracasso=!1}ngOnInit(){ae(this.api.confirmEmail(this._activatedRoute.snapshot.params.key).subscribe({next:i=>{setTimeout(()=>this.router.navigate(["/home"]),5e3),this.mostraSucesso=!0},error:i=>{this.mostraFracasso=!0}}))}}return(e=t).\u0275fac=function(n){return new(n||e)(z(lr),z(Mo),z(sn))},e.\u0275cmp=Bt({type:e,selectors:[["app-confirm-email"]],decls:5,vars:2,consts:[[1,"container"],[1,"row","d-flex","justify-content-center","align-items-center"],[1,"col-md-12"],["class","alert alert-success mt-5","role","alert",4,"ngIf"],["class","alert alert-danger mt-5","role","alert",4,"ngIf"],["role","alert",1,"alert","alert-success","mt-5"],[1,"alert-heading"],[1,"mb-0"],["role","alert",1,"alert","alert-danger","mt-5"]],template:function(n,i){1&n&&(M(0,"div",0)(1,"div",1)(2,"div",2),ge(3,Hk,8,0,"div",3),ge(4,zk,8,0,"div",4),T()()()),2&n&&($(3),K("ngIf",i.mostraSucesso),$(1),K("ngIf",i.mostraFracasso))},dependencies:[Yi]}),t})(),canActivate:[Gx]},{path:"not-found",component:FL},{path:"**",redirectTo:"not-found"}];let Wk=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Nr({type:e}),e.\u0275inj=jn({imports:[Ax.forRoot(Gk),Ax]}),t})();function $k(e,t){1&e&&(M(0,"a",16),R(1,"Home"),T())}function qk(e,t){if(1&e){const r=mo();M(0,"a",17),st("click",function(){return hi(r),pi(Pt().navigateToProfile())}),R(1," Meu Perfil "),T()}}function Yk(e,t){1&e&&(M(0,"li")(1,"a",18),R(2,"Eventos"),T()())}function Xk(e,t){1&e&&(M(0,"li")(1,"a",19),R(2,"Atividades"),T()())}function Zk(e,t){if(1&e){const r=mo();M(0,"li",7)(1,"a",20),st("click",function(){return hi(r),pi(Pt().goToConfiguracoes())}),R(2,"Configura\xe7\xf5es"),T()()}}function Qk(e,t){if(1&e){const r=mo();M(0,"li",7)(1,"a",21),st("click",function(){return hi(r),pi(Pt().sair())}),R(2,"Sair"),T()()}}let Kk=(()=>{var e;class t{constructor(n,i,o){this.router=n,this.authService=i,this.api=o,this.title="projeto-final-front",this.mostraEventosBotao=!1,this.mostraHomeBotao=!0,this.darkMode=!1}ngOnInit(){const n="true"===localStorage.getItem("loggedIn");this.authService.loggedInStatus.next(n),this.authService.getLoggedInStatus().subscribe(o=>{this.mostraEventosBotao=o,this.mostraHomeBotao=!o});const i=localStorage.getItem("theme");i&&(this.darkMode="dark"===i)}toggleTheme(){this.darkMode=!this.darkMode;const n=this.darkMode?"dark":"light";document.documentElement.setAttribute("data-bs-theme",n),localStorage.setItem("theme",n)}navigateToProfile(){this.authService.getUserId()?this.router.navigate(["perfil/"]):this.router.navigate(["not-found"])}goToConfiguracoes(){this.router.navigate(["configuracoes/"])}sair(){this.api.postLogOutUser().subscribe({next:()=>this.onLogoutSuccess(),error:n=>this.onLogoutError(n),complete:()=>console.log("Logout completed")})}onLogoutSuccess(){this.authService.logout(),this.router.navigate(["home/"])}onLogoutError(n){console.error("Erro ao fazer logout:",n)}}return(e=t).\u0275fac=function(n){return new(n||e)(z(sn),z(Jr),z(lr))},e.\u0275cmp=Bt({type:e,selectors:[["app-root"]],decls:25,vars:7,consts:[[1,"navbar","navbar-expand-lg","navbar-light",2,"background-color","#cb3dd8"],[1,"container-fluid"],["role","banner",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["id","home","role","button","class","nav-link active rounded","aria-current","page","routerLink","/home",4,"ngIf"],["id","meuPerfil","role","button","class"," nav-link active rounded","aria-current","page",3,"click",4,"ngIf"],["id","sobre","role","button","routerLink","/sobre",1,"nav-link","active","rounded"],[4,"ngIf"],["id","tema","role","button","role","button",1,"nav-link","active","rounded",3,"click"],[1,"navbar-nav","mb-2","mb-lg-0"],["class","nav-item",4,"ngIf"],[1,"vh-100",3,"ngClass"],["id","home","role","button","aria-current","page","routerLink","/home",1,"nav-link","active","rounded"],["id","meuPerfil","role","button","aria-current","page",1,"nav-link","active","rounded",3,"click"],["id","eventos","role","button","routerLink","/eventos",1,"nav-link","active","rounded"],["id","eventos","role","button","routerLink","/atividades",1,"nav-link","active","rounded"],["id","configuracoes","role","button",1,"nav-link","active","rounded",3,"click"],["id","sair","role","button",1,"nav-link","active","rounded","ms-l-2",3,"click"]],template:function(n,i){1&n&&(M(0,"nav",0)(1,"div",1)(2,"a",2),R(3,"DesporPato"),T(),M(4,"button",3),Ae(5,"span",4),T(),M(6,"div",5)(7,"ul",6)(8,"li",7),ge(9,$k,2,0,"a",8),T(),M(10,"li",7),ge(11,qk,2,0,"a",9),T(),M(12,"li",7)(13,"a",10),R(14,"Sobre"),T()(),ge(15,Yk,3,0,"li",11),ge(16,Xk,3,0,"li",11),M(17,"li")(18,"a",12),st("click",function(){return i.toggleTheme()}),R(19,"Trocar Tema"),T()()(),M(20,"ul",13),ge(21,Zk,3,0,"li",14),ge(22,Qk,3,0,"li",14),T()()()(),M(23,"div",15),Ae(24,"router-outlet"),T()),2&n&&($(9),K("ngIf",i.mostraHomeBotao),$(2),K("ngIf",!i.mostraHomeBotao),$(4),K("ngIf",!i.mostraHomeBotao),$(1),K("ngIf",!i.mostraHomeBotao),$(5),K("ngIf",!i.mostraHomeBotao),$(1),K("ngIf",!i.mostraHomeBotao),$(1),K("ngClass",i.darkMode?"bg-dark":"bg-light"))},dependencies:[qd,Yi,k1,Ki],styles:["#home[_ngcontent-%COMP%]:hover, #sobre[_ngcontent-%COMP%]:hover, #eventos[_ngcontent-%COMP%]:hover, #logOut[_ngcontent-%COMP%]:hover, #configuracoes[_ngcontent-%COMP%]:hover, #sair[_ngcontent-%COMP%]:hover, #meuPerfil[_ngcontent-%COMP%]:hover, #meus-eventos[_ngcontent-%COMP%]:hover, #tema[_ngcontent-%COMP%]:hover{background-color:#760b8b}"]}),t})(),Jk=(()=>{var e;class t{constructor(n,i){this.authService=n,this.api=i}intercept(n,i){const o=this.authService.getAuthToken();return o&&(n=this.addTokenToRequest(n,o)),i.handle(n).pipe(kr(c=>401===c.status?this.handleUnauthorizedError(n,i):Io(c)))}addTokenToRequest(n,i){return n.clone({setHeaders:{Authorization:`Bearer ${i}`}})}handleUnauthorizedError(n,i){return this.api.refreshToken(this.authService.getRefreshAuthToken()).pipe(je(o=>{if(o.access){localStorage.setItem("token",o.access);const c=this.addTokenToRequest(n,o.access);return i.handle(c)}return this.authService.logout(),Io("Failed to refresh token")}),kr(o=>(this.authService.logout(),Io("Failed to refresh token"))))}}return(e=t).\u0275fac=function(n){return new(n||e)(se(Jr),se(lr))},e.\u0275prov=me({token:e,factory:e.\u0275fac}),t})(),e5=(()=>{var e;class t{}return(e=t).\u0275fac=function(n){return new(n||e)},e.\u0275mod=Nr({type:e,bootstrap:[Kk]}),e.\u0275inj=jn({providers:[{provide:{HTTP_INTERCEPTORS:Px},useClass:Jk,multi:!0}],imports:[j4,Wk,$8,BF,W8]}),t})();V4().bootstrapModule(e5).catch(e=>console.error(e))},834:function(Lc,kc){!function(Z){"use strict";function Xe(v){return null==v}var Wa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,s){v.__proto__=s}||function(v,s){for(var a in s)s.hasOwnProperty(a)&&(v[a]=s[a])};var Bc=function(v){function s(a){var l=this.constructor,u=v.call(this,a)||this;return Object.defineProperty(u,"name",{value:l.name,enumerable:!1}),function qa(v,s){var a=Object.setPrototypeOf;a?a(v,s):v.__proto__=s}(u,l.prototype),function kn(v,s){void 0===s&&(s=v.constructor);var a=Error.captureStackTrace;a&&a(v,s)}(u),u}return function $a(v,s){function a(){this.constructor=v}Wa(v,s),v.prototype=null===s?Object.create(s):(a.prototype=s.prototype,new a)}(s,v),s}(Error);let hn=(()=>{class v extends Bc{constructor(a=void 0){super(a),this.message=a}getKind(){return this.constructor.kind}}return v.kind="Exception",v})(),Bn=(()=>{class v extends hn{}return v.kind="ArgumentException",v})(),ue=(()=>{class v extends hn{}return v.kind="IllegalArgumentException",v})();class Ur{constructor(s){if(this.binarizer=s,null===s)throw new ue("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(s,a){return this.binarizer.getBlackRow(s,a)}getBlackMatrix(){return null==this.matrix&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(s,a,l,u){const d=this.binarizer.getLuminanceSource().crop(s,a,l,u);return new Ur(this.binarizer.createBinarizer(d))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new Ur(this.binarizer.createBinarizer(s))}rotateCounterClockwise45(){const s=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new Ur(this.binarizer.createBinarizer(s))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}let qt=(()=>{class v extends hn{static getChecksumInstance(){return new v}}return v.kind="ChecksumException",v})();class ws{constructor(s){this.source=s}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class gt{static arraycopy(s,a,l,u,d){for(;d--;)l[u++]=s[a++]}static currentTimeMillis(){return Date.now()}}let Ya=(()=>{class v extends hn{}return v.kind="IndexOutOfBoundsException",v})(),Vc=(()=>{class v extends Ya{constructor(a=void 0,l=void 0){super(l),this.index=a,this.message=l}}return v.kind="ArrayIndexOutOfBoundsException",v})();class Ut{static fill(s,a){for(let l=0,u=s.length;l<u;l++)s[l]=a}static fillWithin(s,a,l,u){Ut.rangeCheck(s.length,a,l);for(let d=a;d<l;d++)s[d]=u}static rangeCheck(s,a,l){if(a>l)throw new ue("fromIndex("+a+") > toIndex("+l+")");if(a<0)throw new Vc(a);if(l>s)throw new Vc(l)}static asList(...s){return s}static create(s,a,l){return Array.from({length:s}).map(d=>Array.from({length:a}).fill(l))}static createInt32Array(s,a,l){return Array.from({length:s}).map(d=>Int32Array.from({length:a}).fill(l))}static equals(s,a){if(!(s&&a&&s.length&&a.length&&s.length===a.length))return!1;for(let l=0,u=s.length;l<u;l++)if(s[l]!==a[l])return!1;return!0}static hashCode(s){if(null===s)return 0;let a=1;for(const l of s)a=31*a+l;return a}static fillUint8Array(s,a){for(let l=0;l!==s.length;l++)s[l]=a}static copyOf(s,a){return s.slice(0,a)}static copyOfUint8Array(s,a){if(s.length<=a){const l=new Uint8Array(a);return l.set(s),l}return s.slice(0,a)}static copyOfRange(s,a,l){const u=l-a,d=new Int32Array(u);return gt.arraycopy(s,a,d,0,u),d}static binarySearch(s,a,l){void 0===l&&(l=Ut.numberComparator);let u=0,d=s.length-1;for(;u<=d;){const h=d+u>>1,p=l(a,s[h]);if(p>0)u=h+1;else{if(!(p<0))return h;d=h-1}}return-u-1}static numberComparator(s,a){return s-a}}class Se{static numberOfTrailingZeros(s){let a;if(0===s)return 32;let l=31;return a=s<<16,0!==a&&(l-=16,s=a),a=s<<8,0!==a&&(l-=8,s=a),a=s<<4,0!==a&&(l-=4,s=a),a=s<<2,0!==a&&(l-=2,s=a),l-(s<<1>>>31)}static numberOfLeadingZeros(s){if(0===s)return 32;let a=1;return s>>>16||(a+=16,s<<=16),s>>>24||(a+=8,s<<=8),s>>>28||(a+=4,s<<=4),s>>>30||(a+=2,s<<=2),a-=s>>>31,a}static toHexString(s){return s.toString(16)}static toBinaryString(s){return String(parseInt(String(s),2))}static bitCount(s){return s=(s=(858993459&(s-=s>>>1&1431655765))+(s>>>2&858993459))+(s>>>4)&252645135,63&(s+=s>>>8)+(s>>>16)}static truncDivision(s,a){return Math.trunc(s/a)}static parseInt(s,a=void 0){return parseInt(s,a)}}Se.MIN_VALUE_32_BITS=-2147483648,Se.MAX_VALUE=Number.MAX_SAFE_INTEGER;class mt{constructor(s,a){void 0===s?(this.size=0,this.bits=new Int32Array(1)):(this.size=s,this.bits=null==a?mt.makeArray(s):a)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(s){if(s>32*this.bits.length){const a=mt.makeArray(s);gt.arraycopy(this.bits,0,a,0,this.bits.length),this.bits=a}}get(s){return 0!=(this.bits[Math.floor(s/32)]&1<<(31&s))}set(s){this.bits[Math.floor(s/32)]|=1<<(31&s)}flip(s){this.bits[Math.floor(s/32)]^=1<<(31&s)}getNextSet(s){const a=this.size;if(s>=a)return a;const l=this.bits;let u=Math.floor(s/32),d=l[u];d&=~((1<<(31&s))-1);const h=l.length;for(;0===d;){if(++u===h)return a;d=l[u]}const p=32*u+Se.numberOfTrailingZeros(d);return p>a?a:p}getNextUnset(s){const a=this.size;if(s>=a)return a;const l=this.bits;let u=Math.floor(s/32),d=~l[u];d&=~((1<<(31&s))-1);const h=l.length;for(;0===d;){if(++u===h)return a;d=~l[u]}const p=32*u+Se.numberOfTrailingZeros(d);return p>a?a:p}setBulk(s,a){this.bits[Math.floor(s/32)]=a}setRange(s,a){if(a<s||s<0||a>this.size)throw new ue;if(a===s)return;a--;const l=Math.floor(s/32),u=Math.floor(a/32),d=this.bits;for(let h=l;h<=u;h++)d[h]|=(2<<(h<u?31:31&a))-(1<<(h>l?0:31&s))}clear(){const s=this.bits.length,a=this.bits;for(let l=0;l<s;l++)a[l]=0}isRange(s,a,l){if(a<s||s<0||a>this.size)throw new ue;if(a===s)return!0;a--;const u=Math.floor(s/32),d=Math.floor(a/32),h=this.bits;for(let p=u;p<=d;p++){const _=(2<<(p<d?31:31&a))-(1<<(p>u?0:31&s))&4294967295;if((h[p]&_)!==(l?_:0))return!1}return!0}appendBit(s){this.ensureCapacity(this.size+1),s&&(this.bits[Math.floor(this.size/32)]|=1<<(31&this.size)),this.size++}appendBits(s,a){if(a<0||a>32)throw new ue("Num bits must be between 0 and 32");this.ensureCapacity(this.size+a);for(let l=a;l>0;l--)this.appendBit(1==(s>>l-1&1))}appendBitArray(s){const a=s.size;this.ensureCapacity(this.size+a);for(let l=0;l<a;l++)this.appendBit(s.get(l))}xor(s){if(this.size!==s.size)throw new ue("Sizes don't match");const a=this.bits;for(let l=0,u=a.length;l<u;l++)a[l]^=s.bits[l]}toBytes(s,a,l,u){for(let d=0;d<u;d++){let h=0;for(let p=0;p<8;p++)this.get(s)&&(h|=1<<7-p),s++;a[l+d]=h}}getBitArray(){return this.bits}reverse(){const s=new Int32Array(this.bits.length),a=Math.floor((this.size-1)/32),l=a+1,u=this.bits;for(let d=0;d<l;d++){let h=u[d];h=h>>1&1431655765|(1431655765&h)<<1,h=h>>2&858993459|(858993459&h)<<2,h=h>>4&252645135|(252645135&h)<<4,h=h>>8&16711935|(16711935&h)<<8,h=h>>16&65535|(65535&h)<<16,s[a-d]=h}if(this.size!==32*l){const d=32*l-this.size;let h=s[0]>>>d;for(let p=1;p<l;p++){const y=s[p];h|=y<<32-d,s[p-1]=h,h=y>>>d}s[l-1]=h}this.bits=s}static makeArray(s){return new Int32Array(Math.floor((s+31)/32))}equals(s){return s instanceof mt&&this.size===s.size&&Ut.equals(this.bits,s.bits)}hashCode(){return 31*this.size+Ut.hashCode(this.bits)}toString(){let s="";for(let a=0,l=this.size;a<l;a++)7&a||(s+=" "),s+=this.get(a)?"X":".";return s}clone(){return new mt(this.size,this.bits.slice())}}var Uc=function(v){return v[v.OTHER=0]="OTHER",v[v.PURE_BARCODE=1]="PURE_BARCODE",v[v.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",v[v.TRY_HARDER=3]="TRY_HARDER",v[v.CHARACTER_SET=4]="CHARACTER_SET",v[v.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",v[v.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",v[v.ASSUME_GS1=7]="ASSUME_GS1",v[v.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",v[v.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",v[v.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS",v}(Uc||{}),_t=Uc;let oe=(()=>{class v extends hn{static getFormatInstance(){return new v}}return v.kind="FormatException",v})();var tt=function(v){return v[v.Cp437=0]="Cp437",v[v.ISO8859_1=1]="ISO8859_1",v[v.ISO8859_2=2]="ISO8859_2",v[v.ISO8859_3=3]="ISO8859_3",v[v.ISO8859_4=4]="ISO8859_4",v[v.ISO8859_5=5]="ISO8859_5",v[v.ISO8859_6=6]="ISO8859_6",v[v.ISO8859_7=7]="ISO8859_7",v[v.ISO8859_8=8]="ISO8859_8",v[v.ISO8859_9=9]="ISO8859_9",v[v.ISO8859_10=10]="ISO8859_10",v[v.ISO8859_11=11]="ISO8859_11",v[v.ISO8859_13=12]="ISO8859_13",v[v.ISO8859_14=13]="ISO8859_14",v[v.ISO8859_15=14]="ISO8859_15",v[v.ISO8859_16=15]="ISO8859_16",v[v.SJIS=16]="SJIS",v[v.Cp1250=17]="Cp1250",v[v.Cp1251=18]="Cp1251",v[v.Cp1252=19]="Cp1252",v[v.Cp1256=20]="Cp1256",v[v.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",v[v.UTF8=22]="UTF8",v[v.ASCII=23]="ASCII",v[v.Big5=24]="Big5",v[v.GB18030=25]="GB18030",v[v.EUC_KR=26]="EUC_KR",v}(tt||{});class ee{constructor(s,a,l,...u){this.valueIdentifier=s,this.name=l,this.values="number"==typeof a?Int32Array.from([a]):a,this.otherEncodingNames=u,ee.VALUE_IDENTIFIER_TO_ECI.set(s,this),ee.NAME_TO_ECI.set(l,this);const d=this.values;for(let h=0,p=d.length;h!==p;h++)ee.VALUES_TO_ECI.set(d[h],this);for(const h of u)ee.NAME_TO_ECI.set(h,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(s){if(s<0||s>=900)throw new oe("incorect value");const a=ee.VALUES_TO_ECI.get(s);if(void 0===a)throw new oe("incorect value");return a}static getCharacterSetECIByName(s){const a=ee.NAME_TO_ECI.get(s);if(void 0===a)throw new oe("incorect value");return a}equals(s){if(!(s instanceof ee))return!1;const a=s;return this.getName()===a.getName()}}ee.VALUE_IDENTIFIER_TO_ECI=new Map,ee.VALUES_TO_ECI=new Map,ee.NAME_TO_ECI=new Map,ee.Cp437=new ee(tt.Cp437,Int32Array.from([0,2]),"Cp437"),ee.ISO8859_1=new ee(tt.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),ee.ISO8859_2=new ee(tt.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),ee.ISO8859_3=new ee(tt.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),ee.ISO8859_4=new ee(tt.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),ee.ISO8859_5=new ee(tt.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),ee.ISO8859_6=new ee(tt.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),ee.ISO8859_7=new ee(tt.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),ee.ISO8859_8=new ee(tt.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),ee.ISO8859_9=new ee(tt.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),ee.ISO8859_10=new ee(tt.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),ee.ISO8859_11=new ee(tt.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),ee.ISO8859_13=new ee(tt.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),ee.ISO8859_14=new ee(tt.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),ee.ISO8859_15=new ee(tt.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),ee.ISO8859_16=new ee(tt.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),ee.SJIS=new ee(tt.SJIS,20,"SJIS","Shift_JIS"),ee.Cp1250=new ee(tt.Cp1250,21,"Cp1250","windows-1250"),ee.Cp1251=new ee(tt.Cp1251,22,"Cp1251","windows-1251"),ee.Cp1252=new ee(tt.Cp1252,23,"Cp1252","windows-1252"),ee.Cp1256=new ee(tt.Cp1256,24,"Cp1256","windows-1256"),ee.UnicodeBigUnmarked=new ee(tt.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),ee.UTF8=new ee(tt.UTF8,26,"UTF8","UTF-8"),ee.ASCII=new ee(tt.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),ee.Big5=new ee(tt.Big5,28,"Big5"),ee.GB18030=new ee(tt.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),ee.EUC_KR=new ee(tt.EUC_KR,30,"EUC_KR","EUC-KR");let jr=(()=>{class v extends hn{}return v.kind="UnsupportedOperationException",v})();class an{static decode(s,a){const l=this.encodingName(a);return this.customDecoder?this.customDecoder(s,l):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(l)?this.decodeFallback(s,l):new TextDecoder(l).decode(s)}static shouldDecodeOnFallback(s){return!an.isBrowser()&&"ISO-8859-1"===s}static encode(s,a){const l=this.encodingName(a);return this.customEncoder?this.customEncoder(s,l):typeof TextEncoder>"u"?this.encodeFallback(s):(new TextEncoder).encode(s)}static isBrowser(){return typeof window<"u"&&"[object Window]"==={}.toString.call(window)}static encodingName(s){return"string"==typeof s?s:s.getName()}static encodingCharacterSet(s){return s instanceof ee?s:ee.getCharacterSetECIByName(s)}static decodeFallback(s,a){const l=this.encodingCharacterSet(a);if(an.isDecodeFallbackSupported(l)){let u="";for(let d=0,h=s.length;d<h;d++){let p=s[d].toString(16);p.length<2&&(p="0"+p),u+="%"+p}return decodeURIComponent(u)}if(l.equals(ee.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(s.buffer));throw new jr(`Encoding ${this.encodingName(a)} not supported by fallback.`)}static isDecodeFallbackSupported(s){return s.equals(ee.UTF8)||s.equals(ee.ISO8859_1)||s.equals(ee.ASCII)}static encodeFallback(s){const l=btoa(unescape(encodeURIComponent(s))).split(""),u=[];for(let d=0;d<l.length;d++)u.push(l[d].charCodeAt(0));return new Uint8Array(u)}}class be{static castAsNonUtf8Char(s,a=null){const l=a?a.getName():this.ISO88591;return an.decode(new Uint8Array([s]),l)}static guessEncoding(s,a){if(null!=a&&void 0!==a.get(_t.CHARACTER_SET))return a.get(_t.CHARACTER_SET).toString();const l=s.length;let u=!0,d=!0,h=!0,p=0,y=0,C=0,_=0,x=0,A=0,S=0,N=0,O=0,L=0,U=0;const Q=s.length>3&&239===s[0]&&187===s[1]&&191===s[2];for(let J=0;J<l&&(u||d||h);J++){const W=255&s[J];h&&(p>0?128&W?p--:h=!1:128&W&&(64&W?(p++,32&W?(p++,16&W?(p++,8&W?h=!1:_++):C++):y++):h=!1)),u&&(W>127&&W<160?u=!1:W>159&&(W<192||215===W||247===W)&&U++),d&&(x>0?W<64||127===W||W>252?d=!1:x--:128===W||160===W||W>239?d=!1:W>160&&W<224?(A++,N=0,S++,S>O&&(O=S)):W>127?(x++,S=0,N++,N>L&&(L=N)):(S=0,N=0))}return h&&p>0&&(h=!1),d&&x>0&&(d=!1),h&&(Q||y+C+_>0)?be.UTF8:d&&(be.ASSUME_SHIFT_JIS||O>=3||L>=3)?be.SHIFT_JIS:u&&d?2===O&&2===A||10*U>=l?be.SHIFT_JIS:be.ISO88591:u?be.ISO88591:d?be.SHIFT_JIS:h?be.UTF8:be.PLATFORM_DEFAULT_ENCODING}static format(s,...a){let l=-1;return s.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function u(h,p,y,C,_,x){if("%%"===h)return"%";if(void 0===a[++l])return;h=C?parseInt(C.substr(1)):void 0;let S,A=_?parseInt(_.substr(1)):void 0;switch(x){case"s":S=a[l];break;case"c":S=a[l][0];break;case"f":S=parseFloat(a[l]).toFixed(h);break;case"p":S=parseFloat(a[l]).toPrecision(h);break;case"e":S=parseFloat(a[l]).toExponential(h);break;case"x":S=parseInt(a[l]).toString(A||16);break;case"d":S=parseFloat(parseInt(a[l],A||10).toPrecision(h)).toFixed(0)}S="object"==typeof S?JSON.stringify(S):(+S).toString(A);let N=parseInt(y),O=y&&y[0]+""=="0"?"0":" ";for(;S.length<N;)S=void 0!==p?S+O:O+S;return S})}static getBytes(s,a){return an.encode(s,a)}static getCharCode(s,a=0){return s.charCodeAt(a)}static getCharAt(s){return String.fromCharCode(s)}}be.SHIFT_JIS=ee.SJIS.getName(),be.GB2312="GB2312",be.ISO88591=ee.ISO8859_1.getName(),be.EUC_JP="EUC_JP",be.UTF8=ee.UTF8.getName(),be.PLATFORM_DEFAULT_ENCODING=be.UTF8,be.ASSUME_SHIFT_JIS=!1;class nt{constructor(s=""){this.value=s}enableDecoding(s){return this.encoding=s,this}append(s){return this.value+="string"==typeof s?s.toString():this.encoding?be.castAsNonUtf8Char(s,this.encoding):String.fromCharCode(s),this}appendChars(s,a,l){for(let u=a;a<a+l;u++)this.append(s[u]);return this}length(){return this.value.length}charAt(s){return this.value.charAt(s)}deleteCharAt(s){this.value=this.value.substr(0,s)+this.value.substring(s+1)}setCharAt(s,a){this.value=this.value.substr(0,s)+a+this.value.substr(s+1)}substring(s,a){return this.value.substring(s,a)}setLengthToZero(){this.value=""}toString(){return this.value}insert(s,a){this.value=this.value.substr(0,s)+a+this.value.substr(s+a.length)}}class Jt{constructor(s,a,l,u){if(this.width=s,this.height=a,this.rowSize=l,this.bits=u,null==a&&(a=s),this.height=a,s<1||a<1)throw new ue("Both dimensions must be greater than 0");null==l&&(l=Math.floor((s+31)/32)),this.rowSize=l,null==u&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(s){const a=s.length,l=s[0].length,u=new Jt(l,a);for(let d=0;d<a;d++){const h=s[d];for(let p=0;p<l;p++)h[p]&&u.set(p,d)}return u}static parseFromString(s,a,l){if(null===s)throw new ue("stringRepresentation cannot be null");const u=new Array(s.length);let d=0,h=0,p=-1,y=0,C=0;for(;C<s.length;)if("\n"===s.charAt(C)||"\r"===s.charAt(C)){if(d>h){if(-1===p)p=d-h;else if(d-h!==p)throw new ue("row lengths do not match");h=d,y++}C++}else if(s.substring(C,C+a.length)===a)C+=a.length,u[d]=!0,d++;else{if(s.substring(C,C+l.length)!==l)throw new ue("illegal character encountered: "+s.substring(C));C+=l.length,u[d]=!1,d++}if(d>h){if(-1===p)p=d-h;else if(d-h!==p)throw new ue("row lengths do not match");y++}const _=new Jt(p,y);for(let x=0;x<d;x++)u[x]&&_.set(Math.floor(x%p),Math.floor(x/p));return _}get(s,a){const l=a*this.rowSize+Math.floor(s/32);return 0!=(this.bits[l]>>>(31&s)&1)}set(s,a){const l=a*this.rowSize+Math.floor(s/32);this.bits[l]|=1<<(31&s)&4294967295}unset(s,a){const l=a*this.rowSize+Math.floor(s/32);this.bits[l]&=~(1<<(31&s)&4294967295)}flip(s,a){const l=a*this.rowSize+Math.floor(s/32);this.bits[l]^=1<<(31&s)&4294967295}xor(s){if(this.width!==s.getWidth()||this.height!==s.getHeight()||this.rowSize!==s.getRowSize())throw new ue("input matrix dimensions do not match");const a=new mt(Math.floor(this.width/32)+1),l=this.rowSize,u=this.bits;for(let d=0,h=this.height;d<h;d++){const p=d*l,y=s.getRow(d,a).getBitArray();for(let C=0;C<l;C++)u[p+C]^=y[C]}}clear(){const s=this.bits,a=s.length;for(let l=0;l<a;l++)s[l]=0}setRegion(s,a,l,u){if(a<0||s<0)throw new ue("Left and top must be nonnegative");if(u<1||l<1)throw new ue("Height and width must be at least 1");const d=s+l,h=a+u;if(h>this.height||d>this.width)throw new ue("The region must fit inside the matrix");const p=this.rowSize,y=this.bits;for(let C=a;C<h;C++){const _=C*p;for(let x=s;x<d;x++)y[_+Math.floor(x/32)]|=1<<(31&x)&4294967295}}getRow(s,a){null==a||a.getSize()<this.width?a=new mt(this.width):a.clear();const l=this.rowSize,u=this.bits,d=s*l;for(let h=0;h<l;h++)a.setBulk(32*h,u[d+h]);return a}setRow(s,a){gt.arraycopy(a.getBitArray(),0,this.bits,s*this.rowSize,this.rowSize)}rotate180(){const s=this.getWidth(),a=this.getHeight();let l=new mt(s),u=new mt(s);for(let d=0,h=Math.floor((a+1)/2);d<h;d++)l=this.getRow(d,l),u=this.getRow(a-1-d,u),l.reverse(),u.reverse(),this.setRow(d,u),this.setRow(a-1-d,l)}getEnclosingRectangle(){const a=this.height,l=this.rowSize,u=this.bits;let d=this.width,h=a,p=-1,y=-1;for(let C=0;C<a;C++)for(let _=0;_<l;_++){const x=u[C*l+_];if(0!==x){if(C<h&&(h=C),C>y&&(y=C),32*_<d){let A=0;for(;!(x<<31-A&4294967295);)A++;32*_+A<d&&(d=32*_+A)}if(32*_+31>p){let A=31;for(;!(x>>>A);)A--;32*_+A>p&&(p=32*_+A)}}}return p<d||y<h?null:Int32Array.from([d,h,p-d+1,y-h+1])}getTopLeftOnBit(){const s=this.rowSize,a=this.bits;let l=0;for(;l<a.length&&0===a[l];)l++;if(l===a.length)return null;const u=l/s;let d=l%s*32;const h=a[l];let p=0;for(;!(h<<31-p&4294967295);)p++;return d+=p,Int32Array.from([d,u])}getBottomRightOnBit(){const s=this.rowSize,a=this.bits;let l=a.length-1;for(;l>=0&&0===a[l];)l--;if(l<0)return null;const u=Math.floor(l/s);let d=32*Math.floor(l%s);const h=a[l];let p=31;for(;!(h>>>p);)p--;return d+=p,Int32Array.from([d,u])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(s){return s instanceof Jt&&this.width===s.width&&this.height===s.height&&this.rowSize===s.rowSize&&Ut.equals(this.bits,s.bits)}hashCode(){let s=this.width;return s=31*s+this.width,s=31*s+this.height,s=31*s+this.rowSize,s=31*s+Ut.hashCode(this.bits),s}toString(s="X ",a="  ",l="\n"){return this.buildToString(s,a,l)}buildToString(s,a,l){let u=new nt;for(let d=0,h=this.height;d<h;d++){for(let p=0,y=this.width;p<y;p++)u.append(this.get(p,d)?s:a);u.append(l)}return u.toString()}clone(){return new Jt(this.width,this.height,this.rowSize,this.bits.slice())}}let G=(()=>{class v extends hn{static getNotFoundInstance(){return new v}}return v.kind="NotFoundException",v})();class xt extends ws{constructor(s){super(s),this.luminances=xt.EMPTY,this.buckets=new Int32Array(xt.LUMINANCE_BUCKETS)}getBlackRow(s,a){const l=this.getLuminanceSource(),u=l.getWidth();null==a||a.getSize()<u?a=new mt(u):a.clear(),this.initArrays(u);const d=l.getRow(s,this.luminances),h=this.buckets;for(let y=0;y<u;y++)h[(255&d[y])>>xt.LUMINANCE_SHIFT]++;const p=xt.estimateBlackPoint(h);if(u<3)for(let y=0;y<u;y++)(255&d[y])<p&&a.set(y);else{let y=255&d[0],C=255&d[1];for(let _=1;_<u-1;_++){const x=255&d[_+1];(4*C-y-x)/2<p&&a.set(_),y=C,C=x}}return a}getBlackMatrix(){const s=this.getLuminanceSource(),a=s.getWidth(),l=s.getHeight(),u=new Jt(a,l);this.initArrays(a);const d=this.buckets;for(let y=1;y<5;y++){const C=Math.floor(l*y/5),_=s.getRow(C,this.luminances),x=Math.floor(4*a/5);for(let A=Math.floor(a/5);A<x;A++)d[(255&_[A])>>xt.LUMINANCE_SHIFT]++}const h=xt.estimateBlackPoint(d),p=s.getMatrix();for(let y=0;y<l;y++){const C=y*a;for(let _=0;_<a;_++)(255&p[C+_])<h&&u.set(_,y)}return u}createBinarizer(s){return new xt(s)}initArrays(s){this.luminances.length<s&&(this.luminances=new Uint8ClampedArray(s));const a=this.buckets;for(let l=0;l<xt.LUMINANCE_BUCKETS;l++)a[l]=0}static estimateBlackPoint(s){const a=s.length;let l=0,u=0,d=0;for(let _=0;_<a;_++)s[_]>d&&(u=_,d=s[_]),s[_]>l&&(l=s[_]);let h=0,p=0;for(let _=0;_<a;_++){const x=_-u,A=s[_]*x*x;A>p&&(h=_,p=A)}if(u>h){const _=u;u=h,h=_}if(h-u<=a/16)throw new G;let y=h-1,C=-1;for(let _=h-1;_>u;_--){const x=_-u,A=x*x*(h-_)*(l-s[_]);A>C&&(y=_,C=A)}return y<<xt.LUMINANCE_SHIFT}}xt.LUMINANCE_BITS=5,xt.LUMINANCE_SHIFT=8-xt.LUMINANCE_BITS,xt.LUMINANCE_BUCKETS=1<<xt.LUMINANCE_BITS,xt.EMPTY=Uint8ClampedArray.from([0]);class Le extends xt{constructor(s){super(s),this.matrix=null}getBlackMatrix(){if(null!==this.matrix)return this.matrix;const s=this.getLuminanceSource(),a=s.getWidth(),l=s.getHeight();if(a>=Le.MINIMUM_DIMENSION&&l>=Le.MINIMUM_DIMENSION){const u=s.getMatrix();let d=a>>Le.BLOCK_SIZE_POWER;a&Le.BLOCK_SIZE_MASK&&d++;let h=l>>Le.BLOCK_SIZE_POWER;l&Le.BLOCK_SIZE_MASK&&h++;const p=Le.calculateBlackPoints(u,d,h,a,l),y=new Jt(a,l);Le.calculateThresholdForBlock(u,d,h,a,l,p,y),this.matrix=y}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(s){return new Le(s)}static calculateThresholdForBlock(s,a,l,u,d,h,p){const y=d-Le.BLOCK_SIZE,C=u-Le.BLOCK_SIZE;for(let _=0;_<l;_++){let x=_<<Le.BLOCK_SIZE_POWER;x>y&&(x=y);const A=Le.cap(_,2,l-3);for(let S=0;S<a;S++){let N=S<<Le.BLOCK_SIZE_POWER;N>C&&(N=C);const O=Le.cap(S,2,a-3);let L=0;for(let Q=-2;Q<=2;Q++){const J=h[A+Q];L+=J[O-2]+J[O-1]+J[O]+J[O+1]+J[O+2]}Le.thresholdBlock(s,N,x,L/25,u,p)}}}static cap(s,a,l){return s<a?a:s>l?l:s}static thresholdBlock(s,a,l,u,d,h){for(let p=0,y=l*d+a;p<Le.BLOCK_SIZE;p++,y+=d)for(let C=0;C<Le.BLOCK_SIZE;C++)(255&s[y+C])<=u&&h.set(a+C,l+p)}static calculateBlackPoints(s,a,l,u,d){const h=d-Le.BLOCK_SIZE,p=u-Le.BLOCK_SIZE,y=new Array(l);for(let C=0;C<l;C++){y[C]=new Int32Array(a);let _=C<<Le.BLOCK_SIZE_POWER;_>h&&(_=h);for(let x=0;x<a;x++){let A=x<<Le.BLOCK_SIZE_POWER;A>p&&(A=p);let S=0,N=255,O=0;for(let U=0,Q=_*u+A;U<Le.BLOCK_SIZE;U++,Q+=u){for(let J=0;J<Le.BLOCK_SIZE;J++){const W=255&s[Q+J];S+=W,W<N&&(N=W),W>O&&(O=W)}if(O-N>Le.MIN_DYNAMIC_RANGE)for(U++,Q+=u;U<Le.BLOCK_SIZE;U++,Q+=u)for(let J=0;J<Le.BLOCK_SIZE;J++)S+=255&s[Q+J]}let L=S>>2*Le.BLOCK_SIZE_POWER;if(O-N<=Le.MIN_DYNAMIC_RANGE&&(L=N/2,C>0&&x>0)){const U=(y[C-1][x]+2*y[C][x-1]+y[C-1][x-1])/4;N<U&&(L=U)}y[C][x]=L}}return y}}Le.BLOCK_SIZE_POWER=3,Le.BLOCK_SIZE=1<<Le.BLOCK_SIZE_POWER,Le.BLOCK_SIZE_MASK=Le.BLOCK_SIZE-1,Le.MINIMUM_DIMENSION=5*Le.BLOCK_SIZE,Le.MIN_DYNAMIC_RANGE=24;class to{constructor(s,a){this.width=s,this.height=a}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(s,a,l,u){throw new jr("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new jr("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new jr("This luminance source does not support rotation by 45 degrees.")}toString(){const s=new Uint8ClampedArray(this.width);let a=new nt;for(let l=0;l<this.height;l++){const u=this.getRow(l,s);for(let d=0;d<this.width;d++){const h=255&u[d];let p;p=h<64?"#":h<128?"+":h<192?".":" ",a.append(p)}a.append("\n")}return a.toString()}}class dt extends to{constructor(s){super(s.getWidth(),s.getHeight()),this.delegate=s}getRow(s,a){const l=this.delegate.getRow(s,a),u=this.getWidth();for(let d=0;d<u;d++)l[d]=255-(255&l[d]);return l}getMatrix(){const s=this.delegate.getMatrix(),a=this.getWidth()*this.getHeight(),l=new Uint8ClampedArray(a);for(let u=0;u<a;u++)l[u]=255-(255&s[u]);return l}isCropSupported(){return this.delegate.isCropSupported()}crop(s,a,l,u){return new dt(this.delegate.crop(s,a,l,u))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new dt(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new dt(this.delegate.rotateCounterClockwise45())}}class Hr extends to{constructor(s){super(s.width,s.height),this.canvas=s,this.tempCanvasElement=null,this.buffer=Hr.makeBufferFromCanvasImageData(s)}static makeBufferFromCanvasImageData(s){const a=s.getContext("2d").getImageData(0,0,s.width,s.height);return Hr.toGrayscaleBuffer(a.data,s.width,s.height)}static toGrayscaleBuffer(s,a,l){const u=new Uint8ClampedArray(a*l);for(let d=0,h=0,p=s.length;d<p;d+=4,h++){let y;y=0===s[d+3]?255:306*s[d]+601*s[d+1]+117*s[d+2]+512>>10,u[h]=y}return u}getRow(s,a){if(s<0||s>=this.getHeight())throw new ue("Requested row is outside the image: "+s);const l=this.getWidth(),u=s*l;return null===a?a=this.buffer.slice(u,u+l):(a.length<l&&(a=new Uint8ClampedArray(l)),a.set(this.buffer.slice(u,u+l))),a}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(s,a,l,u){return super.crop(s,a,l,u),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(null===this.tempCanvasElement){const s=this.canvas.ownerDocument.createElement("canvas");s.width=this.canvas.width,s.height=this.canvas.height,this.tempCanvasElement=s}return this.tempCanvasElement}rotate(s){const a=this.getTempCanvasElement(),l=a.getContext("2d"),u=s*Hr.DEGREE_TO_RADIANS,d=this.canvas.width,h=this.canvas.height,p=Math.ceil(Math.abs(Math.cos(u))*d+Math.abs(Math.sin(u))*h),y=Math.ceil(Math.abs(Math.sin(u))*d+Math.abs(Math.cos(u))*h);return a.width=p,a.height=y,l.translate(p/2,y/2),l.rotate(u),l.drawImage(this.canvas,d/-2,h/-2),this.buffer=Hr.makeBufferFromCanvasImageData(a),this}invert(){return new dt(this)}}Hr.DEGREE_TO_RADIANS=Math.PI/180;class jc{constructor(s,a,l){this.deviceId=s,this.label=a,this.kind="videoinput",this.groupId=l||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var vn=(globalThis||global||self||window?(globalThis||global||self||window||void 0).__awaiter:void 0)||function(v,s,a,l){return new(a||(a=Promise))(function(d,h){function p(_){try{C(l.next(_))}catch(x){h(x)}}function y(_){try{C(l.throw(_))}catch(x){h(x)}}function C(_){_.done?d(_.value):function u(d){return d instanceof a?d:new a(function(h){h(d)})}(_.value).then(p,y)}C((l=l.apply(v,s||[])).next())})};class Ii{constructor(s,a=500,l){this.reader=s,this.timeBetweenScansMillis=a,this._hints=l,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!(!this.isMediaDevicesSuported||!navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(s){this._timeBetweenDecodingAttempts=s<0?0:s}set hints(s){this._hints=s||null}get hints(){return this._hints}listVideoInputDevices(){return vn(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const s=yield navigator.mediaDevices.enumerateDevices(),a=[];for(const l of s){const u="video"===l.kind?"videoinput":l.kind;"videoinput"===u&&a.push({deviceId:l.deviceId||l.id,label:l.label||`Video device ${a.length+1}`,kind:u,groupId:l.groupId})}return a})}getVideoInputDevices(){return vn(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(a=>new jc(a.deviceId,a.label))})}findDeviceById(s){return vn(this,void 0,void 0,function*(){const a=yield this.listVideoInputDevices();return a?a.find(l=>l.deviceId===s):null})}decodeFromInputVideoDevice(s,a){return vn(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(s,a)})}decodeOnceFromVideoDevice(s,a){return vn(this,void 0,void 0,function*(){let l;this.reset(),l=s?{deviceId:{exact:s}}:{facingMode:"environment"};const u={video:l};return yield this.decodeOnceFromConstraints(u,a)})}decodeOnceFromConstraints(s,a){return vn(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeOnceFromStream(l,a)})}decodeOnceFromStream(s,a){return vn(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(s,a);return yield this.decodeOnce(l)})}decodeFromInputVideoDeviceContinuously(s,a,l){return vn(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(s,a,l)})}decodeFromVideoDevice(s,a,l){return vn(this,void 0,void 0,function*(){let u;u=s?{deviceId:{exact:s}}:{facingMode:"environment"};const d={video:u};return yield this.decodeFromConstraints(d,a,l)})}decodeFromConstraints(s,a,l){return vn(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(s);return yield this.decodeFromStream(u,a,l)})}decodeFromStream(s,a,l){return vn(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(s,a);return yield this.decodeContinuously(u,l)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(s,a){return vn(this,void 0,void 0,function*(){const l=this.prepareVideoElement(a);return this.addVideoSource(l,s),this.videoElement=l,this.stream=s,yield this.playVideoOnLoadAsync(l),l})}playVideoOnLoadAsync(s){return new Promise((a,l)=>this.playVideoOnLoad(s,()=>a()))}playVideoOnLoad(s,a){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(s),s.addEventListener("ended",this.videoEndedListener),s.addEventListener("canplay",this.videoCanPlayListener),s.addEventListener("playing",a),this.tryPlayVideo(s)}isVideoPlaying(s){return s.currentTime>0&&!s.paused&&!s.ended&&s.readyState>2}tryPlayVideo(s){return vn(this,void 0,void 0,function*(){if(this.isVideoPlaying(s))console.warn("Trying to play video that is already playing.");else try{yield s.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(s,a){const l=document.getElementById(s);if(!l)throw new Bn(`element with id '${s}' not found`);if(l.nodeName.toLowerCase()!==a.toLowerCase())throw new Bn(`element with id '${s}' must be an ${a} element`);return l}decodeFromImage(s,a){if(!s&&!a)throw new Bn("either imageElement with a src set or an url must be provided");return a&&!s?this.decodeFromImageUrl(a):this.decodeFromImageElement(s)}decodeFromVideo(s,a){if(!s&&!a)throw new Bn("Either an element with a src set or an URL must be provided");return a&&!s?this.decodeFromVideoUrl(a):this.decodeFromVideoElement(s)}decodeFromVideoContinuously(s,a,l){if(void 0===s&&void 0===a)throw new Bn("Either an element with a src set or an URL must be provided");return a&&!s?this.decodeFromVideoUrlContinuously(a,l):this.decodeFromVideoElementContinuously(s,l)}decodeFromImageElement(s){if(!s)throw new Bn("An image element must be provided.");this.reset();const a=this.prepareImageElement(s);let l;return this.imageElement=a,l=this.isImageLoaded(a)?this.decodeOnce(a,!1,!0):this._decodeOnLoadImage(a),l}decodeFromVideoElement(s){const a=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideo(a)}decodeFromVideoElementContinuously(s,a){const l=this._decodeFromVideoElementSetup(s);return this._decodeOnLoadVideoContinuously(l,a)}_decodeFromVideoElementSetup(s){if(!s)throw new Bn("A video element must be provided.");this.reset();const a=this.prepareVideoElement(s);return this.videoElement=a,a}decodeFromImageUrl(s){if(!s)throw new Bn("An URL must be provided.");this.reset();const a=this.prepareImageElement();this.imageElement=a;const l=this._decodeOnLoadImage(a);return a.src=s,l}decodeFromVideoUrl(s){if(!s)throw new Bn("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),l=this.decodeFromVideoElement(a);return a.src=s,l}decodeFromVideoUrlContinuously(s,a){if(!s)throw new Bn("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),u=this.decodeFromVideoElementContinuously(l,a);return l.src=s,u}_decodeOnLoadImage(s){return new Promise((a,l)=>{this.imageLoadedListener=()=>this.decodeOnce(s,!1,!0).then(a,l),s.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(s){return vn(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(s),yield this.decodeOnce(s)})}_decodeOnLoadVideoContinuously(s,a){return vn(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(s),this.decodeContinuously(s,a)})}isImageLoaded(s){return!(!s.complete||0===s.naturalWidth)}prepareImageElement(s){let a;return typeof s>"u"&&(a=document.createElement("img"),a.width=200,a.height=200),"string"==typeof s&&(a=this.getMediaElement(s,"img")),s instanceof HTMLImageElement&&(a=s),a}prepareVideoElement(s){let a;return!s&&typeof document<"u"&&(a=document.createElement("video"),a.width=200,a.height=200),"string"==typeof s&&(a=this.getMediaElement(s,"video")),s instanceof HTMLVideoElement&&(a=s),a.setAttribute("autoplay","true"),a.setAttribute("muted","true"),a.setAttribute("playsinline","true"),a}decodeOnce(s,a=!0,l=!0){this._stopAsyncDecode=!1;const u=(d,h)=>{if(this._stopAsyncDecode)return h(new G("Video stream has ended before any code could be detected.")),void(this._stopAsyncDecode=void 0);try{d(this.decode(s))}catch(p){if(a&&p instanceof G||(p instanceof qt||p instanceof oe)&&l)return setTimeout(u,this._timeBetweenDecodingAttempts,d,h);h(p)}};return new Promise((d,h)=>u(d,h))}decodeContinuously(s,a){this._stopContinuousDecode=!1;const l=()=>{if(this._stopContinuousDecode)this._stopContinuousDecode=void 0;else try{const u=this.decode(s);a(u,null),setTimeout(l,this.timeBetweenScansMillis)}catch(u){a(null,u),(u instanceof qt||u instanceof oe||u instanceof G)&&setTimeout(l,this._timeBetweenDecodingAttempts)}};l()}decode(s){const a=this.createBinaryBitmap(s);return this.decodeBitmap(a)}_isHTMLVideoElement(s){return 0!==s.videoWidth}drawFrameOnCanvas(s,a,l){a||(a={sx:0,sy:0,sWidth:s.videoWidth,sHeight:s.videoHeight,dx:0,dy:0,dWidth:s.videoWidth,dHeight:s.videoHeight}),l||(l=this.captureCanvasContext),l.drawImage(s,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}drawImageOnCanvas(s,a,l=this.captureCanvasContext){a||(a={sx:0,sy:0,sWidth:s.naturalWidth,sHeight:s.naturalHeight,dx:0,dy:0,dWidth:s.naturalWidth,dHeight:s.naturalHeight}),l||(l=this.captureCanvasContext),l.drawImage(s,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}createBinaryBitmap(s){this.getCaptureCanvasContext(s),this._isHTMLVideoElement(s)?this.drawFrameOnCanvas(s):this.drawImageOnCanvas(s);const l=this.getCaptureCanvas(s),u=new Hr(l),d=new Le(u);return new Ur(d)}getCaptureCanvasContext(s){if(!this.captureCanvasContext){const l=this.getCaptureCanvas(s).getContext("2d");this.captureCanvasContext=l}return this.captureCanvasContext}getCaptureCanvas(s){if(!this.captureCanvas){const a=this.createCaptureCanvas(s);this.captureCanvas=a}return this.captureCanvas}decodeBitmap(s){return this.reader.decode(s,this._hints)}createCaptureCanvas(s){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const a=document.createElement("canvas");let l,u;return typeof s<"u"&&(s instanceof HTMLVideoElement?(l=s.videoWidth,u=s.videoHeight):s instanceof HTMLImageElement&&(l=s.naturalWidth||s.width,u=s.naturalHeight||s.height)),a.style.width=l+"px",a.style.height=u+"px",a.width=l,a.height=u,a}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(s=>s.stop()),this.stream=void 0),!1===this._stopAsyncDecode&&this.stopAsyncDecode(),!1===this._stopContinuousDecode&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(void 0!==this.imageLoadedListener&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(s,a){try{s.srcObject=a}catch{s.src=URL.createObjectURL(a)}}cleanVideoSource(s){try{s.srcObject=null}catch{s.src=""}this.videoElement.removeAttribute("src")}}class At{constructor(s,a,l=(null==a?0:8*a.length),u,d,h=gt.currentTimeMillis()){this.text=s,this.rawBytes=a,this.numBits=l,this.resultPoints=u,this.format=d,this.timestamp=h,this.text=s,this.rawBytes=a,this.numBits=null==l?null==a?0:8*a.length:l,this.resultPoints=u,this.format=d,this.resultMetadata=null,this.timestamp=null==h?gt.currentTimeMillis():h}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(s,a){null===this.resultMetadata&&(this.resultMetadata=new Map),this.resultMetadata.set(s,a)}putAllMetadata(s){null!==s&&(this.resultMetadata=null===this.resultMetadata?s:new Map(s))}addResultPoints(s){const a=this.resultPoints;if(null===a)this.resultPoints=s;else if(null!==s&&s.length>0){const l=new Array(a.length+s.length);gt.arraycopy(a,0,l,0,a.length),gt.arraycopy(s,0,l,a.length,s.length),this.resultPoints=l}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Xa=function(v){return v[v.AZTEC=0]="AZTEC",v[v.CODABAR=1]="CODABAR",v[v.CODE_39=2]="CODE_39",v[v.CODE_93=3]="CODE_93",v[v.CODE_128=4]="CODE_128",v[v.DATA_MATRIX=5]="DATA_MATRIX",v[v.EAN_8=6]="EAN_8",v[v.EAN_13=7]="EAN_13",v[v.ITF=8]="ITF",v[v.MAXICODE=9]="MAXICODE",v[v.PDF_417=10]="PDF_417",v[v.QR_CODE=11]="QR_CODE",v[v.RSS_14=12]="RSS_14",v[v.RSS_EXPANDED=13]="RSS_EXPANDED",v[v.UPC_A=14]="UPC_A",v[v.UPC_E=15]="UPC_E",v[v.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION",v}(Xa||{}),_e=Xa,jt=function(v){return v[v.OTHER=0]="OTHER",v[v.ORIENTATION=1]="ORIENTATION",v[v.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",v[v.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",v[v.ISSUE_NUMBER=4]="ISSUE_NUMBER",v[v.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",v[v.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",v[v.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",v[v.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",v[v.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",v[v.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY",v}(jt||{}),He=jt;class Lo{constructor(s,a,l,u,d=-1,h=-1){this.rawBytes=s,this.text=a,this.byteSegments=l,this.ecLevel=u,this.structuredAppendSequenceNumber=d,this.structuredAppendParity=h,this.numBits=null==s?0:8*s.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(s){this.numBits=s}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(s){this.errorsCorrected=s}getErasures(){return this.erasures}setErasures(s){this.erasures=s}getOther(){return this.other}setOther(s){this.other=s}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class ze{exp(s){return this.expTable[s]}log(s){if(0===s)throw new ue;return this.logTable[s]}static addOrSubtract(s,a){return s^a}}class pn{constructor(s,a){if(0===a.length)throw new ue;this.field=s;const l=a.length;if(l>1&&0===a[0]){let u=1;for(;u<l&&0===a[u];)u++;u===l?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(l-u),gt.arraycopy(a,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(0===s)return this.getCoefficient(0);const a=this.coefficients;let l;if(1===s){l=0;for(let h=0,p=a.length;h!==p;h++)l=ze.addOrSubtract(l,a[h]);return l}l=a[0];const u=a.length,d=this.field;for(let h=1;h<u;h++)l=ze.addOrSubtract(d.multiply(s,l),a[h]);return l}addOrSubtract(s){if(!this.field.equals(s.field))throw new ue("GenericGFPolys do not have same GenericGF field");if(this.isZero())return s;if(s.isZero())return this;let a=this.coefficients,l=s.coefficients;if(a.length>l.length){const h=a;a=l,l=h}let u=new Int32Array(l.length);const d=l.length-a.length;gt.arraycopy(l,0,u,0,d);for(let h=d;h<l.length;h++)u[h]=ze.addOrSubtract(a[h-d],l[h]);return new pn(this.field,u)}multiply(s){if(!this.field.equals(s.field))throw new ue("GenericGFPolys do not have same GenericGF field");if(this.isZero()||s.isZero())return this.field.getZero();const a=this.coefficients,l=a.length,u=s.coefficients,d=u.length,h=new Int32Array(l+d-1),p=this.field;for(let y=0;y<l;y++){const C=a[y];for(let _=0;_<d;_++)h[y+_]=ze.addOrSubtract(h[y+_],p.multiply(C,u[_]))}return new pn(p,h)}multiplyScalar(s){if(0===s)return this.field.getZero();if(1===s)return this;const a=this.coefficients.length,l=this.field,u=new Int32Array(a),d=this.coefficients;for(let h=0;h<a;h++)u[h]=l.multiply(d[h],s);return new pn(l,u)}multiplyByMonomial(s,a){if(s<0)throw new ue;if(0===a)return this.field.getZero();const l=this.coefficients,u=l.length,d=new Int32Array(u+s),h=this.field;for(let p=0;p<u;p++)d[p]=h.multiply(l[p],a);return new pn(h,d)}divide(s){if(!this.field.equals(s.field))throw new ue("GenericGFPolys do not have same GenericGF field");if(s.isZero())throw new ue("Divide by 0");const a=this.field;let l=a.getZero(),u=this;const d=s.getCoefficient(s.getDegree()),h=a.inverse(d);for(;u.getDegree()>=s.getDegree()&&!u.isZero();){const p=u.getDegree()-s.getDegree(),y=a.multiply(u.getCoefficient(u.getDegree()),h),C=s.multiplyByMonomial(p,y),_=a.buildMonomial(p,y);l=l.addOrSubtract(_),u=u.addOrSubtract(C)}return[l,u]}toString(){let s="";for(let a=this.getDegree();a>=0;a--){let l=this.getCoefficient(a);if(0!==l){if(l<0?(s+=" - ",l=-l):s.length>0&&(s+=" + "),0===a||1!==l){const u=this.field.log(l);0===u?s+="1":1===u?s+="a":(s+="a^",s+=u)}0!==a&&(1===a?s+="x":(s+="x^",s+=a))}}return s}}let Za=(()=>{class v extends hn{}return v.kind="ArithmeticException",v})();class qe extends ze{constructor(s,a,l){super(),this.primitive=s,this.size=a,this.generatorBase=l;const u=new Int32Array(a);let d=1;for(let p=0;p<a;p++)u[p]=d,d*=2,d>=a&&(d^=s,d&=a-1);this.expTable=u;const h=new Int32Array(a);for(let p=0;p<a-1;p++)h[u[p]]=p;this.logTable=h,this.zero=new pn(this,Int32Array.from([0])),this.one=new pn(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,a){if(s<0)throw new ue;if(0===a)return this.zero;const l=new Int32Array(s+1);return l[0]=a,new pn(this,l)}inverse(s){if(0===s)throw new Za;return this.expTable[this.size-this.logTable[s]-1]}multiply(s,a){return 0===s||0===a?0:this.expTable[(this.logTable[s]+this.logTable[a])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+Se.toHexString(this.primitive)+","+this.size+")"}equals(s){return s===this}}qe.AZTEC_DATA_12=new qe(4201,4096,1),qe.AZTEC_DATA_10=new qe(1033,1024,1),qe.AZTEC_DATA_6=new qe(67,64,1),qe.AZTEC_PARAM=new qe(19,16,1),qe.QR_CODE_FIELD_256=new qe(285,256,0),qe.DATA_MATRIX_FIELD_256=new qe(301,256,1),qe.AZTEC_DATA_8=qe.DATA_MATRIX_FIELD_256,qe.MAXICODE_FIELD_64=qe.AZTEC_DATA_6;let ko=(()=>{class v extends hn{}return v.kind="ReedSolomonException",v})(),zr=(()=>{class v extends hn{}return v.kind="IllegalStateException",v})();class Bo{constructor(s){this.field=s}decode(s,a){const l=this.field,u=new pn(l,s),d=new Int32Array(a);let h=!0;for(let S=0;S<a;S++){const N=u.evaluateAt(l.exp(S+l.getGeneratorBase()));d[d.length-1-S]=N,0!==N&&(h=!1)}if(h)return;const p=new pn(l,d),y=this.runEuclideanAlgorithm(l.buildMonomial(a,1),p,a),_=y[1],x=this.findErrorLocations(y[0]),A=this.findErrorMagnitudes(_,x);for(let S=0;S<x.length;S++){const N=s.length-1-l.log(x[S]);if(N<0)throw new ko("Bad error location");s[N]=qe.addOrSubtract(s[N],A[S])}}runEuclideanAlgorithm(s,a,l){if(s.getDegree()<a.getDegree()){const S=s;s=a,a=S}const u=this.field;let d=s,h=a,p=u.getZero(),y=u.getOne();for(;h.getDegree()>=(l/2|0);){let S=d,N=p;if(d=h,p=y,d.isZero())throw new ko("r_{i-1} was zero");h=S;let O=u.getZero();const L=d.getCoefficient(d.getDegree()),U=u.inverse(L);for(;h.getDegree()>=d.getDegree()&&!h.isZero();){const Q=h.getDegree()-d.getDegree(),J=u.multiply(h.getCoefficient(h.getDegree()),U);O=O.addOrSubtract(u.buildMonomial(Q,J)),h=h.addOrSubtract(d.multiplyByMonomial(Q,J))}if(y=O.multiply(p).addOrSubtract(N),h.getDegree()>=d.getDegree())throw new zr("Division algorithm failed to reduce polynomial?")}const C=y.getCoefficient(0);if(0===C)throw new ko("sigmaTilde(0) was zero");const _=u.inverse(C);return[y.multiplyScalar(_),h.multiplyScalar(_)]}findErrorLocations(s){const a=s.getDegree();if(1===a)return Int32Array.from([s.getCoefficient(1)]);const l=new Int32Array(a);let u=0;const d=this.field;for(let h=1;h<d.getSize()&&u<a;h++)0===s.evaluateAt(h)&&(l[u]=d.inverse(h),u++);if(u!==a)throw new ko("Error locator degree does not match number of roots");return l}findErrorMagnitudes(s,a){const l=a.length,u=new Int32Array(l),d=this.field;for(let h=0;h<l;h++){const p=d.inverse(a[h]);let y=1;for(let C=0;C<l;C++)if(h!==C){const _=d.multiply(a[C],p);y=d.multiply(y,1&_?-2&_:1|_)}u[h]=d.multiply(s.evaluateAt(p),d.inverse(y)),0!==d.getGeneratorBase()&&(u[h]=d.multiply(u[h],p))}return u}}var wn=function(v){return v[v.UPPER=0]="UPPER",v[v.LOWER=1]="LOWER",v[v.MIXED=2]="MIXED",v[v.DIGIT=3]="DIGIT",v[v.PUNCT=4]="PUNCT",v[v.BINARY=5]="BINARY",v}(wn||{});let Hc=(()=>{class v{decode(a){this.ddata=a;let l=a.getBits(),u=this.extractBits(l),d=this.correctBits(u),h=v.convertBoolArrayToByteArray(d),p=v.getEncodedData(d),y=new Lo(h,p,null,null);return y.setNumBits(d.length),y}static highLevelDecode(a){return this.getEncodedData(a)}static getEncodedData(a){let l=a.length,u=wn.UPPER,d=wn.UPPER,h="",p=0;for(;p<l;)if(d===wn.BINARY){if(l-p<5)break;let y=v.readCode(a,p,5);if(p+=5,0===y){if(l-p<11)break;y=v.readCode(a,p,11)+31,p+=11}for(let C=0;C<y;C++){if(l-p<8){p=l;break}const _=v.readCode(a,p,8);h+=be.castAsNonUtf8Char(_),p+=8}d=u}else{let y=d===wn.DIGIT?4:5;if(l-p<y)break;let C=v.readCode(a,p,y);p+=y;let _=v.getCharacter(d,C);_.startsWith("CTRL_")?(u=d,d=v.getTable(_.charAt(5)),"L"===_.charAt(6)&&(u=d)):(h+=_,d=u)}return h}static getTable(a){switch(a){case"L":return wn.LOWER;case"P":return wn.PUNCT;case"M":return wn.MIXED;case"D":return wn.DIGIT;case"B":return wn.BINARY;default:return wn.UPPER}}static getCharacter(a,l){switch(a){case wn.UPPER:return v.UPPER_TABLE[l];case wn.LOWER:return v.LOWER_TABLE[l];case wn.MIXED:return v.MIXED_TABLE[l];case wn.PUNCT:return v.PUNCT_TABLE[l];case wn.DIGIT:return v.DIGIT_TABLE[l];default:throw new zr("Bad table")}}correctBits(a){let l,u;this.ddata.getNbLayers()<=2?(u=6,l=qe.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(u=8,l=qe.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(u=10,l=qe.AZTEC_DATA_10):(u=12,l=qe.AZTEC_DATA_12);let d=this.ddata.getNbDatablocks(),h=a.length/u;if(h<d)throw new oe;let p=a.length%u,y=new Int32Array(h);for(let S=0;S<h;S++,p+=u)y[S]=v.readCode(a,p,u);try{new Bo(l).decode(y,h-d)}catch(S){throw new oe(S)}let C=(1<<u)-1,_=0;for(let S=0;S<d;S++){let N=y[S];if(0===N||N===C)throw new oe;(1===N||N===C-1)&&_++}let x=new Array(d*u-_),A=0;for(let S=0;S<d;S++){let N=y[S];if(1===N||N===C-1)x.fill(N>1,A,A+u-1),A+=u-1;else for(let O=u-1;O>=0;--O)x[A++]=0!=(N&1<<O)}return x}extractBits(a){let l=this.ddata.isCompact(),u=this.ddata.getNbLayers(),d=(l?11:14)+4*u,h=new Int32Array(d),p=new Array(this.totalBitsInLayer(u,l));if(l)for(let y=0;y<h.length;y++)h[y]=y;else{let y=d+1+2*Se.truncDivision(Se.truncDivision(d,2)-1,15),C=d/2,_=Se.truncDivision(y,2);for(let x=0;x<C;x++){let A=x+Se.truncDivision(x,15);h[C-x-1]=_-A-1,h[C+x]=_+A+1}}for(let y=0,C=0;y<u;y++){let _=4*(u-y)+(l?9:12),x=2*y,A=d-1-x;for(let S=0;S<_;S++){let N=2*S;for(let O=0;O<2;O++)p[C+N+O]=a.get(h[x+O],h[x+S]),p[C+2*_+N+O]=a.get(h[x+S],h[A-O]),p[C+4*_+N+O]=a.get(h[A-O],h[A-S]),p[C+6*_+N+O]=a.get(h[A-S],h[x+O])}C+=8*_}return p}static readCode(a,l,u){let d=0;for(let h=l;h<l+u;h++)d<<=1,a[h]&&(d|=1);return d}static readByte(a,l){let u=a.length-l;return u>=8?v.readCode(a,l,8):v.readCode(a,l,u)<<8-u}static convertBoolArrayToByteArray(a){let l=new Uint8Array((a.length+7)/8);for(let u=0;u<l.length;u++)l[u]=v.readByte(a,8*u);return l}totalBitsInLayer(a,l){return((l?88:112)+16*a)*a}}return v.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],v.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],v.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","\t","\n","\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],v.PUNCT_TABLE=["","\r","\r\n",". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],v.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],v})();class Ze{constructor(){}static round(s){return NaN===s?0:s<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:s>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:s+(s<0?-.5:.5)|0}static distance(s,a,l,u){const d=s-l,h=a-u;return Math.sqrt(d*d+h*h)}static sum(s){let a=0;for(let l=0,u=s.length;l!==u;l++)a+=s[l];return a}}class Qa{static floatToIntBits(s){return s}}Qa.MAX_VALUE=Number.MAX_SAFE_INTEGER;class he{constructor(s,a){this.x=s,this.y=a}getX(){return this.x}getY(){return this.y}equals(s){return s instanceof he&&this.x===s.x&&this.y===s.y}hashCode(){return 31*Qa.floatToIntBits(this.x)+Qa.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(s){const a=this.distance(s[0],s[1]),l=this.distance(s[1],s[2]),u=this.distance(s[0],s[2]);let d,h,p;if(l>=a&&l>=u?(h=s[0],d=s[1],p=s[2]):u>=l&&u>=a?(h=s[1],d=s[0],p=s[2]):(h=s[2],d=s[0],p=s[1]),this.crossProductZ(d,h,p)<0){const y=d;d=p,p=y}s[0]=d,s[1]=h,s[2]=p}static distance(s,a){return Ze.distance(s.x,s.y,a.x,a.y)}static crossProductZ(s,a,l){const u=a.x,d=a.y;return(l.x-u)*(s.y-d)-(l.y-d)*(s.x-u)}}class Vo{constructor(s,a){this.bits=s,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class zc extends Vo{constructor(s,a,l,u,d){super(s,a),this.compact=l,this.nbDatablocks=u,this.nbLayers=d}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}let no=(()=>{class v{constructor(a,l,u,d){this.image=a,this.height=a.getHeight(),this.width=a.getWidth(),null==l&&(l=v.INIT_SIZE),null==u&&(u=a.getWidth()/2|0),null==d&&(d=a.getHeight()/2|0);const h=l/2|0;if(this.leftInit=u-h,this.rightInit=u+h,this.upInit=d-h,this.downInit=d+h,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new G}detect(){let a=this.leftInit,l=this.rightInit,u=this.upInit,d=this.downInit,h=!1,p=!0,y=!1,C=!1,_=!1,x=!1,A=!1;const S=this.width,N=this.height;for(;p;){p=!1;let O=!0;for(;(O||!C)&&l<S;)O=this.containsBlackPoint(u,d,l,!1),O?(l++,p=!0,C=!0):C||l++;if(l>=S){h=!0;break}let L=!0;for(;(L||!_)&&d<N;)L=this.containsBlackPoint(a,l,d,!0),L?(d++,p=!0,_=!0):_||d++;if(d>=N){h=!0;break}let U=!0;for(;(U||!x)&&a>=0;)U=this.containsBlackPoint(u,d,a,!1),U?(a--,p=!0,x=!0):x||a--;if(a<0){h=!0;break}let Q=!0;for(;(Q||!A)&&u>=0;)Q=this.containsBlackPoint(a,l,u,!0),Q?(u--,p=!0,A=!0):A||u--;if(u<0){h=!0;break}p&&(y=!0)}if(!h&&y){const O=l-a;let L=null;for(let W=1;null===L&&W<O;W++)L=this.getBlackPointOnSegment(a,d-W,a+W,d);if(null==L)throw new G;let U=null;for(let W=1;null===U&&W<O;W++)U=this.getBlackPointOnSegment(a,u+W,a+W,u);if(null==U)throw new G;let Q=null;for(let W=1;null===Q&&W<O;W++)Q=this.getBlackPointOnSegment(l,u+W,l-W,u);if(null==Q)throw new G;let J=null;for(let W=1;null===J&&W<O;W++)J=this.getBlackPointOnSegment(l,d-W,l-W,d);if(null==J)throw new G;return this.centerEdges(J,L,Q,U)}throw new G}getBlackPointOnSegment(a,l,u,d){const h=Ze.round(Ze.distance(a,l,u,d)),p=(u-a)/h,y=(d-l)/h,C=this.image;for(let _=0;_<h;_++){const x=Ze.round(a+_*p),A=Ze.round(l+_*y);if(C.get(x,A))return new he(x,A)}return null}centerEdges(a,l,u,d){const h=a.getX(),p=a.getY(),y=l.getX(),C=l.getY(),_=u.getX(),x=u.getY(),A=d.getX(),S=d.getY(),N=v.CORR;return h<this.width/2?[new he(A-N,S+N),new he(y+N,C+N),new he(_-N,x-N),new he(h+N,p-N)]:[new he(A+N,S+N),new he(y+N,C-N),new he(_-N,x+N),new he(h-N,p-N)]}containsBlackPoint(a,l,u,d){const h=this.image;if(d){for(let p=a;p<=l;p++)if(h.get(p,u))return!0}else for(let p=a;p<=l;p++)if(h.get(u,p))return!0;return!1}}return v.INIT_SIZE=10,v.CORR=1,v})();class Ka{static checkAndNudgePoints(s,a){const l=s.getWidth(),u=s.getHeight();let d=!0;for(let h=0;h<a.length&&d;h+=2){const p=Math.floor(a[h]),y=Math.floor(a[h+1]);if(p<-1||p>l||y<-1||y>u)throw new G;d=!1,-1===p?(a[h]=0,d=!0):p===l&&(a[h]=l-1,d=!0),-1===y?(a[h+1]=0,d=!0):y===u&&(a[h+1]=u-1,d=!0)}d=!0;for(let h=a.length-2;h>=0&&d;h-=2){const p=Math.floor(a[h]),y=Math.floor(a[h+1]);if(p<-1||p>l||y<-1||y>u)throw new G;d=!1,-1===p?(a[h]=0,d=!0):p===l&&(a[h]=l-1,d=!0),-1===y?(a[h+1]=0,d=!0):y===u&&(a[h+1]=u-1,d=!0)}}}class Vn{constructor(s,a,l,u,d,h,p,y,C){this.a11=s,this.a21=a,this.a31=l,this.a12=u,this.a22=d,this.a32=h,this.a13=p,this.a23=y,this.a33=C}static quadrilateralToQuadrilateral(s,a,l,u,d,h,p,y,C,_,x,A,S,N,O,L){const U=Vn.quadrilateralToSquare(s,a,l,u,d,h,p,y);return Vn.squareToQuadrilateral(C,_,x,A,S,N,O,L).times(U)}transformPoints(s){const a=s.length,l=this.a11,u=this.a12,d=this.a13,h=this.a21,p=this.a22,y=this.a23,C=this.a31,_=this.a32,x=this.a33;for(let A=0;A<a;A+=2){const S=s[A],N=s[A+1],O=d*S+y*N+x;s[A]=(l*S+h*N+C)/O,s[A+1]=(u*S+p*N+_)/O}}transformPointsWithValues(s,a){const l=this.a11,u=this.a12,d=this.a13,h=this.a21,p=this.a22,y=this.a23,C=this.a31,_=this.a32,x=this.a33,A=s.length;for(let S=0;S<A;S++){const N=s[S],O=a[S],L=d*N+y*O+x;s[S]=(l*N+h*O+C)/L,a[S]=(u*N+p*O+_)/L}}static squareToQuadrilateral(s,a,l,u,d,h,p,y){const C=s-l+d-p,_=a-u+h-y;if(0===C&&0===_)return new Vn(l-s,d-l,s,u-a,h-u,a,0,0,1);{const x=l-d,A=p-d,S=u-h,N=y-h,O=x*N-A*S,L=(C*N-A*_)/O,U=(x*_-C*S)/O;return new Vn(l-s+L*l,p-s+U*p,s,u-a+L*u,y-a+U*y,a,L,U,1)}}static quadrilateralToSquare(s,a,l,u,d,h,p,y){return Vn.squareToQuadrilateral(s,a,l,u,d,h,p,y).buildAdjoint()}buildAdjoint(){return new Vn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(s){return new Vn(this.a11*s.a11+this.a21*s.a12+this.a31*s.a13,this.a11*s.a21+this.a21*s.a22+this.a31*s.a23,this.a11*s.a31+this.a21*s.a32+this.a31*s.a33,this.a12*s.a11+this.a22*s.a12+this.a32*s.a13,this.a12*s.a21+this.a22*s.a22+this.a32*s.a23,this.a12*s.a31+this.a22*s.a32+this.a32*s.a33,this.a13*s.a11+this.a23*s.a12+this.a33*s.a13,this.a13*s.a21+this.a23*s.a22+this.a33*s.a23,this.a13*s.a31+this.a23*s.a32+this.a33*s.a33)}}class Ja extends Ka{sampleGrid(s,a,l,u,d,h,p,y,C,_,x,A,S,N,O,L,U,Q,J){const W=Vn.quadrilateralToQuadrilateral(u,d,h,p,y,C,_,x,A,S,N,O,L,U,Q,J);return this.sampleGridWithTransform(s,a,l,W)}sampleGridWithTransform(s,a,l,u){if(a<=0||l<=0)throw new G;const d=new Jt(a,l),h=new Float32Array(2*a);for(let p=0;p<l;p++){const y=h.length,C=p+.5;for(let _=0;_<y;_+=2)h[_]=_/2+.5,h[_+1]=C;u.transformPoints(h),Ka.checkAndNudgePoints(s,h);try{for(let _=0;_<y;_+=2)s.get(Math.floor(h[_]),Math.floor(h[_+1]))&&d.set(_/2,p)}catch{throw new G}}return d}}class ti{static setGridSampler(s){ti.gridSampler=s}static getInstance(){return ti.gridSampler}}ti.gridSampler=new Ja;class _n{constructor(s,a){this.x=s,this.y=a}toResultPoint(){return new he(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Gc{constructor(s){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=s}detect(){return this.detectMirror(!1)}detectMirror(s){let a=this.getMatrixCenter(),l=this.getBullsEyeCorners(a);if(s){let h=l[0];l[0]=l[2],l[2]=h}this.extractParameters(l);let u=this.sampleGrid(this.image,l[this.shift%4],l[(this.shift+1)%4],l[(this.shift+2)%4],l[(this.shift+3)%4]),d=this.getMatrixCornerPoints(l);return new zc(u,d,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(s){if(!(this.isValidPoint(s[0])&&this.isValidPoint(s[1])&&this.isValidPoint(s[2])&&this.isValidPoint(s[3])))throw new G;let a=2*this.nbCenterLayers,l=new Int32Array([this.sampleLine(s[0],s[1],a),this.sampleLine(s[1],s[2],a),this.sampleLine(s[2],s[3],a),this.sampleLine(s[3],s[0],a)]);this.shift=this.getRotation(l,a);let u=0;for(let h=0;h<4;h++){let p=l[(this.shift+h)%4];this.compact?(u<<=7,u+=p>>1&127):(u<<=10,u+=(p>>2&992)+(p>>1&31))}let d=this.getCorrectedParameterData(u,this.compact);this.compact?(this.nbLayers=1+(d>>6),this.nbDataBlocks=1+(63&d)):(this.nbLayers=1+(d>>11),this.nbDataBlocks=1+(2047&d))}getRotation(s,a){let l=0;s.forEach((u,d,h)=>{l=(u>>a-2<<1)+(1&u)+(l<<3)}),l=((1&l)<<11)+(l>>1);for(let u=0;u<4;u++)if(Se.bitCount(l^this.EXPECTED_CORNER_BITS[u])<=2)return u;throw new G}getCorrectedParameterData(s,a){let l,u;a?(l=7,u=2):(l=10,u=4);let d=l-u,h=new Int32Array(l);for(let y=l-1;y>=0;--y)h[y]=15&s,s>>=4;try{new Bo(qe.AZTEC_PARAM).decode(h,d)}catch{throw new G}let p=0;for(let y=0;y<u;y++)p=(p<<4)+h[y];return p}getBullsEyeCorners(s){let a=s,l=s,u=s,d=s,h=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let x=this.getFirstDifferent(a,h,1,-1),A=this.getFirstDifferent(l,h,1,1),S=this.getFirstDifferent(u,h,-1,1),N=this.getFirstDifferent(d,h,-1,-1);if(this.nbCenterLayers>2){let O=this.distancePoint(N,x)*this.nbCenterLayers/(this.distancePoint(d,a)*(this.nbCenterLayers+2));if(O<.75||O>1.25||!this.isWhiteOrBlackRectangle(x,A,S,N))break}a=x,l=A,u=S,d=N,h=!h}if(5!==this.nbCenterLayers&&7!==this.nbCenterLayers)throw new G;this.compact=5===this.nbCenterLayers;let p=new he(a.getX()+.5,a.getY()-.5),y=new he(l.getX()+.5,l.getY()+.5),C=new he(u.getX()-.5,u.getY()+.5),_=new he(d.getX()-.5,d.getY()-.5);return this.expandSquare([p,y,C,_],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let s,a,l,u;try{let p=new no(this.image).detect();s=p[0],a=p[1],l=p[2],u=p[3]}catch{let y=this.image.getWidth()/2,C=this.image.getHeight()/2;s=this.getFirstDifferent(new _n(y+7,C-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new _n(y+7,C+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new _n(y-7,C+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new _n(y-7,C-7),!1,-1,-1).toResultPoint()}let d=Ze.round((s.getX()+u.getX()+a.getX()+l.getX())/4),h=Ze.round((s.getY()+u.getY()+a.getY()+l.getY())/4);try{let p=new no(this.image,15,d,h).detect();s=p[0],a=p[1],l=p[2],u=p[3]}catch{s=this.getFirstDifferent(new _n(d+7,h-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new _n(d+7,h+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new _n(d-7,h+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new _n(d-7,h-7),!1,-1,-1).toResultPoint()}return d=Ze.round((s.getX()+u.getX()+a.getX()+l.getX())/4),h=Ze.round((s.getY()+u.getY()+a.getY()+l.getY())/4),new _n(d,h)}getMatrixCornerPoints(s){return this.expandSquare(s,2*this.nbCenterLayers,this.getDimension())}sampleGrid(s,a,l,u,d){let h=ti.getInstance(),p=this.getDimension(),y=p/2-this.nbCenterLayers,C=p/2+this.nbCenterLayers;return h.sampleGrid(s,p,p,y,y,C,y,C,C,y,C,a.getX(),a.getY(),l.getX(),l.getY(),u.getX(),u.getY(),d.getX(),d.getY())}sampleLine(s,a,l){let u=0,d=this.distanceResultPoint(s,a),h=d/l,p=s.getX(),y=s.getY(),C=h*(a.getX()-s.getX())/d,_=h*(a.getY()-s.getY())/d;for(let x=0;x<l;x++)this.image.get(Ze.round(p+x*C),Ze.round(y+x*_))&&(u|=1<<l-x-1);return u}isWhiteOrBlackRectangle(s,a,l,u){s=new _n(s.getX()-3,s.getY()+3),a=new _n(a.getX()-3,a.getY()-3),l=new _n(l.getX()+3,l.getY()-3),u=new _n(u.getX()+3,u.getY()+3);let h=this.getColor(u,s);if(0===h)return!1;let p=this.getColor(s,a);return p===h&&(p=this.getColor(a,l),p===h)&&(p=this.getColor(l,u),p===h)}getColor(s,a){let l=this.distancePoint(s,a),u=(a.getX()-s.getX())/l,d=(a.getY()-s.getY())/l,h=0,p=s.getX(),y=s.getY(),C=this.image.get(s.getX(),s.getY()),_=Math.ceil(l);for(let A=0;A<_;A++)p+=u,y+=d,this.image.get(Ze.round(p),Ze.round(y))!==C&&h++;let x=h/l;return x>.1&&x<.9?0:x<=.1===C?1:-1}getFirstDifferent(s,a,l,u){let d=s.getX()+l,h=s.getY()+u;for(;this.isValid(d,h)&&this.image.get(d,h)===a;)d+=l,h+=u;for(d-=l,h-=u;this.isValid(d,h)&&this.image.get(d,h)===a;)d+=l;for(d-=l;this.isValid(d,h)&&this.image.get(d,h)===a;)h+=u;return h-=u,new _n(d,h)}expandSquare(s,a,l){let u=l/(2*a),d=s[0].getX()-s[2].getX(),h=s[0].getY()-s[2].getY(),p=(s[0].getX()+s[2].getX())/2,y=(s[0].getY()+s[2].getY())/2,C=new he(p+u*d,y+u*h),_=new he(p-u*d,y-u*h);return d=s[1].getX()-s[3].getX(),h=s[1].getY()-s[3].getY(),p=(s[1].getX()+s[3].getX())/2,y=(s[1].getY()+s[3].getY())/2,[C,new he(p+u*d,y+u*h),_,new he(p-u*d,y-u*h)]}isValid(s,a){return s>=0&&s<this.image.getWidth()&&a>0&&a<this.image.getHeight()}isValidPoint(s){let a=Ze.round(s.getX()),l=Ze.round(s.getY());return this.isValid(a,l)}distancePoint(s,a){return Ze.distance(s.getX(),s.getY(),a.getX(),a.getY())}distanceResultPoint(s,a){return Ze.distance(s.getX(),s.getY(),a.getX(),a.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Se.truncDivision(this.nbLayers-4,8)+1)+15}}class cr{decode(s,a=null){let l=null,u=new Gc(s.getBlackMatrix()),d=null,h=null;try{let _=u.detectMirror(!1);d=_.getPoints(),this.reportFoundResultPoints(a,d),h=(new Hc).decode(_)}catch(_){l=_}if(null==h)try{let _=u.detectMirror(!0);d=_.getPoints(),this.reportFoundResultPoints(a,d),h=(new Hc).decode(_)}catch(_){throw l??_}let p=new At(h.getText(),h.getRawBytes(),h.getNumBits(),d,_e.AZTEC,gt.currentTimeMillis()),y=h.getByteSegments();null!=y&&p.putMetadata(He.BYTE_SEGMENTS,y);let C=h.getECLevel();return null!=C&&p.putMetadata(He.ERROR_CORRECTION_LEVEL,C),p}reportFoundResultPoints(s,a){if(null!=s){let l=s.get(_t.NEED_RESULT_POINT_CALLBACK);null!=l&&a.forEach((u,d,h)=>{l.foundPossibleResultPoint(u)})}}reset(){}}class Ht{decode(s,a){try{return this.doDecode(s,a)}catch{if(a&&!0===a.get(_t.TRY_HARDER)&&s.isRotateSupported()){const d=s.rotateCounterClockwise(),h=this.doDecode(d,a),p=h.getResultMetadata();let y=270;null!==p&&!0===p.get(He.ORIENTATION)&&(y+=p.get(He.ORIENTATION)%360),h.putMetadata(He.ORIENTATION,y);const C=h.getResultPoints();if(null!==C){const _=d.getHeight();for(let x=0;x<C.length;x++)C[x]=new he(_-C[x].getY()-1,C[x].getX())}return h}throw new G}}reset(){}doDecode(s,a){const l=s.getWidth(),u=s.getHeight();let d=new mt(l);const h=a&&!0===a.get(_t.TRY_HARDER),p=Math.max(1,u>>(h?8:5));let y;y=h?u:15;const C=Math.trunc(u/2);for(let _=0;_<y;_++){const x=Math.trunc((_+1)/2),S=C+p*(0==(1&_)?x:-x);if(S<0||S>=u)break;try{d=s.getBlackRow(S,d)}catch{continue}for(let N=0;N<2;N++){if(1===N&&(d.reverse(),a&&!0===a.get(_t.NEED_RESULT_POINT_CALLBACK))){const O=new Map;a.forEach((L,U)=>O.set(U,L)),O.delete(_t.NEED_RESULT_POINT_CALLBACK),a=O}try{const O=this.decodeRow(S,d,a);if(1===N){O.putMetadata(He.ORIENTATION,180);const L=O.getResultPoints();null!==L&&(L[0]=new he(l-L[0].getX()-1,L[0].getY()),L[1]=new he(l-L[1].getX()-1,L[1].getY()))}return O}catch{}}}throw new G}static recordPattern(s,a,l){const u=l.length;for(let C=0;C<u;C++)l[C]=0;const d=s.getSize();if(a>=d)throw new G;let h=!s.get(a),p=0,y=a;for(;y<d;){if(s.get(y)!==h)l[p]++;else{if(++p===u)break;l[p]=1,h=!h}y++}if(p!==u&&(p!==u-1||y!==d))throw new G}static recordPatternInReverse(s,a,l){let u=l.length,d=s.get(a);for(;a>0&&u>=0;)s.get(--a)!==d&&(u--,d=!d);if(u>=0)throw new G;Ht.recordPattern(s,a+1,l)}static patternMatchVariance(s,a,l){const u=s.length;let d=0,h=0;for(let C=0;C<u;C++)d+=s[C],h+=a[C];if(d<h)return Number.POSITIVE_INFINITY;const p=d/h;l*=p;let y=0;for(let C=0;C<u;C++){const _=s[C],x=a[C]*p,A=_>x?_-x:x-_;if(A>l)return Number.POSITIVE_INFINITY;y+=A}return y/d}}class re extends Ht{static findStartPattern(s){const a=s.getSize(),l=s.getNextSet(0);let u=0,d=Int32Array.from([0,0,0,0,0,0]),h=l,p=!1;for(let C=l;C<a;C++)if(s.get(C)!==p)d[u]++;else{if(5===u){let _=re.MAX_AVG_VARIANCE,x=-1;for(let A=re.CODE_START_A;A<=re.CODE_START_C;A++){const S=Ht.patternMatchVariance(d,re.CODE_PATTERNS[A],re.MAX_INDIVIDUAL_VARIANCE);S<_&&(_=S,x=A)}if(x>=0&&s.isRange(Math.max(0,h-(C-h)/2),h,!1))return Int32Array.from([h,C,x]);h+=d[0]+d[1],d=d.slice(2,d.length-1),d[u-1]=0,d[u]=0,u--}else u++;d[u]=1,p=!p}throw new G}static decodeCode(s,a,l){Ht.recordPattern(s,l,a);let u=re.MAX_AVG_VARIANCE,d=-1;for(let h=0;h<re.CODE_PATTERNS.length;h++){const y=this.patternMatchVariance(a,re.CODE_PATTERNS[h],re.MAX_INDIVIDUAL_VARIANCE);y<u&&(u=y,d=h)}if(d>=0)return d;throw new G}decodeRow(s,a,l){const u=l&&!0===l.get(_t.ASSUME_GS1),d=re.findStartPattern(a),h=d[2];let p=0;const y=new Uint8Array(20);let C;switch(y[p++]=h,h){case re.CODE_START_A:C=re.CODE_CODE_A;break;case re.CODE_START_B:C=re.CODE_CODE_B;break;case re.CODE_START_C:C=re.CODE_CODE_C;break;default:throw new oe}let _=!1,x=!1,A="",S=d[0],N=d[1];const O=Int32Array.from([0,0,0,0,0,0]);let L=0,U=0,Q=h,J=0,W=!0,Ue=!1,Re=!1;for(;!_;){const Bt=x;switch(x=!1,L=U,U=re.decodeCode(a,O,N),y[p++]=U,U!==re.CODE_STOP&&(W=!0),U!==re.CODE_STOP&&(J++,Q+=J*U),S=N,N+=O.reduce((Kf,Jf)=>Kf+Jf,0),U){case re.CODE_START_A:case re.CODE_START_B:case re.CODE_START_C:throw new oe}switch(C){case re.CODE_CODE_A:if(U<64)A+=String.fromCharCode(Re===Ue?" ".charCodeAt(0)+U:" ".charCodeAt(0)+U+128),Re=!1;else if(U<96)A+=String.fromCharCode(Re===Ue?U-64:U+64),Re=!1;else switch(U!==re.CODE_STOP&&(W=!1),U){case re.CODE_FNC_1:u&&(A+=0===A.length?"]C1":String.fromCharCode(29));break;case re.CODE_FNC_2:case re.CODE_FNC_3:break;case re.CODE_FNC_4_A:!Ue&&Re?(Ue=!0,Re=!1):Ue&&Re?(Ue=!1,Re=!1):Re=!0;break;case re.CODE_SHIFT:x=!0,C=re.CODE_CODE_B;break;case re.CODE_CODE_B:C=re.CODE_CODE_B;break;case re.CODE_CODE_C:C=re.CODE_CODE_C;break;case re.CODE_STOP:_=!0}break;case re.CODE_CODE_B:if(U<96)A+=String.fromCharCode(Re===Ue?" ".charCodeAt(0)+U:" ".charCodeAt(0)+U+128),Re=!1;else switch(U!==re.CODE_STOP&&(W=!1),U){case re.CODE_FNC_1:u&&(A+=0===A.length?"]C1":String.fromCharCode(29));break;case re.CODE_FNC_2:case re.CODE_FNC_3:break;case re.CODE_FNC_4_B:!Ue&&Re?(Ue=!0,Re=!1):Ue&&Re?(Ue=!1,Re=!1):Re=!0;break;case re.CODE_SHIFT:x=!0,C=re.CODE_CODE_A;break;case re.CODE_CODE_A:C=re.CODE_CODE_A;break;case re.CODE_CODE_C:C=re.CODE_CODE_C;break;case re.CODE_STOP:_=!0}break;case re.CODE_CODE_C:if(U<100)U<10&&(A+="0"),A+=U;else switch(U!==re.CODE_STOP&&(W=!1),U){case re.CODE_FNC_1:u&&(A+=0===A.length?"]C1":String.fromCharCode(29));break;case re.CODE_CODE_A:C=re.CODE_CODE_A;break;case re.CODE_CODE_B:C=re.CODE_CODE_B;break;case re.CODE_STOP:_=!0}}Bt&&(C=C===re.CODE_CODE_A?re.CODE_CODE_B:re.CODE_CODE_A)}const Tn=N-S;if(N=a.getNextUnset(N),!a.isRange(N,Math.min(a.getSize(),N+(N-S)/2),!1))throw new G;if(Q-=J*L,Q%103!==L)throw new qt;const hr=A.length;if(0===hr)throw new G;hr>0&&W&&(A=A.substring(0,C===re.CODE_CODE_C?hr-2:hr-1));const Mn=(d[1]+d[0])/2,pt=S+Tn/2,un=y.length,zn=new Uint8Array(un);for(let Bt=0;Bt<un;Bt++)zn[Bt]=y[Bt];const lo=[new he(Mn,s),new he(pt,s)];return new At(A,zn,0,lo,_e.CODE_128,(new Date).getTime())}}re.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],re.MAX_AVG_VARIANCE=.25,re.MAX_INDIVIDUAL_VARIANCE=.7,re.CODE_SHIFT=98,re.CODE_CODE_C=99,re.CODE_CODE_B=100,re.CODE_CODE_A=101,re.CODE_FNC_1=102,re.CODE_FNC_2=97,re.CODE_FNC_3=96,re.CODE_FNC_4_A=101,re.CODE_FNC_4_B=100,re.CODE_START_A=103,re.CODE_START_B=104,re.CODE_START_C=105,re.CODE_STOP=106;let el=(()=>{class v extends Ht{constructor(a=!1,l=!1){super(),this.usingCheckDigit=a,this.extendedMode=l,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(a,l,u){let d=this.counters;d.fill(0),this.decodeRowResult="";let C,_,h=v.findAsteriskPattern(l,d),p=l.getNextSet(h[1]),y=l.getSize();do{v.recordPattern(l,p,d);let L=v.toNarrowWidePattern(d);if(L<0)throw new G;C=v.patternToChar(L),this.decodeRowResult+=C,_=p;for(let U of d)p+=U;p=l.getNextSet(p)}while("*"!==C);this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let S,x=0;for(let L of d)x+=L;if(p!==y&&2*(p-_-x)<x)throw new G;if(this.usingCheckDigit){let L=this.decodeRowResult.length-1,U=0;for(let Q=0;Q<L;Q++)U+=v.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Q));if(this.decodeRowResult.charAt(L)!==v.ALPHABET_STRING.charAt(U%43))throw new qt;this.decodeRowResult=this.decodeRowResult.substring(0,L)}if(0===this.decodeRowResult.length)throw new G;S=this.extendedMode?v.decodeExtended(this.decodeRowResult):this.decodeRowResult;let O=_+x/2;return new At(S,null,0,[new he((h[1]+h[0])/2,a),new he(O,a)],_e.CODE_39,(new Date).getTime())}static findAsteriskPattern(a,l){let u=a.getSize(),d=a.getNextSet(0),h=0,p=d,y=!1,C=l.length;for(let _=d;_<u;_++)if(a.get(_)!==y)l[h]++;else{if(h===C-1){if(this.toNarrowWidePattern(l)===v.ASTERISK_ENCODING&&a.isRange(Math.max(0,p-Math.floor((_-p)/2)),p,!1))return[p,_];p+=l[0]+l[1],l.copyWithin(0,2,2+h-1),l[h-1]=0,l[h]=0,h--}else h++;l[h]=1,y=!y}throw new G}static toNarrowWidePattern(a){let d,l=a.length,u=0;do{let h=2147483647;for(let C of a)C<h&&C>u&&(h=C);u=h,d=0;let p=0,y=0;for(let C=0;C<l;C++){let _=a[C];_>u&&(y|=1<<l-1-C,d++,p+=_)}if(3===d){for(let C=0;C<l&&d>0;C++){let _=a[C];if(_>u&&(d--,2*_>=p))return-1}return y}}while(d>3);return-1}static patternToChar(a){for(let l=0;l<v.CHARACTER_ENCODINGS.length;l++)if(v.CHARACTER_ENCODINGS[l]===a)return v.ALPHABET_STRING.charAt(l);if(a===v.ASTERISK_ENCODING)return"*";throw new G}static decodeExtended(a){let l=a.length,u="";for(let d=0;d<l;d++){let h=a.charAt(d);if("+"===h||"$"===h||"%"===h||"/"===h){let p=a.charAt(d+1),y="\0";switch(h){case"+":if(!(p>="A"&&p<="Z"))throw new oe;y=String.fromCharCode(p.charCodeAt(0)+32);break;case"$":if(!(p>="A"&&p<="Z"))throw new oe;y=String.fromCharCode(p.charCodeAt(0)-64);break;case"%":if(p>="A"&&p<="E")y=String.fromCharCode(p.charCodeAt(0)-38);else if(p>="F"&&p<="J")y=String.fromCharCode(p.charCodeAt(0)-11);else if(p>="K"&&p<="O")y=String.fromCharCode(p.charCodeAt(0)+16);else if(p>="P"&&p<="T")y=String.fromCharCode(p.charCodeAt(0)+43);else if("U"===p)y="\0";else if("V"===p)y="@";else if("W"===p)y="`";else{if("X"!==p&&"Y"!==p&&"Z"!==p)throw new oe;y="\x7f"}break;case"/":if(p>="A"&&p<="O")y=String.fromCharCode(p.charCodeAt(0)-32);else{if("Z"!==p)throw new oe;y=":"}}u+=y,d++}else u+=h}return u}}return v.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",v.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],v.ASTERISK_ENCODING=148,v})();class yt extends Ht{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(s,a,l){let u=this.decodeStart(a),d=this.decodeEnd(a),h=new nt;yt.decodeMiddle(a,u[1],d[0],h);let p=h.toString(),y=null;null!=l&&(y=l.get(_t.ALLOWED_LENGTHS)),null==y&&(y=yt.DEFAULT_ALLOWED_LENGTHS);let C=p.length,_=!1,x=0;for(let N of y){if(C===N){_=!0;break}N>x&&(x=N)}if(!_&&C>x&&(_=!0),!_)throw new oe;const A=[new he(u[1],s),new he(d[0],s)];return new At(p,null,0,A,_e.ITF,(new Date).getTime())}static decodeMiddle(s,a,l,u){let d=new Int32Array(10),h=new Int32Array(5),p=new Int32Array(5);for(d.fill(0),h.fill(0),p.fill(0);a<l;){Ht.recordPattern(s,a,d);for(let C=0;C<5;C++){let _=2*C;h[C]=d[_],p[C]=d[_+1]}let y=yt.decodeDigit(h);u.append(y.toString()),y=this.decodeDigit(p),u.append(y.toString()),d.forEach(function(C){a+=C})}}decodeStart(s){let a=yt.skipWhiteSpace(s),l=yt.findGuardPattern(s,a,yt.START_PATTERN);return this.narrowLineWidth=(l[1]-l[0])/4,this.validateQuietZone(s,l[0]),l}validateQuietZone(s,a){let l=10*this.narrowLineWidth;l=l<a?l:a;for(let u=a-1;l>0&&u>=0&&!s.get(u);u--)l--;if(0!==l)throw new G}static skipWhiteSpace(s){const a=s.getSize(),l=s.getNextSet(0);if(l===a)throw new G;return l}decodeEnd(s){s.reverse();try{let l,a=yt.skipWhiteSpace(s);try{l=yt.findGuardPattern(s,a,yt.END_PATTERN_REVERSED[0])}catch(d){d instanceof G&&(l=yt.findGuardPattern(s,a,yt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(s,l[0]);let u=l[0];return l[0]=s.getSize()-l[1],l[1]=s.getSize()-u,l}finally{s.reverse()}}static findGuardPattern(s,a,l){let u=l.length,d=new Int32Array(u),h=s.getSize(),p=!1,y=0,C=a;d.fill(0);for(let _=a;_<h;_++)if(s.get(_)!==p)d[y]++;else{if(y===u-1){if(Ht.patternMatchVariance(d,l,yt.MAX_INDIVIDUAL_VARIANCE)<yt.MAX_AVG_VARIANCE)return[C,_];C+=d[0]+d[1],gt.arraycopy(d,2,d,0,y-1),d[y-1]=0,d[y]=0,y--}else y++;d[y]=1,p=!p}throw new G}static decodeDigit(s){let a=yt.MAX_AVG_VARIANCE,l=-1,u=yt.PATTERNS.length;for(let d=0;d<u;d++){let p=Ht.patternMatchVariance(s,yt.PATTERNS[d],yt.MAX_INDIVIDUAL_VARIANCE);p<a?(a=p,l=d):p===a&&(l=-1)}if(l>=0)return l%10;throw new G}}yt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],yt.MAX_AVG_VARIANCE=.38,yt.MAX_INDIVIDUAL_VARIANCE=.5,yt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],yt.START_PATTERN=Int32Array.from([1,1,1,1]),yt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Nt extends Ht{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(s){let l,a=!1,u=0,d=Int32Array.from([0,0,0]);for(;!a;){d=Int32Array.from([0,0,0]),l=Nt.findGuardPattern(s,u,!1,this.START_END_PATTERN,d);let h=l[0];u=l[1];let p=h-(u-h);p>=0&&(a=s.isRange(p,h,!1))}return l}static checkChecksum(s){return Nt.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let a=s.length;if(0===a)return!1;let l=parseInt(s.charAt(a-1),10);return Nt.getStandardUPCEANChecksum(s.substring(0,a-1))===l}static getStandardUPCEANChecksum(s){let a=s.length,l=0;for(let u=a-1;u>=0;u-=2){let d=s.charAt(u).charCodeAt(0)-"0".charCodeAt(0);if(d<0||d>9)throw new oe;l+=d}l*=3;for(let u=a-2;u>=0;u-=2){let d=s.charAt(u).charCodeAt(0)-"0".charCodeAt(0);if(d<0||d>9)throw new oe;l+=d}return(1e3-l)%10}static decodeEnd(s,a){return Nt.findGuardPattern(s,a,!1,Nt.START_END_PATTERN,new Int32Array(Nt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(s,a,l,u){return this.findGuardPattern(s,a,l,u,new Int32Array(u.length))}static findGuardPattern(s,a,l,u,d){let h=s.getSize(),p=0,y=a=l?s.getNextUnset(a):s.getNextSet(a),C=u.length,_=l;for(let x=a;x<h;x++)if(s.get(x)!==_)d[p]++;else{if(p===C-1){if(Ht.patternMatchVariance(d,u,Nt.MAX_INDIVIDUAL_VARIANCE)<Nt.MAX_AVG_VARIANCE)return Int32Array.from([y,x]);y+=d[0]+d[1];let A=d.slice(2,d.length-1);for(let S=0;S<p-1;S++)d[S]=A[S];d[p-1]=0,d[p]=0,p--}else p++;d[p]=1,_=!_}throw new G}static decodeDigit(s,a,l,u){this.recordPattern(s,l,a);let d=this.MAX_AVG_VARIANCE,h=-1,p=u.length;for(let y=0;y<p;y++){let _=Ht.patternMatchVariance(a,u[y],Nt.MAX_INDIVIDUAL_VARIANCE);_<d&&(d=_,h=y)}if(h>=0)return h;throw new G}}Nt.MAX_AVG_VARIANCE=.48,Nt.MAX_INDIVIDUAL_VARIANCE=.7,Nt.START_END_PATTERN=Int32Array.from([1,1,1]),Nt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Nt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Nt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Uo{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,a,l){let u=this.decodeRowStringBuffer,d=this.decodeMiddle(a,l,u),h=u.toString(),p=Uo.parseExtensionString(h),y=[new he((l[0]+l[1])/2,s),new he(d,s)],C=new At(h,null,0,y,_e.UPC_EAN_EXTENSION,(new Date).getTime());return null!=p&&C.putAllMetadata(p),C}decodeMiddle(s,a,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=s.getSize(),h=a[1],p=0;for(let C=0;C<5&&h<d;C++){let _=Nt.decodeDigit(s,u,h,Nt.L_AND_G_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+_%10);for(let x of u)h+=x;_>=10&&(p|=1<<4-C),4!==C&&(h=s.getNextSet(h),h=s.getNextUnset(h))}if(5!==l.length)throw new G;let y=this.determineCheckDigit(p);if(Uo.extensionChecksum(l.toString())!==y)throw new G;return h}static extensionChecksum(s){let a=s.length,l=0;for(let u=a-2;u>=0;u-=2)l+=s.charAt(u).charCodeAt(0)-"0".charCodeAt(0);l*=3;for(let u=a-1;u>=0;u-=2)l+=s.charAt(u).charCodeAt(0)-"0".charCodeAt(0);return l*=3,l%10}determineCheckDigit(s){for(let a=0;a<10;a++)if(s===this.CHECK_DIGIT_ENCODINGS[a])return a;throw new G}static parseExtensionString(s){if(5!==s.length)return null;let a=Uo.parseExtension5String(s);return null==a?null:new Map([[He.SUGGESTED_PRICE,a]])}static parseExtension5String(s){let a;switch(s.charAt(0)){case"0":a="\xa3";break;case"5":a="$";break;case"9":switch(s){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}a="";break;default:a=""}let l=parseInt(s.substring(1)),d=l%100;return a+(l/100).toString()+"."+(d<10?"0"+d:d.toString())}}class tl{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(s,a,l){let u=this.decodeRowStringBuffer,d=this.decodeMiddle(a,l,u),h=u.toString(),p=tl.parseExtensionString(h),y=[new he((l[0]+l[1])/2,s),new he(d,s)],C=new At(h,null,0,y,_e.UPC_EAN_EXTENSION,(new Date).getTime());return null!=p&&C.putAllMetadata(p),C}decodeMiddle(s,a,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=s.getSize(),h=a[1],p=0;for(let y=0;y<2&&h<d;y++){let C=Nt.decodeDigit(s,u,h,Nt.L_AND_G_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+C%10);for(let _ of u)h+=_;C>=10&&(p|=1<<1-y),1!==y&&(h=s.getNextSet(h),h=s.getNextUnset(h))}if(2!==l.length)throw new G;if(parseInt(l.toString())%4!==p)throw new G;return h}static parseExtensionString(s){return 2!==s.length?null:new Map([[He.ISSUE_NUMBER,parseInt(s)]])}}class $c{static decodeRow(s,a,l){let u=Nt.findGuardPattern(a,l,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return(new Uo).decodeRow(s,a,u)}catch{return(new tl).decodeRow(s,a,u)}}}$c.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Je extends Nt{constructor(){super(),this.decodeRowStringBuffer="",Je.L_AND_G_PATTERNS=Je.L_PATTERNS.map(s=>Int32Array.from(s));for(let s=10;s<20;s++){let a=Je.L_PATTERNS[s-10],l=new Int32Array(a.length);for(let u=0;u<a.length;u++)l[u]=a[a.length-u-1];Je.L_AND_G_PATTERNS[s]=l}}decodeRow(s,a,l){let u=Je.findStartGuardPattern(a),d=null==l?null:l.get(_t.NEED_RESULT_POINT_CALLBACK);if(null!=d){const W=new he((u[0]+u[1])/2,s);d.foundPossibleResultPoint(W)}let h=this.decodeMiddle(a,u,this.decodeRowStringBuffer),p=h.rowOffset,y=h.resultString;if(null!=d){const W=new he(p,s);d.foundPossibleResultPoint(W)}let C=this.decodeEnd(a,p);if(null!=d){const W=new he((C[0]+C[1])/2,s);d.foundPossibleResultPoint(W)}let _=C[1],x=_+(_-C[0]);if(x>=a.getSize()||!a.isRange(_,x,!1))throw new G;let A=y.toString();if(A.length<8)throw new oe;if(!Je.checkChecksum(A))throw new qt;let S=(u[1]+u[0])/2,N=(C[1]+C[0])/2,O=this.getBarcodeFormat(),L=[new he(S,s),new he(N,s)],U=new At(A,null,0,L,O,(new Date).getTime()),Q=0;try{let W=$c.decodeRow(s,a,C[1]);U.putMetadata(He.UPC_EAN_EXTENSION,W.getText()),U.putAllMetadata(W.getResultMetadata()),U.addResultPoints(W.getResultPoints()),Q=W.getText().length}catch{}let J=null==l?null:l.get(_t.ALLOWED_EAN_EXTENSIONS);if(null!=J){let W=!1;for(let Ue in J)if(Q.toString()===Ue){W=!0;break}if(!W)throw new G}return U}decodeEnd(s,a){return Je.findGuardPattern(s,a,!1,Je.START_END_PATTERN,new Int32Array(Je.START_END_PATTERN.length).fill(0))}static checkChecksum(s){return Je.checkStandardUPCEANChecksum(s)}static checkStandardUPCEANChecksum(s){let a=s.length;if(0===a)return!1;let l=parseInt(s.charAt(a-1),10);return Je.getStandardUPCEANChecksum(s.substring(0,a-1))===l}static getStandardUPCEANChecksum(s){let a=s.length,l=0;for(let u=a-1;u>=0;u-=2){let d=s.charAt(u).charCodeAt(0)-"0".charCodeAt(0);if(d<0||d>9)throw new oe;l+=d}l*=3;for(let u=a-2;u>=0;u-=2){let d=s.charAt(u).charCodeAt(0)-"0".charCodeAt(0);if(d<0||d>9)throw new oe;l+=d}return(1e3-l)%10}}let _s=(()=>{class v extends Je{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(a,l,u){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let h=a.getSize(),p=l[1],y=0;for(let _=0;_<6&&p<h;_++){let x=Je.decodeDigit(a,d,p,Je.L_AND_G_PATTERNS);u+=String.fromCharCode("0".charCodeAt(0)+x%10);for(let A of d)p+=A;x>=10&&(y|=1<<5-_)}u=v.determineFirstDigit(u,y),p=Je.findGuardPattern(a,p,!0,Je.MIDDLE_PATTERN,new Int32Array(Je.MIDDLE_PATTERN.length).fill(0))[1];for(let _=0;_<6&&p<h;_++){let x=Je.decodeDigit(a,d,p,Je.L_PATTERNS);u+=String.fromCharCode("0".charCodeAt(0)+x);for(let A of d)p+=A}return{rowOffset:p,resultString:u}}getBarcodeFormat(){return _e.EAN_13}static determineFirstDigit(a,l){for(let u=0;u<10;u++)if(l===this.FIRST_DIGIT_ENCODINGS[u])return String.fromCharCode("0".charCodeAt(0)+u)+a;throw new G}}return v.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],v})();class qc extends Je{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(s,a,l){const u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=s.getSize(),h=a[1];for(let y=0;y<4&&h<d;y++){let C=Je.decodeDigit(s,u,h,Je.L_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+C);for(let _ of u)h+=_}h=Je.findGuardPattern(s,h,!0,Je.MIDDLE_PATTERN,new Int32Array(Je.MIDDLE_PATTERN.length).fill(0))[1];for(let y=0;y<4&&h<d;y++){let C=Je.decodeDigit(s,u,h,Je.L_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+C);for(let _ of u)h+=_}return{rowOffset:h,resultString:l}}getBarcodeFormat(){return _e.EAN_8}}class Yc extends Je{constructor(){super(...arguments),this.ean13Reader=new _s}getBarcodeFormat(){return _e.UPC_A}decode(s,a){return this.maybeReturnResult(this.ean13Reader.decode(s))}decodeRow(s,a,l){return this.maybeReturnResult(this.ean13Reader.decodeRow(s,a,l))}decodeMiddle(s,a,l){return this.ean13Reader.decodeMiddle(s,a,l)}maybeReturnResult(s){let a=s.getText();if("0"===a.charAt(0)){let l=new At(a.substring(1),null,null,s.getResultPoints(),_e.UPC_A);return null!=s.getResultMetadata()&&l.putAllMetadata(s.getResultMetadata()),l}throw new G}reset(){this.ean13Reader.reset()}}class br extends Je{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(s,a,l){const u=this.decodeMiddleCounters.map(C=>C);u[0]=0,u[1]=0,u[2]=0,u[3]=0;const d=s.getSize();let h=a[1],p=0;for(let C=0;C<6&&h<d;C++){const _=br.decodeDigit(s,u,h,br.L_AND_G_PATTERNS);l+=String.fromCharCode("0".charCodeAt(0)+_%10);for(let x of u)h+=x;_>=10&&(p|=1<<5-C)}return{rowOffset:h,resultString:br.determineNumSysAndCheckDigit(l,p)}}decodeEnd(s,a){return br.findGuardPatternWithoutCounters(s,a,!0,br.MIDDLE_END_PATTERN)}checkChecksum(s){return Je.checkChecksum(br.convertUPCEtoUPCA(s))}static determineNumSysAndCheckDigit(s,a){for(let l=0;l<=1;l++)for(let u=0;u<10;u++)if(a===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[l][u])return String.fromCharCode("0".charCodeAt(0)+l)+s+String.fromCharCode("0".charCodeAt(0)+u);throw G.getNotFoundInstance()}getBarcodeFormat(){return _e.UPC_E}static convertUPCEtoUPCA(s){const a=s.slice(1,7).split("").map(d=>d.charCodeAt(0)),l=new nt;l.append(s.charAt(0));let u=a[5];switch(u){case 0:case 1:case 2:l.appendChars(a,0,2),l.append(u),l.append("0000"),l.appendChars(a,2,3);break;case 3:l.appendChars(a,0,3),l.append("00000"),l.appendChars(a,3,2);break;case 4:l.appendChars(a,0,4),l.append("00000"),l.append(a[4]);break;default:l.appendChars(a,0,5),l.append("0000"),l.append(u)}return s.length>=8&&l.append(s.charAt(7)),l.toString()}}br.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),br.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Es extends Ht{constructor(s){super();let a=null==s?null:s.get(_t.POSSIBLE_FORMATS),l=[];Xe(a)?(l.push(new _s),l.push(new Yc),l.push(new qc),l.push(new br)):(a.indexOf(_e.EAN_13)>-1&&l.push(new _s),a.indexOf(_e.UPC_A)>-1&&l.push(new Yc),a.indexOf(_e.EAN_8)>-1&&l.push(new qc),a.indexOf(_e.UPC_E)>-1&&l.push(new br)),this.readers=l}decodeRow(s,a,l){for(let u of this.readers)try{const d=u.decodeRow(s,a,l),h=d.getBarcodeFormat()===_e.EAN_13&&"0"===d.getText().charAt(0),p=null==l?null:l.get(_t.POSSIBLE_FORMATS),y=null==p||p.includes(_e.UPC_A);if(h&&y){const C=d.getRawBytes(),_=new At(d.getText().substring(1),C,C?C.length:null,d.getResultPoints(),_e.UPC_A);return _.putAllMetadata(d.getResultMetadata()),_}return d}catch{}throw new G}reset(){for(let s of this.readers)s.reset()}}let ni=(()=>{class v extends Ht{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(a,l){for(let u=0;u<l.length;u++)if(Ht.patternMatchVariance(a,l[u],v.MAX_INDIVIDUAL_VARIANCE)<v.MAX_AVG_VARIANCE)return u;throw new G}static count(a){return Ze.sum(new Int32Array(a))}static increment(a,l){let u=0,d=l[0];for(let h=1;h<a.length;h++)l[h]>d&&(d=l[h],u=h);a[u]++}static decrement(a,l){let u=0,d=l[0];for(let h=1;h<a.length;h++)l[h]<d&&(d=l[h],u=h);a[u]--}static isFinderPattern(a){let l=a[0]+a[1],d=l/(l+a[2]+a[3]);if(d>=v.MIN_FINDER_PATTERN_RATIO&&d<=v.MAX_FINDER_PATTERN_RATIO){let h=Number.MAX_SAFE_INTEGER,p=Number.MIN_SAFE_INTEGER;for(let y of a)y>p&&(p=y),y<h&&(h=y);return p<10*h}return!1}}return v.MAX_AVG_VARIANCE=.2,v.MAX_INDIVIDUAL_VARIANCE=.45,v.MIN_FINDER_PATTERN_RATIO=9.5/12,v.MAX_FINDER_PATTERN_RATIO=12.5/14,v})();class Si{constructor(s,a){this.value=s,this.checksumPortion=a}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(s){return s instanceof Si&&this.value===s.value&&this.checksumPortion===s.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class jo{constructor(s,a,l,u,d){this.value=s,this.startEnd=a,this.value=s,this.startEnd=a,this.resultPoints=new Array,this.resultPoints.push(new he(l,d)),this.resultPoints.push(new he(u,d))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(s){return s instanceof jo&&this.value===s.value}hashCode(){return this.value}}class ur{constructor(){}static getRSSvalue(s,a,l){let u=0;for(let y of s)u+=y;let d=0,h=0,p=s.length;for(let y=0;y<p-1;y++){let C;for(C=1,h|=1<<y;C<s[y];C++,h&=~(1<<y)){let _=ur.combins(u-C-1,p-y-2);if(l&&0===h&&u-C-(p-y-1)>=p-y-1&&(_-=ur.combins(u-C-(p-y),p-y-2)),p-y-1>1){let x=0;for(let A=u-C-(p-y-2);A>a;A--)x+=ur.combins(u-C-A-1,p-y-3);_-=x*(p-1-y)}else u-C>a&&_--;d+=_}u-=C}return d}static combins(s,a){let l,u;s-a>a?(u=a,l=s-a):(u=s-a,l=a);let d=1,h=1;for(let p=s;p>l;p--)d*=p,h<=u&&(d/=h,h++);for(;h<=u;)d/=h,h++;return d}}class kf{static buildBitArray(s){let a=2*s.length-1;null==s[s.length-1].getRightChar()&&(a-=1);let u=new mt(12*a),d=0,p=s[0].getRightChar().getValue();for(let y=11;y>=0;--y)p&1<<y&&u.set(d),d++;for(let y=1;y<s.length;++y){let C=s[y],_=C.getLeftChar().getValue();for(let x=11;x>=0;--x)_&1<<x&&u.set(d),d++;if(null!=C.getRightChar()){let x=C.getRightChar().getValue();for(let A=11;A>=0;--A)x&1<<A&&u.set(d),d++}}return u}}class ri{constructor(s,a){a?this.decodedInformation=null:(this.finished=s,this.decodedInformation=a)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class xs{constructor(s){this.newPosition=s}getNewPosition(){return this.newPosition}}let Jn=(()=>{class v extends xs{constructor(a,l){super(a),this.value=l}getValue(){return this.value}isFNC1(){return this.value===v.FNC1}}return v.FNC1="$",v})();class ii extends xs{constructor(s,a,l){super(s),l?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=a}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}let en=(()=>{class v extends xs{constructor(a,l,u){if(super(a),l<0||l>10||u<0||u>10)throw new oe;this.firstDigit=l,this.secondDigit=u}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return 10*this.firstDigit+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===v.FNC1}isSecondDigitFNC1(){return this.secondDigit===v.FNC1}isAnyFNC1(){return this.firstDigit===v.FNC1||this.secondDigit===v.FNC1}}return v.FNC1=10,v})();class ce{constructor(){}static parseFieldsInGeneralPurpose(s){if(!s)return null;if(s.length<2)throw new G;let a=s.substring(0,2);for(let d of ce.TWO_DIGIT_DATA_LENGTH)if(d[0]===a)return d[1]===ce.VARIABLE_LENGTH?ce.processVariableAI(2,d[2],s):ce.processFixedAI(2,d[1],s);if(s.length<3)throw new G;let l=s.substring(0,3);for(let d of ce.THREE_DIGIT_DATA_LENGTH)if(d[0]===l)return d[1]===ce.VARIABLE_LENGTH?ce.processVariableAI(3,d[2],s):ce.processFixedAI(3,d[1],s);for(let d of ce.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(d[0]===l)return d[1]===ce.VARIABLE_LENGTH?ce.processVariableAI(4,d[2],s):ce.processFixedAI(4,d[1],s);if(s.length<4)throw new G;let u=s.substring(0,4);for(let d of ce.FOUR_DIGIT_DATA_LENGTH)if(d[0]===u)return d[1]===ce.VARIABLE_LENGTH?ce.processVariableAI(4,d[2],s):ce.processFixedAI(4,d[1],s);throw new G}static processFixedAI(s,a,l){if(l.length<s)throw new G;let u=l.substring(0,s);if(l.length<s+a)throw new G;let d=l.substring(s,s+a),h=l.substring(s+a),p="("+u+")"+d,y=ce.parseFieldsInGeneralPurpose(h);return null==y?p:p+y}static processVariableAI(s,a,l){let d,u=l.substring(0,s);d=l.length<s+a?l.length:s+a;let h=l.substring(s,d),p=l.substring(d),y="("+u+")"+h,C=ce.parseFieldsInGeneralPurpose(p);return null==C?y:y+C}}ce.VARIABLE_LENGTH=[],ce.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ce.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ce.VARIABLE_LENGTH,20],["22",ce.VARIABLE_LENGTH,29],["30",ce.VARIABLE_LENGTH,8],["37",ce.VARIABLE_LENGTH,8],["90",ce.VARIABLE_LENGTH,30],["91",ce.VARIABLE_LENGTH,30],["92",ce.VARIABLE_LENGTH,30],["93",ce.VARIABLE_LENGTH,30],["94",ce.VARIABLE_LENGTH,30],["95",ce.VARIABLE_LENGTH,30],["96",ce.VARIABLE_LENGTH,30],["97",ce.VARIABLE_LENGTH,3],["98",ce.VARIABLE_LENGTH,30],["99",ce.VARIABLE_LENGTH,30]],ce.THREE_DIGIT_DATA_LENGTH=[["240",ce.VARIABLE_LENGTH,30],["241",ce.VARIABLE_LENGTH,30],["242",ce.VARIABLE_LENGTH,6],["250",ce.VARIABLE_LENGTH,30],["251",ce.VARIABLE_LENGTH,30],["253",ce.VARIABLE_LENGTH,17],["254",ce.VARIABLE_LENGTH,20],["400",ce.VARIABLE_LENGTH,30],["401",ce.VARIABLE_LENGTH,30],["402",17],["403",ce.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ce.VARIABLE_LENGTH,20],["421",ce.VARIABLE_LENGTH,15],["422",3],["423",ce.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ce.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ce.VARIABLE_LENGTH,15],["391",ce.VARIABLE_LENGTH,18],["392",ce.VARIABLE_LENGTH,15],["393",ce.VARIABLE_LENGTH,18],["703",ce.VARIABLE_LENGTH,30]],ce.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ce.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ce.VARIABLE_LENGTH,20],["8003",ce.VARIABLE_LENGTH,30],["8004",ce.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ce.VARIABLE_LENGTH,30],["8008",ce.VARIABLE_LENGTH,12],["8018",18],["8020",ce.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ce.VARIABLE_LENGTH,70],["8200",ce.VARIABLE_LENGTH,70]];class ro{constructor(s){this.buffer=new nt,this.information=s}decodeAllCodes(s,a){let l=a,u=null;for(;;){let d=this.decodeGeneralPurposeField(l,u),h=ce.parseFieldsInGeneralPurpose(d.getNewString());if(null!=h&&s.append(h),u=d.isRemaining()?""+d.getRemainingValue():null,l===d.getNewPosition())break;l=d.getNewPosition()}return s.toString()}isStillNumeric(s){if(s+7>this.information.getSize())return s+4<=this.information.getSize();for(let a=s;a<s+3;++a)if(this.information.get(a))return!0;return this.information.get(s+3)}decodeNumeric(s){if(s+7>this.information.getSize()){let d=this.extractNumericValueFromBitArray(s,4);return new en(this.information.getSize(),0===d?en.FNC1:d-1,en.FNC1)}let a=this.extractNumericValueFromBitArray(s,7);return new en(s+7,(a-8)/11,(a-8)%11)}extractNumericValueFromBitArray(s,a){return ro.extractNumericValueFromBitArray(this.information,s,a)}static extractNumericValueFromBitArray(s,a,l){let u=0;for(let d=0;d<l;++d)s.get(a+d)&&(u|=1<<l-d-1);return u}decodeGeneralPurposeField(s,a){this.buffer.setLengthToZero(),null!=a&&this.buffer.append(a),this.current.setPosition(s);let l=this.parseBlocks();return null!=l&&l.isRemaining()?new ii(this.current.getPosition(),this.buffer.toString(),l.getRemainingValue()):new ii(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let s,a;do{let l=this.current.getPosition();if(this.current.isAlpha()?(a=this.parseAlphaBlock(),s=a.isFinished()):this.current.isIsoIec646()?(a=this.parseIsoIec646Block(),s=a.isFinished()):(a=this.parseNumericBlock(),s=a.isFinished()),l===this.current.getPosition()&&!s)break}while(!s);return a.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let s=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFirstDigitFNC1()){let a;return a=s.isSecondDigitFNC1()?new ii(this.current.getPosition(),this.buffer.toString()):new ii(this.current.getPosition(),this.buffer.toString(),s.getSecondDigit()),new ri(!0,a)}if(this.buffer.append(s.getFirstDigit()),s.isSecondDigitFNC1()){let a=new ii(this.current.getPosition(),this.buffer.toString());return new ri(!0,a)}this.buffer.append(s.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new ri(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let s=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let a=new ii(this.current.getPosition(),this.buffer.toString());return new ri(!0,a)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new ri(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let s=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(s.getNewPosition()),s.isFNC1()){let a=new ii(this.current.getPosition(),this.buffer.toString());return new ri(!0,a)}this.buffer.append(s.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new ri(!1)}isStillIsoIec646(s){if(s+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(s,5);if(a>=5&&a<16)return!0;if(s+7>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(s,7);if(l>=64&&l<116)return!0;if(s+8>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(s,8);return u>=232&&u<253}decodeIsoIec646(s){let a=this.extractNumericValueFromBitArray(s,5);if(15===a)return new Jn(s+5,Jn.FNC1);if(a>=5&&a<15)return new Jn(s+5,"0"+(a-5));let d,l=this.extractNumericValueFromBitArray(s,7);if(l>=64&&l<90)return new Jn(s+7,""+(l+1));if(l>=90&&l<116)return new Jn(s+7,""+(l+7));switch(this.extractNumericValueFromBitArray(s,8)){case 232:d="!";break;case 233:d='"';break;case 234:d="%";break;case 235:d="&";break;case 236:d="'";break;case 237:d="(";break;case 238:d=")";break;case 239:d="*";break;case 240:d="+";break;case 241:d=",";break;case 242:d="-";break;case 243:d=".";break;case 244:d="/";break;case 245:d=":";break;case 246:d=";";break;case 247:d="<";break;case 248:d="=";break;case 249:d=">";break;case 250:d="?";break;case 251:d="_";break;case 252:d=" ";break;default:throw new oe}return new Jn(s+8,d)}isStillAlpha(s){if(s+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(s,5);if(a>=5&&a<16)return!0;if(s+6>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(s,6);return l>=16&&l<63}decodeAlphanumeric(s){let a=this.extractNumericValueFromBitArray(s,5);if(15===a)return new Jn(s+5,Jn.FNC1);if(a>=5&&a<15)return new Jn(s+5,"0"+(a-5));let u,l=this.extractNumericValueFromBitArray(s,6);if(l>=32&&l<58)return new Jn(s+6,""+(l+33));switch(l){case 58:u="*";break;case 59:u=",";break;case 60:u="-";break;case 61:u=".";break;case 62:u="/";break;default:throw new zr("Decoding invalid alphanumeric value: "+l)}return new Jn(s+6,u)}isAlphaTo646ToAlphaLatch(s){if(s+1>this.information.getSize())return!1;for(let a=0;a<5&&a+s<this.information.getSize();++a)if(2===a){if(!this.information.get(s+2))return!1}else if(this.information.get(s+a))return!1;return!0}isAlphaOr646ToNumericLatch(s){if(s+3>this.information.getSize())return!1;for(let a=s;a<s+3;++a)if(this.information.get(a))return!1;return!0}isNumericToAlphaNumericLatch(s){if(s+1>this.information.getSize())return!1;for(let a=0;a<4&&a+s<this.information.getSize();++a)if(this.information.get(s+a))return!1;return!0}}class nl{constructor(s){this.information=s,this.generalDecoder=new ro(s)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}let dr=(()=>{class v extends nl{constructor(a){super(a)}encodeCompressedGtin(a,l){a.append("(01)");let u=a.length();a.append("9"),this.encodeCompressedGtinWithoutAI(a,l,u)}encodeCompressedGtinWithoutAI(a,l,u){for(let d=0;d<4;++d){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(l+10*d,10);h/100==0&&a.append("0"),h/10==0&&a.append("0"),a.append(h)}v.appendCheckDigit(a,u)}static appendCheckDigit(a,l){let u=0;for(let d=0;d<13;d++){let h=a.charAt(d+l).charCodeAt(0)-"0".charCodeAt(0);u+=1&d?h:3*h}u=10-u%10,10===u&&(u=0),a.append(u)}}return v.GTIN_SIZE=40,v})(),Xc=(()=>{class v extends dr{constructor(a){super(a)}parseInformation(){let a=new nt;a.append("(01)");let l=a.length(),u=this.getGeneralDecoder().extractNumericValueFromBitArray(v.HEADER_SIZE,4);return a.append(u),this.encodeCompressedGtinWithoutAI(a,v.HEADER_SIZE+4,l),this.getGeneralDecoder().decodeAllCodes(a,v.HEADER_SIZE+44)}}return v.HEADER_SIZE=4,v})(),Bf=(()=>{class v extends nl{constructor(a){super(a)}parseInformation(){let a=new nt;return this.getGeneralDecoder().decodeAllCodes(a,v.HEADER_SIZE)}}return v.HEADER_SIZE=5,v})();class As extends dr{constructor(s){super(s)}encodeCompressedWeight(s,a,l){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(a,l);this.addWeightCode(s,u);let d=this.checkWeight(u),h=1e5;for(let p=0;p<5;++p)d/h==0&&s.append("0"),h/=10;s.append(d)}}let Ir=(()=>{class v extends As{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()!=v.HEADER_SIZE+As.GTIN_SIZE+v.WEIGHT_SIZE)throw new G;let a=new nt;return this.encodeCompressedGtin(a,v.HEADER_SIZE),this.encodeCompressedWeight(a,v.HEADER_SIZE+As.GTIN_SIZE,v.WEIGHT_SIZE),a.toString()}}return v.HEADER_SIZE=5,v.WEIGHT_SIZE=15,v})();class Vf extends Ir{constructor(s){super(s)}addWeightCode(s,a){s.append("(3103)")}checkWeight(s){return s}}class ln extends Ir{constructor(s){super(s)}addWeightCode(s,a){s.append(a<1e4?"(3202)":"(3203)")}checkWeight(s){return s<1e4?s:s-1e4}}let io=(()=>{class v extends dr{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()<v.HEADER_SIZE+dr.GTIN_SIZE)throw new G;let a=new nt;this.encodeCompressedGtin(a,v.HEADER_SIZE);let l=this.getGeneralDecoder().extractNumericValueFromBitArray(v.HEADER_SIZE+dr.GTIN_SIZE,v.LAST_DIGIT_SIZE);a.append("(392"),a.append(l),a.append(")");let u=this.getGeneralDecoder().decodeGeneralPurposeField(v.HEADER_SIZE+dr.GTIN_SIZE+v.LAST_DIGIT_SIZE,null);return a.append(u.getNewString()),a.toString()}}return v.HEADER_SIZE=8,v.LAST_DIGIT_SIZE=2,v})(),Sr=(()=>{class v extends dr{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()<v.HEADER_SIZE+dr.GTIN_SIZE)throw new G;let a=new nt;this.encodeCompressedGtin(a,v.HEADER_SIZE);let l=this.getGeneralDecoder().extractNumericValueFromBitArray(v.HEADER_SIZE+dr.GTIN_SIZE,v.LAST_DIGIT_SIZE);a.append("(393"),a.append(l),a.append(")");let u=this.getGeneralDecoder().extractNumericValueFromBitArray(v.HEADER_SIZE+dr.GTIN_SIZE+v.LAST_DIGIT_SIZE,v.FIRST_THREE_DIGITS_SIZE);u/100==0&&a.append("0"),u/10==0&&a.append("0"),a.append(u);let d=this.getGeneralDecoder().decodeGeneralPurposeField(v.HEADER_SIZE+dr.GTIN_SIZE+v.LAST_DIGIT_SIZE+v.FIRST_THREE_DIGITS_SIZE,null);return a.append(d.getNewString()),a.toString()}}return v.HEADER_SIZE=8,v.LAST_DIGIT_SIZE=2,v.FIRST_THREE_DIGITS_SIZE=10,v})(),Ti=(()=>{class v extends As{constructor(a,l,u){super(a),this.dateCode=u,this.firstAIdigits=l}parseInformation(){if(this.getInformation().getSize()!=v.HEADER_SIZE+v.GTIN_SIZE+v.WEIGHT_SIZE+v.DATE_SIZE)throw new G;let a=new nt;return this.encodeCompressedGtin(a,v.HEADER_SIZE),this.encodeCompressedWeight(a,v.HEADER_SIZE+v.GTIN_SIZE,v.WEIGHT_SIZE),this.encodeCompressedDate(a,v.HEADER_SIZE+v.GTIN_SIZE+v.WEIGHT_SIZE),a.toString()}encodeCompressedDate(a,l){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(l,v.DATE_SIZE);if(38400==u)return;a.append("("),a.append(this.dateCode),a.append(")");let d=u%32;u/=32;let h=u%12+1;u/=12;let p=u;p/10==0&&a.append("0"),a.append(p),h/10==0&&a.append("0"),a.append(h),d/10==0&&a.append("0"),a.append(d)}addWeightCode(a,l){a.append("("),a.append(this.firstAIdigits),a.append(l/1e5),a.append(")")}checkWeight(a){return a%1e5}}return v.HEADER_SIZE=8,v.WEIGHT_SIZE=20,v.DATE_SIZE=16,v})();function Zc(v){try{if(v.get(1))return new Xc(v);if(!v.get(2))return new Bf(v);switch(ro.extractNumericValueFromBitArray(v,1,4)){case 4:return new Vf(v);case 5:return new ln(v)}switch(ro.extractNumericValueFromBitArray(v,1,5)){case 12:return new io(v);case 13:return new Sr(v)}switch(ro.extractNumericValueFromBitArray(v,1,7)){case 56:return new Ti(v,"310","11");case 57:return new Ti(v,"320","11");case 58:return new Ti(v,"310","13");case 59:return new Ti(v,"320","13");case 60:return new Ti(v,"310","15");case 61:return new Ti(v,"320","15");case 62:return new Ti(v,"310","17");case 63:return new Ti(v,"320","17")}}catch(s){throw console.log(s),new zr("unknown decoder: "+v)}}class oi{constructor(s,a,l,u){this.leftchar=s,this.rightchar=a,this.finderpattern=l,this.maybeLast=u}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return null==this.rightchar}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(null==this.finderpattern?"null":this.finderpattern.getValue())+" ]"}static equals(s,a){return s instanceof oi&&oi.equalsOrNull(s.leftchar,a.leftchar)&&oi.equalsOrNull(s.rightchar,a.rightchar)&&oi.equalsOrNull(s.finderpattern,a.finderpattern)}static equalsOrNull(s,a){return null===s?null===a:oi.equals(s,a)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Ho{constructor(s,a,l){this.pairs=s,this.rowNumber=a,this.wasReversed=l}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(s){return this.checkEqualitity(this,s)}toString(){return"{ "+this.pairs+" }"}equals(s,a){return s instanceof Ho&&this.checkEqualitity(s,a)&&s.wasReversed===a.wasReversed}checkEqualitity(s,a){if(!s||!a)return;let l;return s.forEach((u,d)=>{a.forEach(h=>{u.getLeftChar().getValue()===h.getLeftChar().getValue()&&u.getRightChar().getValue()===h.getRightChar().getValue()&&u.getFinderPatter().getValue()===h.getFinderPatter().getValue()&&(l=!0)})}),l}}class q extends ni{constructor(s){super(...arguments),this.pairs=new Array(q.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=!0===s}decodeRow(s,a,l){this.pairs.length=0,this.startFromEven=!1;try{return q.constructResult(this.decodeRow2pairs(s,a))}catch(u){this.verbose&&console.log(u)}return this.pairs.length=0,this.startFromEven=!0,q.constructResult(this.decodeRow2pairs(s,a))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(s,a){let u,l=!1;for(;!l;)try{this.pairs.push(this.retrieveNextPair(a,this.pairs,s))}catch(d){if(d instanceof G){if(!this.pairs.length)throw new G;l=!0}}if(this.checkChecksum())return this.pairs;if(u=!!this.rows.length,this.storeRow(s,!1),u){let d=this.checkRowsBoolean(!1);if(null!=d||(d=this.checkRowsBoolean(!0),null!=d))return d}throw new G}checkRowsBoolean(s){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,s&&(this.rows=this.rows.reverse());let a=null;try{a=this.checkRows(new Array,0)}catch(l){this.verbose&&console.log(l)}return s&&(this.rows=this.rows.reverse()),a}checkRows(s,a){for(let l=a;l<this.rows.length;l++){let u=this.rows[l];this.pairs.length=0;for(let h of s)this.pairs.push(h.getPairs());if(this.pairs.push(u.getPairs()),!q.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let d=new Array(s);d.push(u);try{return this.checkRows(d,l+1)}catch(h){this.verbose&&console.log(h)}}throw new G}static isValidSequence(s){for(let a of q.FINDER_PATTERN_SEQUENCES){if(s.length>a.length)continue;let l=!0;for(let u=0;u<s.length;u++)if(s[u].getFinderPattern().getValue()!=a[u]){l=!1;break}if(l)return!0}return!1}storeRow(s,a){let l=0,u=!1,d=!1;for(;l<this.rows.length;){let h=this.rows[l];if(h.getRowNumber()>s){d=h.isEquivalent(this.pairs);break}u=h.isEquivalent(this.pairs),l++}d||u||q.isPartialRow(this.pairs,this.rows)||(this.rows.push(l,new Ho(this.pairs,s,a)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(s,a){for(let l of a)if(l.getPairs().length!==s.length)for(let u of l.getPairs())for(let d of s)if(oi.equals(u,d))break}static isPartialRow(s,a){for(let l of a){let u=!0;for(let d of s){let h=!1;for(let p of l.getPairs())if(d.equals(p)){h=!0;break}if(!h){u=!1;break}}if(u)return!0}return!1}getRows(){return this.rows}static constructResult(s){let u=Zc(kf.buildBitArray(s)).parseInformation(),d=s[0].getFinderPattern().getResultPoints(),h=s[s.length-1].getFinderPattern().getResultPoints();return new At(u,null,null,[d[0],d[1],h[0],h[1]],_e.RSS_EXPANDED,null)}checkChecksum(){let s=this.pairs.get(0),a=s.getLeftChar(),l=s.getRightChar();if(null==l)return!1;let u=l.getChecksumPortion(),d=2;for(let p=1;p<this.pairs.size();++p){let y=this.pairs.get(p);u+=y.getLeftChar().getChecksumPortion(),d++;let C=y.getRightChar();null!=C&&(u+=C.getChecksumPortion(),d++)}return u%=211,211*(d-4)+u==a.getValue()}static getNextSecondBar(s,a){let l;return s.get(a)?(l=s.getNextUnset(a),l=s.getNextSet(l)):(l=s.getNextSet(a),l=s.getNextUnset(l)),l}retrieveNextPair(s,a,l){let u=a.length%2==0;this.startFromEven&&(u=!u);let d,h=!0,p=-1;do{this.findNextPair(s,a,p),d=this.parseFoundFinderPattern(s,l,u),null==d?p=q.getNextSecondBar(s,this.startEnd[0]):h=!1}while(h);let C,y=this.decodeDataCharacter(s,d,u,!0);if(!this.isEmptyPair(a)&&a[a.length-1].mustBeLast())throw new G;try{C=this.decodeDataCharacter(s,d,u,!1)}catch(_){C=null,this.verbose&&console.log(_)}return new oi(y,C,d,!0)}isEmptyPair(s){return 0===s.length}findNextPair(s,a,l){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let h,d=s.getSize();h=l>=0?l:this.isEmptyPair(a)?0:a[a.length-1].getFinderPattern().getStartEnd()[1];let p=a.length%2!=0;this.startFromEven&&(p=!p);let y=!1;for(;h<d&&(y=!s.get(h),y);)h++;let C=0,_=h;for(let x=h;x<d;x++)if(s.get(x)!=y)u[C]++;else{if(3==C){if(p&&q.reverseCounters(u),q.isFinderPattern(u))return this.startEnd[0]=_,void(this.startEnd[1]=x);p&&q.reverseCounters(u),_+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,C--}else C++;u[C]=1,y=!y}throw new G}static reverseCounters(s){let a=s.length;for(let l=0;l<a/2;++l){let u=s[l];s[l]=s[a-l-1],s[a-l-1]=u}}parseFoundFinderPattern(s,a,l){let u,d,h;if(l){let C=this.startEnd[0]-1;for(;C>=0&&!s.get(C);)C--;C++,u=this.startEnd[0]-C,d=C,h=this.startEnd[1]}else d=this.startEnd[0],h=s.getNextUnset(this.startEnd[1]+1),u=h-this.startEnd[1];let y,p=this.getDecodeFinderCounters();gt.arraycopy(p,0,p,1,p.length-1),p[0]=u;try{y=this.parseFinderValue(p,q.FINDER_PATTERNS)}catch{return null}return new jo(y,[d,h],d,h,a)}decodeDataCharacter(s,a,l,u){let d=this.getDataCharacterCounters();for(let pt=0;pt<d.length;pt++)d[pt]=0;if(u)q.recordPatternInReverse(s,a.getStartEnd()[0],d);else{q.recordPattern(s,a.getStartEnd()[1],d);for(let pt=0,un=d.length-1;pt<un;pt++,un--){let zn=d[pt];d[pt]=d[un],d[un]=zn}}let p=Ze.sum(new Int32Array(d))/17,y=(a.getStartEnd()[1]-a.getStartEnd()[0])/15;if(Math.abs(p-y)/y>.3)throw new G;let C=this.getOddCounts(),_=this.getEvenCounts(),x=this.getOddRoundingErrors(),A=this.getEvenRoundingErrors();for(let pt=0;pt<d.length;pt++){let un=1*d[pt]/p,zn=un+.5;if(zn<1){if(un<.3)throw new G;zn=1}else if(zn>8){if(un>8.7)throw new G;zn=8}let lo=pt/2;1&pt?(_[lo]=zn,A[lo]=un-zn):(C[lo]=zn,x[lo]=un-zn)}this.adjustOddEvenCounts(17);let S=4*a.getValue()+(l?0:2)+(u?0:1)-1,N=0,O=0;for(let pt=C.length-1;pt>=0;pt--)q.isNotA1left(a,l,u)&&(O+=C[pt]*q.WEIGHTS[S][2*pt]),N+=C[pt];let L=0;for(let pt=_.length-1;pt>=0;pt--)q.isNotA1left(a,l,u)&&(L+=_[pt]*q.WEIGHTS[S][2*pt+1]);let U=O+L;if(1&N||N>13||N<4)throw new G;let Q=(13-N)/2,J=q.SYMBOL_WIDEST[Q],W=9-J,Ue=ur.getRSSvalue(C,J,!0),Re=ur.getRSSvalue(_,W,!1);return new Si(Ue*q.EVEN_TOTAL_SUBSET[Q]+Re+q.GSUM[Q],U)}static isNotA1left(s,a,l){return!(0==s.getValue()&&a&&l)}adjustOddEvenCounts(s){let a=Ze.sum(new Int32Array(this.getOddCounts())),l=Ze.sum(new Int32Array(this.getEvenCounts())),u=!1,d=!1;a>13?d=!0:a<4&&(u=!0);let h=!1,p=!1;l>13?p=!0:l<4&&(h=!0);let y=a+l-s,C=1==(1&a),_=0==(1&l);if(1==y)if(C){if(_)throw new G;d=!0}else{if(!_)throw new G;p=!0}else if(-1==y)if(C){if(_)throw new G;u=!0}else{if(!_)throw new G;h=!0}else{if(0!=y)throw new G;if(C){if(!_)throw new G;a<l?(u=!0,p=!0):(d=!0,h=!0)}else if(_)throw new G}if(u){if(d)throw new G;q.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&q.decrement(this.getOddCounts(),this.getOddRoundingErrors()),h){if(p)throw new G;q.increment(this.getEvenCounts(),this.getOddRoundingErrors())}p&&q.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}q.SYMBOL_WIDEST=[7,5,4,3,1],q.EVEN_TOTAL_SUBSET=[4,20,52,104,204],q.GSUM=[0,348,1388,2948,3988],q.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],q.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],q.FINDER_PAT_A=0,q.FINDER_PAT_B=1,q.FINDER_PAT_C=2,q.FINDER_PAT_D=3,q.FINDER_PAT_E=4,q.FINDER_PAT_F=5,q.FINDER_PATTERN_SEQUENCES=[[q.FINDER_PAT_A,q.FINDER_PAT_A],[q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B],[q.FINDER_PAT_A,q.FINDER_PAT_C,q.FINDER_PAT_B,q.FINDER_PAT_D],[q.FINDER_PAT_A,q.FINDER_PAT_E,q.FINDER_PAT_B,q.FINDER_PAT_D,q.FINDER_PAT_C],[q.FINDER_PAT_A,q.FINDER_PAT_E,q.FINDER_PAT_B,q.FINDER_PAT_D,q.FINDER_PAT_D,q.FINDER_PAT_F],[q.FINDER_PAT_A,q.FINDER_PAT_E,q.FINDER_PAT_B,q.FINDER_PAT_D,q.FINDER_PAT_E,q.FINDER_PAT_F,q.FINDER_PAT_F],[q.FINDER_PAT_A,q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B,q.FINDER_PAT_C,q.FINDER_PAT_C,q.FINDER_PAT_D,q.FINDER_PAT_D],[q.FINDER_PAT_A,q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B,q.FINDER_PAT_C,q.FINDER_PAT_C,q.FINDER_PAT_D,q.FINDER_PAT_E,q.FINDER_PAT_E],[q.FINDER_PAT_A,q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B,q.FINDER_PAT_C,q.FINDER_PAT_C,q.FINDER_PAT_D,q.FINDER_PAT_E,q.FINDER_PAT_F,q.FINDER_PAT_F],[q.FINDER_PAT_A,q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B,q.FINDER_PAT_C,q.FINDER_PAT_D,q.FINDER_PAT_D,q.FINDER_PAT_E,q.FINDER_PAT_E,q.FINDER_PAT_F,q.FINDER_PAT_F]],q.MAX_PAIRS=11;class zo extends Si{constructor(s,a,l){super(s,a),this.count=0,this.finderPattern=l}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Rt extends ni{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(s,a,l){const u=this.decodePair(a,!1,s,l);Rt.addOrTally(this.possibleLeftPairs,u),a.reverse();let d=this.decodePair(a,!0,s,l);Rt.addOrTally(this.possibleRightPairs,d),a.reverse();for(let h of this.possibleLeftPairs)if(h.getCount()>1)for(let p of this.possibleRightPairs)if(p.getCount()>1&&Rt.checkChecksum(h,p))return Rt.constructResult(h,p);throw new G}static addOrTally(s,a){if(null==a)return;let l=!1;for(let u of s)if(u.getValue()===a.getValue()){u.incrementCount(),l=!0;break}l||s.push(a)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(s,a){let l=4537077*s.getValue()+a.getValue(),u=new String(l).toString(),d=new nt;for(let C=13-u.length;C>0;C--)d.append("0");d.append(u);let h=0;for(let C=0;C<13;C++){let _=d.charAt(C).charCodeAt(0)-"0".charCodeAt(0);h+=1&C?_:3*_}h=10-h%10,10===h&&(h=0),d.append(h.toString());let p=s.getFinderPattern().getResultPoints(),y=a.getFinderPattern().getResultPoints();return new At(d.toString(),null,0,[p[0],p[1],y[0],y[1]],_e.RSS_14,(new Date).getTime())}static checkChecksum(s,a){let l=(s.getChecksumPortion()+16*a.getChecksumPortion())%79,u=9*s.getFinderPattern().getValue()+a.getFinderPattern().getValue();return u>72&&u--,u>8&&u--,l===u}decodePair(s,a,l,u){try{let d=this.findFinderPattern(s,a),h=this.parseFoundFinderPattern(s,l,a,d),p=null==u?null:u.get(_t.NEED_RESULT_POINT_CALLBACK);if(null!=p){let _=(d[0]+d[1])/2;a&&(_=s.getSize()-1-_),p.foundPossibleResultPoint(new he(_,l))}let y=this.decodeDataCharacter(s,h,!0),C=this.decodeDataCharacter(s,h,!1);return new zo(1597*y.getValue()+C.getValue(),y.getChecksumPortion()+4*C.getChecksumPortion(),h)}catch{return null}}decodeDataCharacter(s,a,l){let u=this.getDataCharacterCounters();for(let L=0;L<u.length;L++)u[L]=0;if(l)Ht.recordPatternInReverse(s,a.getStartEnd()[0],u);else{Ht.recordPattern(s,a.getStartEnd()[1]+1,u);for(let L=0,U=u.length-1;L<U;L++,U--){let Q=u[L];u[L]=u[U],u[U]=Q}}let d=l?16:15,h=Ze.sum(new Int32Array(u))/d,p=this.getOddCounts(),y=this.getEvenCounts(),C=this.getOddRoundingErrors(),_=this.getEvenRoundingErrors();for(let L=0;L<u.length;L++){let U=u[L]/h,Q=Math.floor(U+.5);Q<1?Q=1:Q>8&&(Q=8);let J=Math.floor(L/2);1&L?(y[J]=Q,_[J]=U-Q):(p[J]=Q,C[J]=U-Q)}this.adjustOddEvenCounts(l,d);let x=0,A=0;for(let L=p.length-1;L>=0;L--)A*=9,A+=p[L],x+=p[L];let S=0,N=0;for(let L=y.length-1;L>=0;L--)S*=9,S+=y[L],N+=y[L];let O=A+3*S;if(l){if(1&x||x>12||x<4)throw new G;let L=(12-x)/2,U=Rt.OUTSIDE_ODD_WIDEST[L],Q=9-U,J=ur.getRSSvalue(p,U,!1),W=ur.getRSSvalue(y,Q,!0);return new Si(J*Rt.OUTSIDE_EVEN_TOTAL_SUBSET[L]+W+Rt.OUTSIDE_GSUM[L],O)}{if(1&N||N>10||N<4)throw new G;let L=(10-N)/2,U=Rt.INSIDE_ODD_WIDEST[L],Q=9-U,J=ur.getRSSvalue(p,U,!0),W=ur.getRSSvalue(y,Q,!1);return new Si(W*Rt.INSIDE_ODD_TOTAL_SUBSET[L]+J+Rt.INSIDE_GSUM[L],O)}}findFinderPattern(s,a){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=s.getSize(),d=!1,h=0;for(;h<u&&(d=!s.get(h),a!==d);)h++;let p=0,y=h;for(let C=h;C<u;C++)if(s.get(C)!==d)l[p]++;else{if(3===p){if(ni.isFinderPattern(l))return[y,C];y+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,p--}else p++;l[p]=1,d=!d}throw new G}parseFoundFinderPattern(s,a,l,u){let d=s.get(u[0]),h=u[0]-1;for(;h>=0&&d!==s.get(h);)h--;h++;const p=u[0]-h,y=this.getDecodeFinderCounters(),C=new Int32Array(y.length);gt.arraycopy(y,0,C,1,y.length-1),C[0]=p;const _=this.parseFinderValue(C,Rt.FINDER_PATTERNS);let x=h,A=u[1];return l&&(x=s.getSize()-1-x,A=s.getSize()-1-A),new jo(_,[h,u[1]],x,A,a)}adjustOddEvenCounts(s,a){let l=Ze.sum(new Int32Array(this.getOddCounts())),u=Ze.sum(new Int32Array(this.getEvenCounts())),d=!1,h=!1,p=!1,y=!1;s?(l>12?h=!0:l<4&&(d=!0),u>12?y=!0:u<4&&(p=!0)):(l>11?h=!0:l<5&&(d=!0),u>10?y=!0:u<4&&(p=!0));let C=l+u-a,_=(1&l)==(s?1:0),x=1==(1&u);if(1===C)if(_){if(x)throw new G;h=!0}else{if(!x)throw new G;y=!0}else if(-1===C)if(_){if(x)throw new G;d=!0}else{if(!x)throw new G;p=!0}else{if(0!==C)throw new G;if(_){if(!x)throw new G;l<u?(d=!0,y=!0):(h=!0,p=!0)}else if(x)throw new G}if(d){if(h)throw new G;ni.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(h&&ni.decrement(this.getOddCounts(),this.getOddRoundingErrors()),p){if(y)throw new G;ni.increment(this.getEvenCounts(),this.getOddRoundingErrors())}y&&ni.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Rt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Rt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Rt.OUTSIDE_GSUM=[0,161,961,2015,2715],Rt.INSIDE_GSUM=[0,336,1036,1516],Rt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Rt.INSIDE_ODD_WIDEST=[2,4,6,8],Rt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Mi extends Ht{constructor(s,a){super(),this.readers=[],this.verbose=!0===a;const l=s?s.get(_t.POSSIBLE_FORMATS):null,u=s&&void 0!==s.get(_t.ASSUME_CODE_39_CHECK_DIGIT);l?((l.includes(_e.EAN_13)||l.includes(_e.UPC_A)||l.includes(_e.EAN_8)||l.includes(_e.UPC_E))&&this.readers.push(new Es(s)),l.includes(_e.CODE_39)&&this.readers.push(new el(u)),l.includes(_e.CODE_128)&&this.readers.push(new re),l.includes(_e.ITF)&&this.readers.push(new yt),l.includes(_e.RSS_14)&&this.readers.push(new Rt),l.includes(_e.RSS_EXPANDED)&&this.readers.push(new q(this.verbose))):(this.readers.push(new Es(s)),this.readers.push(new el),this.readers.push(new Es(s)),this.readers.push(new re),this.readers.push(new yt),this.readers.push(new Rt),this.readers.push(new q(this.verbose)))}decodeRow(s,a,l){for(let u=0;u<this.readers.length;u++)try{return this.readers[u].decodeRow(s,a,l)}catch{}throw new G}reset(){this.readers.forEach(s=>s.reset())}}class rt{constructor(s,a,l){this.ecCodewords=s,this.ecBlocks=[a],l&&this.ecBlocks.push(l)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class et{constructor(s,a){this.count=s,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ge{constructor(s,a,l,u,d,h){this.versionNumber=s,this.symbolSizeRows=a,this.symbolSizeColumns=l,this.dataRegionSizeRows=u,this.dataRegionSizeColumns=d,this.ecBlocks=h;let p=0;const y=h.getECCodewords(),C=h.getECBlocks();for(let _ of C)p+=_.getCount()*(_.getDataCodewords()+y);this.totalCodewords=p}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(s,a){if(1&s||1&a)throw new oe;for(let l of Ge.VERSIONS)if(l.symbolSizeRows===s&&l.symbolSizeColumns===a)return l;throw new oe}toString(){return""+this.versionNumber}static buildVersions(){return[new Ge(1,10,10,8,8,new rt(5,new et(1,3))),new Ge(2,12,12,10,10,new rt(7,new et(1,5))),new Ge(3,14,14,12,12,new rt(10,new et(1,8))),new Ge(4,16,16,14,14,new rt(12,new et(1,12))),new Ge(5,18,18,16,16,new rt(14,new et(1,18))),new Ge(6,20,20,18,18,new rt(18,new et(1,22))),new Ge(7,22,22,20,20,new rt(20,new et(1,30))),new Ge(8,24,24,22,22,new rt(24,new et(1,36))),new Ge(9,26,26,24,24,new rt(28,new et(1,44))),new Ge(10,32,32,14,14,new rt(36,new et(1,62))),new Ge(11,36,36,16,16,new rt(42,new et(1,86))),new Ge(12,40,40,18,18,new rt(48,new et(1,114))),new Ge(13,44,44,20,20,new rt(56,new et(1,144))),new Ge(14,48,48,22,22,new rt(68,new et(1,174))),new Ge(15,52,52,24,24,new rt(42,new et(2,102))),new Ge(16,64,64,14,14,new rt(56,new et(2,140))),new Ge(17,72,72,16,16,new rt(36,new et(4,92))),new Ge(18,80,80,18,18,new rt(48,new et(4,114))),new Ge(19,88,88,20,20,new rt(56,new et(4,144))),new Ge(20,96,96,22,22,new rt(68,new et(4,174))),new Ge(21,104,104,24,24,new rt(56,new et(6,136))),new Ge(22,120,120,18,18,new rt(68,new et(6,175))),new Ge(23,132,132,20,20,new rt(62,new et(8,163))),new Ge(24,144,144,22,22,new rt(62,new et(8,156),new et(2,155))),new Ge(25,8,18,6,16,new rt(7,new et(1,5))),new Ge(26,8,32,6,14,new rt(11,new et(1,10))),new Ge(27,12,26,10,24,new rt(14,new et(1,16))),new Ge(28,12,36,10,16,new rt(18,new et(1,22))),new Ge(29,16,36,14,16,new rt(24,new et(1,32))),new Ge(30,16,48,14,22,new rt(28,new et(1,49)))]}}Ge.VERSIONS=Ge.buildVersions();class rl{constructor(s){const a=s.getHeight();if(a<8||a>144||1&a)throw new oe;this.version=rl.readVersion(s),this.mappingBitMatrix=this.extractDataRegion(s),this.readMappingMatrix=new Jt(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(s){const a=s.getHeight(),l=s.getWidth();return Ge.getVersionForDimensions(a,l)}readCodewords(){const s=new Int8Array(this.version.getTotalCodewords());let a=0,l=4,u=0;const d=this.mappingBitMatrix.getHeight(),h=this.mappingBitMatrix.getWidth();let p=!1,y=!1,C=!1,_=!1;do{if(l!==d||0!==u||p)if(l===d-2&&0===u&&3&h&&!y)s[a++]=255&this.readCorner2(d,h),l-=2,u+=2,y=!0;else if(l!==d+4||2!==u||7&h||C)if(l!==d-2||0!==u||4!=(7&h)||_){do{l<d&&u>=0&&!this.readMappingMatrix.get(u,l)&&(s[a++]=255&this.readUtah(l,u,d,h)),l-=2,u+=2}while(l>=0&&u<h);l+=1,u+=3;do{l>=0&&u<h&&!this.readMappingMatrix.get(u,l)&&(s[a++]=255&this.readUtah(l,u,d,h)),l+=2,u-=2}while(l<d&&u>=0);l+=3,u+=1}else s[a++]=255&this.readCorner4(d,h),l-=2,u+=2,_=!0;else s[a++]=255&this.readCorner3(d,h),l-=2,u+=2,C=!0;else s[a++]=255&this.readCorner1(d,h),l-=2,u+=2,p=!0}while(l<d||u<h);if(a!==this.version.getTotalCodewords())throw new oe;return s}readModule(s,a,l,u){return s<0&&(s+=l,a+=4-(l+4&7)),a<0&&(a+=u,s+=4-(u+4&7)),this.readMappingMatrix.set(a,s),this.mappingBitMatrix.get(a,s)}readUtah(s,a,l,u){let d=0;return this.readModule(s-2,a-2,l,u)&&(d|=1),d<<=1,this.readModule(s-2,a-1,l,u)&&(d|=1),d<<=1,this.readModule(s-1,a-2,l,u)&&(d|=1),d<<=1,this.readModule(s-1,a-1,l,u)&&(d|=1),d<<=1,this.readModule(s-1,a,l,u)&&(d|=1),d<<=1,this.readModule(s,a-2,l,u)&&(d|=1),d<<=1,this.readModule(s,a-1,l,u)&&(d|=1),d<<=1,this.readModule(s,a,l,u)&&(d|=1),d}readCorner1(s,a){let l=0;return this.readModule(s-1,0,s,a)&&(l|=1),l<<=1,this.readModule(s-1,1,s,a)&&(l|=1),l<<=1,this.readModule(s-1,2,s,a)&&(l|=1),l<<=1,this.readModule(0,a-2,s,a)&&(l|=1),l<<=1,this.readModule(0,a-1,s,a)&&(l|=1),l<<=1,this.readModule(1,a-1,s,a)&&(l|=1),l<<=1,this.readModule(2,a-1,s,a)&&(l|=1),l<<=1,this.readModule(3,a-1,s,a)&&(l|=1),l}readCorner2(s,a){let l=0;return this.readModule(s-3,0,s,a)&&(l|=1),l<<=1,this.readModule(s-2,0,s,a)&&(l|=1),l<<=1,this.readModule(s-1,0,s,a)&&(l|=1),l<<=1,this.readModule(0,a-4,s,a)&&(l|=1),l<<=1,this.readModule(0,a-3,s,a)&&(l|=1),l<<=1,this.readModule(0,a-2,s,a)&&(l|=1),l<<=1,this.readModule(0,a-1,s,a)&&(l|=1),l<<=1,this.readModule(1,a-1,s,a)&&(l|=1),l}readCorner3(s,a){let l=0;return this.readModule(s-1,0,s,a)&&(l|=1),l<<=1,this.readModule(s-1,a-1,s,a)&&(l|=1),l<<=1,this.readModule(0,a-3,s,a)&&(l|=1),l<<=1,this.readModule(0,a-2,s,a)&&(l|=1),l<<=1,this.readModule(0,a-1,s,a)&&(l|=1),l<<=1,this.readModule(1,a-3,s,a)&&(l|=1),l<<=1,this.readModule(1,a-2,s,a)&&(l|=1),l<<=1,this.readModule(1,a-1,s,a)&&(l|=1),l}readCorner4(s,a){let l=0;return this.readModule(s-3,0,s,a)&&(l|=1),l<<=1,this.readModule(s-2,0,s,a)&&(l|=1),l<<=1,this.readModule(s-1,0,s,a)&&(l|=1),l<<=1,this.readModule(0,a-2,s,a)&&(l|=1),l<<=1,this.readModule(0,a-1,s,a)&&(l|=1),l<<=1,this.readModule(1,a-1,s,a)&&(l|=1),l<<=1,this.readModule(2,a-1,s,a)&&(l|=1),l<<=1,this.readModule(3,a-1,s,a)&&(l|=1),l}extractDataRegion(s){const a=this.version.getSymbolSizeRows(),l=this.version.getSymbolSizeColumns();if(s.getHeight()!==a)throw new ue("Dimension of bitMatrix must match the version size");const u=this.version.getDataRegionSizeRows(),d=this.version.getDataRegionSizeColumns(),h=a/u|0,p=l/d|0,_=new Jt(p*d,h*u);for(let x=0;x<h;++x){const A=x*u;for(let S=0;S<p;++S){const N=S*d;for(let O=0;O<u;++O){const L=x*(u+2)+1+O,U=A+O;for(let Q=0;Q<d;++Q)s.get(S*(d+2)+1+Q,L)&&_.set(N+Q,U)}}}return _}}class Ds{constructor(s,a){this.numDataCodewords=s,this.codewords=a}static getDataBlocks(s,a){const l=a.getECBlocks();let u=0;const d=l.getECBlocks();for(let O of d)u+=O.getCount();const h=new Array(u);let p=0;for(let O of d)for(let L=0;L<O.getCount();L++){const U=O.getDataCodewords(),Q=l.getECCodewords()+U;h[p++]=new Ds(U,new Uint8Array(Q))}const C=h[0].codewords.length-l.getECCodewords(),_=C-1;let x=0;for(let O=0;O<_;O++)for(let L=0;L<p;L++)h[L].codewords[O]=s[x++];const A=24===a.getVersionNumber(),S=A?8:p;for(let O=0;O<S;O++)h[O].codewords[C-1]=s[x++];const N=h[0].codewords.length;for(let O=C;O<N;O++)for(let L=0;L<p;L++){const U=A?(L+8)%p:L;h[U].codewords[A&&U>7?O-1:O]=s[x++]}if(x!==s.length)throw new ue;return h}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class il{constructor(s){this.bytes=s,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(s){if(s<1||s>32||s>this.available())throw new ue(""+s);let a=0,l=this.bitOffset,u=this.byteOffset;const d=this.bytes;if(l>0){const h=8-l,p=s<h?s:h,y=h-p;a=(d[u]&255>>8-p<<y)>>y,s-=p,l+=p,8===l&&(l=0,u++)}if(s>0){for(;s>=8;)a=a<<8|255&d[u],u++,s-=8;if(s>0){const h=8-s;a=a<<s|(d[u]&255>>h<<h)>>h,l+=s}}return this.bitOffset=l,this.byteOffset=u,a}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var tn=function(v){return v[v.PAD_ENCODE=0]="PAD_ENCODE",v[v.ASCII_ENCODE=1]="ASCII_ENCODE",v[v.C40_ENCODE=2]="C40_ENCODE",v[v.TEXT_ENCODE=3]="TEXT_ENCODE",v[v.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",v[v.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",v[v.BASE256_ENCODE=6]="BASE256_ENCODE",v}(tn||{});class Et{static decode(s){const a=new il(s),l=new nt,u=new nt,d=new Array;let h=tn.ASCII_ENCODE;do{if(h===tn.ASCII_ENCODE)h=this.decodeAsciiSegment(a,l,u);else{switch(h){case tn.C40_ENCODE:this.decodeC40Segment(a,l);break;case tn.TEXT_ENCODE:this.decodeTextSegment(a,l);break;case tn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(a,l);break;case tn.EDIFACT_ENCODE:this.decodeEdifactSegment(a,l);break;case tn.BASE256_ENCODE:this.decodeBase256Segment(a,l,d);break;default:throw new oe}h=tn.ASCII_ENCODE}}while(h!==tn.PAD_ENCODE&&a.available()>0);return u.length()>0&&l.append(u.toString()),new Lo(s,l.toString(),0===d.length?null:d,null)}static decodeAsciiSegment(s,a,l){let u=!1;do{let d=s.readBits(8);if(0===d)throw new oe;if(d<=128)return u&&(d+=128),a.append(String.fromCharCode(d-1)),tn.ASCII_ENCODE;if(129===d)return tn.PAD_ENCODE;if(d<=229){const h=d-130;h<10&&a.append("0"),a.append(""+h)}else switch(d){case 230:return tn.C40_ENCODE;case 231:return tn.BASE256_ENCODE;case 232:a.append(String.fromCharCode(29));break;case 233:case 234:case 241:break;case 235:u=!0;break;case 236:a.append("[)>\x1e05\x1d"),l.insert(0,"\x1e\x04");break;case 237:a.append("[)>\x1e06\x1d"),l.insert(0,"\x1e\x04");break;case 238:return tn.ANSIX12_ENCODE;case 239:return tn.TEXT_ENCODE;case 240:return tn.EDIFACT_ENCODE;default:if(254!==d||0!==s.available())throw new oe}}while(s.available()>0);return tn.ASCII_ENCODE}static decodeC40Segment(s,a){let l=!1;const u=[];let d=0;do{if(8===s.available())return;const h=s.readBits(8);if(254===h)return;this.parseTwoBytes(h,s.readBits(8),u);for(let p=0;p<3;p++){const y=u[p];switch(d){case 0:if(y<3)d=y+1;else{if(!(y<this.C40_BASIC_SET_CHARS.length))throw new oe;{const C=this.C40_BASIC_SET_CHARS[y];l?(a.append(String.fromCharCode(C.charCodeAt(0)+128)),l=!1):a.append(C)}}break;case 1:l?(a.append(String.fromCharCode(y+128)),l=!1):a.append(String.fromCharCode(y)),d=0;break;case 2:if(y<this.C40_SHIFT2_SET_CHARS.length){const C=this.C40_SHIFT2_SET_CHARS[y];l?(a.append(String.fromCharCode(C.charCodeAt(0)+128)),l=!1):a.append(C)}else switch(y){case 27:a.append(String.fromCharCode(29));break;case 30:l=!0;break;default:throw new oe}d=0;break;case 3:l?(a.append(String.fromCharCode(y+224)),l=!1):a.append(String.fromCharCode(y+96)),d=0;break;default:throw new oe}}}while(s.available()>0)}static decodeTextSegment(s,a){let l=!1,u=[],d=0;do{if(8===s.available())return;const h=s.readBits(8);if(254===h)return;this.parseTwoBytes(h,s.readBits(8),u);for(let p=0;p<3;p++){const y=u[p];switch(d){case 0:if(y<3)d=y+1;else{if(!(y<this.TEXT_BASIC_SET_CHARS.length))throw new oe;{const C=this.TEXT_BASIC_SET_CHARS[y];l?(a.append(String.fromCharCode(C.charCodeAt(0)+128)),l=!1):a.append(C)}}break;case 1:l?(a.append(String.fromCharCode(y+128)),l=!1):a.append(String.fromCharCode(y)),d=0;break;case 2:if(y<this.TEXT_SHIFT2_SET_CHARS.length){const C=this.TEXT_SHIFT2_SET_CHARS[y];l?(a.append(String.fromCharCode(C.charCodeAt(0)+128)),l=!1):a.append(C)}else switch(y){case 27:a.append(String.fromCharCode(29));break;case 30:l=!0;break;default:throw new oe}d=0;break;case 3:if(!(y<this.TEXT_SHIFT3_SET_CHARS.length))throw new oe;{const C=this.TEXT_SHIFT3_SET_CHARS[y];l?(a.append(String.fromCharCode(C.charCodeAt(0)+128)),l=!1):a.append(C),d=0}break;default:throw new oe}}}while(s.available()>0)}static decodeAnsiX12Segment(s,a){const l=[];do{if(8===s.available())return;const u=s.readBits(8);if(254===u)return;this.parseTwoBytes(u,s.readBits(8),l);for(let d=0;d<3;d++){const h=l[d];switch(h){case 0:a.append("\r");break;case 1:a.append("*");break;case 2:a.append(">");break;case 3:a.append(" ");break;default:if(h<14)a.append(String.fromCharCode(h+44));else{if(!(h<40))throw new oe;a.append(String.fromCharCode(h+51))}}}}while(s.available()>0)}static parseTwoBytes(s,a,l){let u=(s<<8)+a-1,d=Math.floor(u/1600);l[0]=d,u-=1600*d,d=Math.floor(u/40),l[1]=d,l[2]=u-40*d}static decodeEdifactSegment(s,a){do{if(s.available()<=16)return;for(let l=0;l<4;l++){let u=s.readBits(6);if(31===u){const d=8-s.getBitOffset();return void(8!==d&&s.readBits(d))}32&u||(u|=64),a.append(String.fromCharCode(u))}}while(s.available()>0)}static decodeBase256Segment(s,a,l){let u=1+s.getByteOffset();const d=this.unrandomize255State(s.readBits(8),u++);let h;if(h=0===d?s.available()/8|0:d<250?d:250*(d-249)+this.unrandomize255State(s.readBits(8),u++),h<0)throw new oe;const p=new Uint8Array(h);for(let y=0;y<h;y++){if(s.available()<8)throw new oe;p[y]=this.unrandomize255State(s.readBits(8),u++)}l.push(p);try{a.append(an.decode(p,be.ISO88591))}catch(y){throw new zr("Platform does not support required encoding: "+y.message)}}static unrandomize255State(s,a){const u=s-(149*a%255+1);return u>=0?u:u+256}}Et.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Et.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Et.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Et.TEXT_SHIFT2_SET_CHARS=Et.C40_SHIFT2_SET_CHARS,Et.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class Uf{constructor(){this.rsDecoder=new Bo(qe.DATA_MATRIX_FIELD_256)}decode(s){const a=new rl(s),l=a.getVersion(),u=a.readCodewords(),d=Ds.getDataBlocks(u,l);let h=0;for(let C of d)h+=C.getNumDataCodewords();const p=new Uint8Array(h),y=d.length;for(let C=0;C<y;C++){const _=d[C],x=_.getCodewords(),A=_.getNumDataCodewords();this.correctErrors(x,A);for(let S=0;S<A;S++)p[S*y+C]=x[S]}return Et.decode(p)}correctErrors(s,a){const l=new Int32Array(s);try{this.rsDecoder.decode(l,s.length-a)}catch{throw new qt}for(let u=0;u<a;u++)s[u]=l[u]}}class Ye{constructor(s){this.image=s,this.rectangleDetector=new no(this.image)}detect(){const s=this.rectangleDetector.detect();let a=this.detectSolid1(s);if(a=this.detectSolid2(a),a[3]=this.correctTopRight(a),!a[3])throw new G;a=this.shiftToModuleCenter(a);const l=a[0],u=a[1],d=a[2],h=a[3];let p=this.transitionsBetween(l,h)+1,y=this.transitionsBetween(d,h)+1;1==(1&p)&&(p+=1),1==(1&y)&&(y+=1),4*p<7*y&&4*y<7*p&&(p=y=Math.max(p,y));let C=Ye.sampleGrid(this.image,l,u,d,h,p,y);return new Vo(C,[l,u,d,h])}static shiftPoint(s,a,l){let u=(a.getX()-s.getX())/(l+1),d=(a.getY()-s.getY())/(l+1);return new he(s.getX()+u,s.getY()+d)}static moveAway(s,a,l){let u=s.getX(),d=s.getY();return u<a?u-=1:u+=1,d<l?d-=1:d+=1,new he(u,d)}detectSolid1(s){let a=s[0],l=s[1],u=s[3],d=s[2],h=this.transitionsBetween(a,l),p=this.transitionsBetween(l,u),y=this.transitionsBetween(u,d),C=this.transitionsBetween(d,a),_=h,x=[d,a,l,u];return _>p&&(_=p,x[0]=a,x[1]=l,x[2]=u,x[3]=d),_>y&&(_=y,x[0]=l,x[1]=u,x[2]=d,x[3]=a),_>C&&(x[0]=u,x[1]=d,x[2]=a,x[3]=l),x}detectSolid2(s){let a=s[0],l=s[1],u=s[2],d=s[3],h=this.transitionsBetween(a,d),p=Ye.shiftPoint(l,u,4*(h+1)),y=Ye.shiftPoint(u,l,4*(h+1));return this.transitionsBetween(p,a)<this.transitionsBetween(y,d)?(s[0]=a,s[1]=l,s[2]=u,s[3]=d):(s[0]=l,s[1]=u,s[2]=d,s[3]=a),s}correctTopRight(s){let a=s[0],l=s[1],u=s[2],d=s[3],h=this.transitionsBetween(a,d),p=this.transitionsBetween(l,d),y=Ye.shiftPoint(a,l,4*(p+1)),C=Ye.shiftPoint(u,l,4*(h+1));h=this.transitionsBetween(y,d),p=this.transitionsBetween(C,d);let _=new he(d.getX()+(u.getX()-l.getX())/(h+1),d.getY()+(u.getY()-l.getY())/(h+1)),x=new he(d.getX()+(a.getX()-l.getX())/(p+1),d.getY()+(a.getY()-l.getY())/(p+1));return this.isValid(_)?this.isValid(x)?this.transitionsBetween(y,_)+this.transitionsBetween(C,_)>this.transitionsBetween(y,x)+this.transitionsBetween(C,x)?_:x:_:this.isValid(x)?x:null}shiftToModuleCenter(s){let a=s[0],l=s[1],u=s[2],d=s[3],h=this.transitionsBetween(a,d)+1,p=this.transitionsBetween(u,d)+1,y=Ye.shiftPoint(a,l,4*p),C=Ye.shiftPoint(u,l,4*h);h=this.transitionsBetween(y,d)+1,p=this.transitionsBetween(C,d)+1,1==(1&h)&&(h+=1),1==(1&p)&&(p+=1);let A,S,_=(a.getX()+l.getX()+u.getX()+d.getX())/4,x=(a.getY()+l.getY()+u.getY()+d.getY())/4;return a=Ye.moveAway(a,_,x),l=Ye.moveAway(l,_,x),u=Ye.moveAway(u,_,x),d=Ye.moveAway(d,_,x),y=Ye.shiftPoint(a,l,4*p),y=Ye.shiftPoint(y,d,4*h),A=Ye.shiftPoint(l,a,4*p),A=Ye.shiftPoint(A,u,4*h),C=Ye.shiftPoint(u,d,4*p),C=Ye.shiftPoint(C,l,4*h),S=Ye.shiftPoint(d,u,4*p),S=Ye.shiftPoint(S,a,4*h),[y,A,C,S]}isValid(s){return s.getX()>=0&&s.getX()<this.image.getWidth()&&s.getY()>0&&s.getY()<this.image.getHeight()}static sampleGrid(s,a,l,u,d,h,p){return ti.getInstance().sampleGrid(s,h,p,.5,.5,h-.5,.5,h-.5,p-.5,.5,p-.5,a.getX(),a.getY(),d.getX(),d.getY(),u.getX(),u.getY(),l.getX(),l.getY())}transitionsBetween(s,a){let l=Math.trunc(s.getX()),u=Math.trunc(s.getY()),d=Math.trunc(a.getX()),h=Math.trunc(a.getY()),p=Math.abs(h-u)>Math.abs(d-l);if(p){let O=l;l=u,u=O,O=d,d=h,h=O}let y=Math.abs(d-l),C=Math.abs(h-u),_=-y/2,x=u<h?1:-1,A=l<d?1:-1,S=0,N=this.image.get(p?u:l,p?l:u);for(let O=l,L=u;O!==d;O+=A){let U=this.image.get(p?L:O,p?O:L);if(U!==N&&(S++,N=U),_+=C,_>0){if(L===h)break;L+=x,_-=y}}return S}}let ae=(()=>{class v{constructor(){this.decoder=new Uf}decode(a,l=null){let u,d;if(null!=l&&l.has(_t.PURE_BARCODE)){const _=v.extractPureBits(a.getBlackMatrix());u=this.decoder.decode(_),d=v.NO_POINTS}else{const _=new Ye(a.getBlackMatrix()).detect();u=this.decoder.decode(_.getBits()),d=_.getPoints()}const h=u.getRawBytes(),p=new At(u.getText(),h,8*h.length,d,_e.DATA_MATRIX,gt.currentTimeMillis()),y=u.getByteSegments();null!=y&&p.putMetadata(He.BYTE_SEGMENTS,y);const C=u.getECLevel();return null!=C&&p.putMetadata(He.ERROR_CORRECTION_LEVEL,C),p}reset(){}static extractPureBits(a){const l=a.getTopLeftOnBit(),u=a.getBottomRightOnBit();if(null==l||null==u)throw new G;const d=this.moduleSize(l,a);let h=l[1],y=l[0];const _=(u[0]-y+1)/d,x=(u[1]-h+1)/d;if(_<=0||x<=0)throw new G;const A=d/2;h+=A,y+=A;const S=new Jt(_,x);for(let N=0;N<x;N++){const O=h+N*d;for(let L=0;L<_;L++)a.get(y+L*d,O)&&S.set(L,N)}return S}static moduleSize(a,l){const u=l.getWidth();let d=a[0];const h=a[1];for(;d<u&&l.get(d,h);)d++;if(d===u)throw new G;const p=d-a[0];if(0===p)throw new G;return p}}return v.NO_POINTS=[],v})();var Ni=function(v){return v[v.L=0]="L",v[v.M=1]="M",v[v.Q=2]="Q",v[v.H=3]="H",v}(Ni||{});class je{constructor(s,a,l){this.value=s,this.stringValue=a,this.bits=l,je.FOR_BITS.set(l,this),je.FOR_VALUE.set(s,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(s){switch(s){case"L":return je.L;case"M":return je.M;case"Q":return je.Q;case"H":return je.H;default:throw new Bn(s+"not available")}}toString(){return this.stringValue}equals(s){return s instanceof je&&this.value===s.value}static forBits(s){if(s<0||s>=je.FOR_BITS.size)throw new ue;return je.FOR_BITS.get(s)}}je.FOR_BITS=new Map,je.FOR_VALUE=new Map,je.L=new je(Ni.L,"L",1),je.M=new je(Ni.M,"M",0),je.Q=new je(Ni.Q,"Q",3),je.H=new je(Ni.H,"H",2);class gn{constructor(s){this.errorCorrectionLevel=je.forBits(s>>3&3),this.dataMask=7&s}static numBitsDiffering(s,a){return Se.bitCount(s^a)}static decodeFormatInformation(s,a){const l=gn.doDecodeFormatInformation(s,a);return null!==l?l:gn.doDecodeFormatInformation(s^gn.FORMAT_INFO_MASK_QR,a^gn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(s,a){let l=Number.MAX_SAFE_INTEGER,u=0;for(const d of gn.FORMAT_INFO_DECODE_LOOKUP){const h=d[0];if(h===s||h===a)return new gn(d[1]);let p=gn.numBitsDiffering(s,h);p<l&&(u=d[1],l=p),s!==a&&(p=gn.numBitsDiffering(a,h),p<l&&(u=d[1],l=p))}return l<=3?new gn(u):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(s){return s instanceof gn&&this.errorCorrectionLevel===s.errorCorrectionLevel&&this.dataMask===s.dataMask}}gn.FORMAT_INFO_MASK_QR=21522,gn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class B{constructor(s,...a){this.ecCodewordsPerBlock=s,this.ecBlocks=a}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let s=0;const a=this.ecBlocks;for(const l of a)s+=l.getCount();return s}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class b{constructor(s,a){this.count=s,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ye{constructor(s,a,...l){this.versionNumber=s,this.alignmentPatternCenters=a,this.ecBlocks=l;let u=0;const d=l[0].getECCodewordsPerBlock(),h=l[0].getECBlocks();for(const p of h)u+=p.getCount()*(p.getDataCodewords()+d);this.totalCodewords=u}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(s){return this.ecBlocks[s.getValue()]}static getProvisionalVersionForDimension(s){if(s%4!=1)throw new oe;try{return this.getVersionForNumber((s-17)/4)}catch{throw new oe}}static getVersionForNumber(s){if(s<1||s>40)throw new ue;return ye.VERSIONS[s-1]}static decodeVersionInformation(s){let a=Number.MAX_SAFE_INTEGER,l=0;for(let u=0;u<ye.VERSION_DECODE_INFO.length;u++){const d=ye.VERSION_DECODE_INFO[u];if(d===s)return ye.getVersionForNumber(u+7);const h=gn.numBitsDiffering(s,d);h<a&&(l=u+7,a=h)}return a<=3?ye.getVersionForNumber(l):null}buildFunctionPattern(){const s=this.getDimensionForVersion(),a=new Jt(s);a.setRegion(0,0,9,9),a.setRegion(s-8,0,8,9),a.setRegion(0,s-8,9,8);const l=this.alignmentPatternCenters.length;for(let u=0;u<l;u++){const d=this.alignmentPatternCenters[u]-2;for(let h=0;h<l;h++)0===u&&(0===h||h===l-1)||u===l-1&&0===h||a.setRegion(this.alignmentPatternCenters[h]-2,d,5,5)}return a.setRegion(6,9,1,s-17),a.setRegion(9,6,s-17,1),this.versionNumber>6&&(a.setRegion(s-11,0,3,6),a.setRegion(0,s-11,6,3)),a}toString(){return""+this.versionNumber}}ye.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),ye.VERSIONS=[new ye(1,new Int32Array(0),new B(7,new b(1,19)),new B(10,new b(1,16)),new B(13,new b(1,13)),new B(17,new b(1,9))),new ye(2,Int32Array.from([6,18]),new B(10,new b(1,34)),new B(16,new b(1,28)),new B(22,new b(1,22)),new B(28,new b(1,16))),new ye(3,Int32Array.from([6,22]),new B(15,new b(1,55)),new B(26,new b(1,44)),new B(18,new b(2,17)),new B(22,new b(2,13))),new ye(4,Int32Array.from([6,26]),new B(20,new b(1,80)),new B(18,new b(2,32)),new B(26,new b(2,24)),new B(16,new b(4,9))),new ye(5,Int32Array.from([6,30]),new B(26,new b(1,108)),new B(24,new b(2,43)),new B(18,new b(2,15),new b(2,16)),new B(22,new b(2,11),new b(2,12))),new ye(6,Int32Array.from([6,34]),new B(18,new b(2,68)),new B(16,new b(4,27)),new B(24,new b(4,19)),new B(28,new b(4,15))),new ye(7,Int32Array.from([6,22,38]),new B(20,new b(2,78)),new B(18,new b(4,31)),new B(18,new b(2,14),new b(4,15)),new B(26,new b(4,13),new b(1,14))),new ye(8,Int32Array.from([6,24,42]),new B(24,new b(2,97)),new B(22,new b(2,38),new b(2,39)),new B(22,new b(4,18),new b(2,19)),new B(26,new b(4,14),new b(2,15))),new ye(9,Int32Array.from([6,26,46]),new B(30,new b(2,116)),new B(22,new b(3,36),new b(2,37)),new B(20,new b(4,16),new b(4,17)),new B(24,new b(4,12),new b(4,13))),new ye(10,Int32Array.from([6,28,50]),new B(18,new b(2,68),new b(2,69)),new B(26,new b(4,43),new b(1,44)),new B(24,new b(6,19),new b(2,20)),new B(28,new b(6,15),new b(2,16))),new ye(11,Int32Array.from([6,30,54]),new B(20,new b(4,81)),new B(30,new b(1,50),new b(4,51)),new B(28,new b(4,22),new b(4,23)),new B(24,new b(3,12),new b(8,13))),new ye(12,Int32Array.from([6,32,58]),new B(24,new b(2,92),new b(2,93)),new B(22,new b(6,36),new b(2,37)),new B(26,new b(4,20),new b(6,21)),new B(28,new b(7,14),new b(4,15))),new ye(13,Int32Array.from([6,34,62]),new B(26,new b(4,107)),new B(22,new b(8,37),new b(1,38)),new B(24,new b(8,20),new b(4,21)),new B(22,new b(12,11),new b(4,12))),new ye(14,Int32Array.from([6,26,46,66]),new B(30,new b(3,115),new b(1,116)),new B(24,new b(4,40),new b(5,41)),new B(20,new b(11,16),new b(5,17)),new B(24,new b(11,12),new b(5,13))),new ye(15,Int32Array.from([6,26,48,70]),new B(22,new b(5,87),new b(1,88)),new B(24,new b(5,41),new b(5,42)),new B(30,new b(5,24),new b(7,25)),new B(24,new b(11,12),new b(7,13))),new ye(16,Int32Array.from([6,26,50,74]),new B(24,new b(5,98),new b(1,99)),new B(28,new b(7,45),new b(3,46)),new B(24,new b(15,19),new b(2,20)),new B(30,new b(3,15),new b(13,16))),new ye(17,Int32Array.from([6,30,54,78]),new B(28,new b(1,107),new b(5,108)),new B(28,new b(10,46),new b(1,47)),new B(28,new b(1,22),new b(15,23)),new B(28,new b(2,14),new b(17,15))),new ye(18,Int32Array.from([6,30,56,82]),new B(30,new b(5,120),new b(1,121)),new B(26,new b(9,43),new b(4,44)),new B(28,new b(17,22),new b(1,23)),new B(28,new b(2,14),new b(19,15))),new ye(19,Int32Array.from([6,30,58,86]),new B(28,new b(3,113),new b(4,114)),new B(26,new b(3,44),new b(11,45)),new B(26,new b(17,21),new b(4,22)),new B(26,new b(9,13),new b(16,14))),new ye(20,Int32Array.from([6,34,62,90]),new B(28,new b(3,107),new b(5,108)),new B(26,new b(3,41),new b(13,42)),new B(30,new b(15,24),new b(5,25)),new B(28,new b(15,15),new b(10,16))),new ye(21,Int32Array.from([6,28,50,72,94]),new B(28,new b(4,116),new b(4,117)),new B(26,new b(17,42)),new B(28,new b(17,22),new b(6,23)),new B(30,new b(19,16),new b(6,17))),new ye(22,Int32Array.from([6,26,50,74,98]),new B(28,new b(2,111),new b(7,112)),new B(28,new b(17,46)),new B(30,new b(7,24),new b(16,25)),new B(24,new b(34,13))),new ye(23,Int32Array.from([6,30,54,78,102]),new B(30,new b(4,121),new b(5,122)),new B(28,new b(4,47),new b(14,48)),new B(30,new b(11,24),new b(14,25)),new B(30,new b(16,15),new b(14,16))),new ye(24,Int32Array.from([6,28,54,80,106]),new B(30,new b(6,117),new b(4,118)),new B(28,new b(6,45),new b(14,46)),new B(30,new b(11,24),new b(16,25)),new B(30,new b(30,16),new b(2,17))),new ye(25,Int32Array.from([6,32,58,84,110]),new B(26,new b(8,106),new b(4,107)),new B(28,new b(8,47),new b(13,48)),new B(30,new b(7,24),new b(22,25)),new B(30,new b(22,15),new b(13,16))),new ye(26,Int32Array.from([6,30,58,86,114]),new B(28,new b(10,114),new b(2,115)),new B(28,new b(19,46),new b(4,47)),new B(28,new b(28,22),new b(6,23)),new B(30,new b(33,16),new b(4,17))),new ye(27,Int32Array.from([6,34,62,90,118]),new B(30,new b(8,122),new b(4,123)),new B(28,new b(22,45),new b(3,46)),new B(30,new b(8,23),new b(26,24)),new B(30,new b(12,15),new b(28,16))),new ye(28,Int32Array.from([6,26,50,74,98,122]),new B(30,new b(3,117),new b(10,118)),new B(28,new b(3,45),new b(23,46)),new B(30,new b(4,24),new b(31,25)),new B(30,new b(11,15),new b(31,16))),new ye(29,Int32Array.from([6,30,54,78,102,126]),new B(30,new b(7,116),new b(7,117)),new B(28,new b(21,45),new b(7,46)),new B(30,new b(1,23),new b(37,24)),new B(30,new b(19,15),new b(26,16))),new ye(30,Int32Array.from([6,26,52,78,104,130]),new B(30,new b(5,115),new b(10,116)),new B(28,new b(19,47),new b(10,48)),new B(30,new b(15,24),new b(25,25)),new B(30,new b(23,15),new b(25,16))),new ye(31,Int32Array.from([6,30,56,82,108,134]),new B(30,new b(13,115),new b(3,116)),new B(28,new b(2,46),new b(29,47)),new B(30,new b(42,24),new b(1,25)),new B(30,new b(23,15),new b(28,16))),new ye(32,Int32Array.from([6,34,60,86,112,138]),new B(30,new b(17,115)),new B(28,new b(10,46),new b(23,47)),new B(30,new b(10,24),new b(35,25)),new B(30,new b(19,15),new b(35,16))),new ye(33,Int32Array.from([6,30,58,86,114,142]),new B(30,new b(17,115),new b(1,116)),new B(28,new b(14,46),new b(21,47)),new B(30,new b(29,24),new b(19,25)),new B(30,new b(11,15),new b(46,16))),new ye(34,Int32Array.from([6,34,62,90,118,146]),new B(30,new b(13,115),new b(6,116)),new B(28,new b(14,46),new b(23,47)),new B(30,new b(44,24),new b(7,25)),new B(30,new b(59,16),new b(1,17))),new ye(35,Int32Array.from([6,30,54,78,102,126,150]),new B(30,new b(12,121),new b(7,122)),new B(28,new b(12,47),new b(26,48)),new B(30,new b(39,24),new b(14,25)),new B(30,new b(22,15),new b(41,16))),new ye(36,Int32Array.from([6,24,50,76,102,128,154]),new B(30,new b(6,121),new b(14,122)),new B(28,new b(6,47),new b(34,48)),new B(30,new b(46,24),new b(10,25)),new B(30,new b(2,15),new b(64,16))),new ye(37,Int32Array.from([6,28,54,80,106,132,158]),new B(30,new b(17,122),new b(4,123)),new B(28,new b(29,46),new b(14,47)),new B(30,new b(49,24),new b(10,25)),new B(30,new b(24,15),new b(46,16))),new ye(38,Int32Array.from([6,32,58,84,110,136,162]),new B(30,new b(4,122),new b(18,123)),new B(28,new b(13,46),new b(32,47)),new B(30,new b(48,24),new b(14,25)),new B(30,new b(42,15),new b(32,16))),new ye(39,Int32Array.from([6,26,54,82,110,138,166]),new B(30,new b(20,117),new b(4,118)),new B(28,new b(40,47),new b(7,48)),new B(30,new b(43,24),new b(22,25)),new B(30,new b(10,15),new b(67,16))),new ye(40,Int32Array.from([6,30,58,86,114,142,170]),new B(30,new b(19,118),new b(6,119)),new B(28,new b(18,47),new b(31,48)),new B(30,new b(34,24),new b(34,25)),new B(30,new b(20,15),new b(61,16)))];var We=function(v){return v[v.DATA_MASK_000=0]="DATA_MASK_000",v[v.DATA_MASK_001=1]="DATA_MASK_001",v[v.DATA_MASK_010=2]="DATA_MASK_010",v[v.DATA_MASK_011=3]="DATA_MASK_011",v[v.DATA_MASK_100=4]="DATA_MASK_100",v[v.DATA_MASK_101=5]="DATA_MASK_101",v[v.DATA_MASK_110=6]="DATA_MASK_110",v[v.DATA_MASK_111=7]="DATA_MASK_111",v}(We||{});class In{constructor(s,a){this.value=s,this.isMasked=a}unmaskBitMatrix(s,a){for(let l=0;l<a;l++)for(let u=0;u<a;u++)this.isMasked(l,u)&&s.flip(u,l)}}In.values=new Map([[We.DATA_MASK_000,new In(We.DATA_MASK_000,(v,s)=>0==(v+s&1))],[We.DATA_MASK_001,new In(We.DATA_MASK_001,(v,s)=>0==(1&v))],[We.DATA_MASK_010,new In(We.DATA_MASK_010,(v,s)=>s%3==0)],[We.DATA_MASK_011,new In(We.DATA_MASK_011,(v,s)=>(v+s)%3==0)],[We.DATA_MASK_100,new In(We.DATA_MASK_100,(v,s)=>0==(Math.floor(v/2)+Math.floor(s/3)&1))],[We.DATA_MASK_101,new In(We.DATA_MASK_101,(v,s)=>v*s%6==0)],[We.DATA_MASK_110,new In(We.DATA_MASK_110,(v,s)=>v*s%6<3)],[We.DATA_MASK_111,new In(We.DATA_MASK_111,(v,s)=>0==(v+s+v*s%3&1))]]);class jf{constructor(s){const a=s.getHeight();if(a<21||1!=(3&a))throw new oe;this.bitMatrix=s}readFormatInformation(){if(null!=this.parsedFormatInfo)return this.parsedFormatInfo;let s=0;for(let d=0;d<6;d++)s=this.copyBit(d,8,s);s=this.copyBit(7,8,s),s=this.copyBit(8,8,s),s=this.copyBit(8,7,s);for(let d=5;d>=0;d--)s=this.copyBit(8,d,s);const a=this.bitMatrix.getHeight();let l=0;const u=a-7;for(let d=a-1;d>=u;d--)l=this.copyBit(8,d,l);for(let d=a-8;d<a;d++)l=this.copyBit(d,8,l);if(this.parsedFormatInfo=gn.decodeFormatInformation(s,l),null!==this.parsedFormatInfo)return this.parsedFormatInfo;throw new oe}readVersion(){if(null!=this.parsedVersion)return this.parsedVersion;const s=this.bitMatrix.getHeight(),a=Math.floor((s-17)/4);if(a<=6)return ye.getVersionForNumber(a);let l=0;const u=s-11;for(let h=5;h>=0;h--)for(let p=s-9;p>=u;p--)l=this.copyBit(p,h,l);let d=ye.decodeVersionInformation(l);if(null!==d&&d.getDimensionForVersion()===s)return this.parsedVersion=d,d;l=0;for(let h=5;h>=0;h--)for(let p=s-9;p>=u;p--)l=this.copyBit(h,p,l);if(d=ye.decodeVersionInformation(l),null!==d&&d.getDimensionForVersion()===s)return this.parsedVersion=d,d;throw new oe}copyBit(s,a,l){return(this.isMirror?this.bitMatrix.get(a,s):this.bitMatrix.get(s,a))?l<<1|1:l<<1}readCodewords(){const s=this.readFormatInformation(),a=this.readVersion(),l=In.values.get(s.getDataMask()),u=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,u);const d=a.buildFunctionPattern();let h=!0;const p=new Uint8Array(a.getTotalCodewords());let y=0,C=0,_=0;for(let x=u-1;x>0;x-=2){6===x&&x--;for(let A=0;A<u;A++){const S=h?u-1-A:A;for(let N=0;N<2;N++)d.get(x-N,S)||(_++,C<<=1,this.bitMatrix.get(x-N,S)&&(C|=1),8===_&&(p[y++]=C,_=0,C=0))}h=!h}if(y!==a.getTotalCodewords())throw new oe;return p}remask(){if(null===this.parsedFormatInfo)return;const s=In.values[this.parsedFormatInfo.getDataMask()],a=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,a)}setMirror(s){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=s}mirror(){const s=this.bitMatrix;for(let a=0,l=s.getWidth();a<l;a++)for(let u=a+1,d=s.getHeight();u<d;u++)s.get(a,u)!==s.get(u,a)&&(s.flip(u,a),s.flip(a,u))}}class ft{constructor(s,a){this.numDataCodewords=s,this.codewords=a}static getDataBlocks(s,a,l){if(s.length!==a.getTotalCodewords())throw new ue;const u=a.getECBlocksForLevel(l);let d=0;const h=u.getECBlocks();for(const N of h)d+=N.getCount();const p=new Array(d);let y=0;for(const N of h)for(let O=0;O<N.getCount();O++){const L=N.getDataCodewords(),U=u.getECCodewordsPerBlock()+L;p[y++]=new ft(L,new Uint8Array(U))}const C=p[0].codewords.length;let _=p.length-1;for(;_>=0&&p[_].codewords.length!==C;)_--;_++;const x=C-u.getECCodewordsPerBlock();let A=0;for(let N=0;N<x;N++)for(let O=0;O<y;O++)p[O].codewords[N]=s[A++];for(let N=_;N<y;N++)p[N].codewords[x]=s[A++];const S=p[0].codewords.length;for(let N=x;N<S;N++)for(let O=0;O<y;O++)p[O].codewords[O<_?N:N+1]=s[A++];return p}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var ve=function(v){return v[v.TERMINATOR=0]="TERMINATOR",v[v.NUMERIC=1]="NUMERIC",v[v.ALPHANUMERIC=2]="ALPHANUMERIC",v[v.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",v[v.BYTE=4]="BYTE",v[v.ECI=5]="ECI",v[v.KANJI=6]="KANJI",v[v.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",v[v.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",v[v.HANZI=9]="HANZI",v}(ve||{});class we{constructor(s,a,l,u){this.value=s,this.stringValue=a,this.characterCountBitsForVersions=l,this.bits=u,we.FOR_BITS.set(u,this),we.FOR_VALUE.set(s,this)}static forBits(s){const a=we.FOR_BITS.get(s);if(void 0===a)throw new ue;return a}getCharacterCountBits(s){const a=s.getVersionNumber();let l;return l=a<=9?0:a<=26?1:2,this.characterCountBitsForVersions[l]}getValue(){return this.value}getBits(){return this.bits}equals(s){return s instanceof we&&this.value===s.value}toString(){return this.stringValue}}we.FOR_BITS=new Map,we.FOR_VALUE=new Map,we.TERMINATOR=new we(ve.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),we.NUMERIC=new we(ve.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),we.ALPHANUMERIC=new we(ve.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),we.STRUCTURED_APPEND=new we(ve.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),we.BYTE=new we(ve.BYTE,"BYTE",Int32Array.from([8,16,16]),4),we.ECI=new we(ve.ECI,"ECI",Int32Array.from([0,0,0]),7),we.KANJI=new we(ve.KANJI,"KANJI",Int32Array.from([8,10,12]),8),we.FNC1_FIRST_POSITION=new we(ve.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),we.FNC1_SECOND_POSITION=new we(ve.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),we.HANZI=new we(ve.HANZI,"HANZI",Int32Array.from([8,10,12]),13);let bs=(()=>{class v{static decode(a,l,u,d){const h=new il(a);let p=new nt;const y=new Array;let C=-1,_=-1;try{let S,x=null,A=!1;do{if(h.available()<4)S=we.TERMINATOR;else{const N=h.readBits(4);S=we.forBits(N)}switch(S){case we.TERMINATOR:break;case we.FNC1_FIRST_POSITION:case we.FNC1_SECOND_POSITION:A=!0;break;case we.STRUCTURED_APPEND:if(h.available()<16)throw new oe;C=h.readBits(8),_=h.readBits(8);break;case we.ECI:const N=v.parseECIValue(h);if(x=ee.getCharacterSetECIByValue(N),null===x)throw new oe;break;case we.HANZI:const O=h.readBits(4),L=h.readBits(S.getCharacterCountBits(l));O===v.GB2312_SUBSET&&v.decodeHanziSegment(h,p,L);break;default:const U=h.readBits(S.getCharacterCountBits(l));switch(S){case we.NUMERIC:v.decodeNumericSegment(h,p,U);break;case we.ALPHANUMERIC:v.decodeAlphanumericSegment(h,p,U,A);break;case we.BYTE:v.decodeByteSegment(h,p,U,x,y,d);break;case we.KANJI:v.decodeKanjiSegment(h,p,U);break;default:throw new oe}}}while(S!==we.TERMINATOR)}catch{throw new oe}return new Lo(a,p.toString(),0===y.length?null:y,null===u?null:u.toString(),C,_)}static decodeHanziSegment(a,l,u){if(13*u>a.available())throw new oe;const d=new Uint8Array(2*u);let h=0;for(;u>0;){const p=a.readBits(13);let y=p/96<<8&4294967295|p%96;y+=y<959?41377:42657,d[h]=y>>8&255,d[h+1]=255&y,h+=2,u--}try{l.append(an.decode(d,be.GB2312))}catch(p){throw new oe(p)}}static decodeKanjiSegment(a,l,u){if(13*u>a.available())throw new oe;const d=new Uint8Array(2*u);let h=0;for(;u>0;){const p=a.readBits(13);let y=p/192<<8&4294967295|p%192;y+=y<7936?33088:49472,d[h]=y>>8,d[h+1]=y,h+=2,u--}try{l.append(an.decode(d,be.SHIFT_JIS))}catch(p){throw new oe(p)}}static decodeByteSegment(a,l,u,d,h,p){if(8*u>a.available())throw new oe;const y=new Uint8Array(u);for(let _=0;_<u;_++)y[_]=a.readBits(8);let C;C=null===d?be.guessEncoding(y,p):d.getName();try{l.append(an.decode(y,C))}catch(_){throw new oe(_)}h.push(y)}static toAlphaNumericChar(a){if(a>=v.ALPHANUMERIC_CHARS.length)throw new oe;return v.ALPHANUMERIC_CHARS[a]}static decodeAlphanumericSegment(a,l,u,d){const h=l.length();for(;u>1;){if(a.available()<11)throw new oe;const p=a.readBits(11);l.append(v.toAlphaNumericChar(Math.floor(p/45))),l.append(v.toAlphaNumericChar(p%45)),u-=2}if(1===u){if(a.available()<6)throw new oe;l.append(v.toAlphaNumericChar(a.readBits(6)))}if(d)for(let p=h;p<l.length();p++)"%"===l.charAt(p)&&(p<l.length()-1&&"%"===l.charAt(p+1)?l.deleteCharAt(p+1):l.setCharAt(p,String.fromCharCode(29)))}static decodeNumericSegment(a,l,u){for(;u>=3;){if(a.available()<10)throw new oe;const d=a.readBits(10);if(d>=1e3)throw new oe;l.append(v.toAlphaNumericChar(Math.floor(d/100))),l.append(v.toAlphaNumericChar(Math.floor(d/10)%10)),l.append(v.toAlphaNumericChar(d%10)),u-=3}if(2===u){if(a.available()<7)throw new oe;const d=a.readBits(7);if(d>=100)throw new oe;l.append(v.toAlphaNumericChar(Math.floor(d/10))),l.append(v.toAlphaNumericChar(d%10))}else if(1===u){if(a.available()<4)throw new oe;const d=a.readBits(4);if(d>=10)throw new oe;l.append(v.toAlphaNumericChar(d))}}static parseECIValue(a){const l=a.readBits(8);if(!(128&l))return 127&l;if(128==(192&l))return(63&l)<<8&4294967295|a.readBits(8);if(192==(224&l))return(31&l)<<16&4294967295|a.readBits(16);throw new oe}}return v.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",v.GB2312_SUBSET=1,v})();class Hf{constructor(s){this.mirrored=s}isMirrored(){return this.mirrored}applyMirroredCorrection(s){if(!this.mirrored||null===s||s.length<3)return;const a=s[0];s[0]=s[2],s[2]=a}}class Jc{constructor(){this.rsDecoder=new Bo(qe.QR_CODE_FIELD_256)}decodeBooleanArray(s,a){return this.decodeBitMatrix(Jt.parseFromBooleanArray(s),a)}decodeBitMatrix(s,a){const l=new jf(s);let u=null;try{return this.decodeBitMatrixParser(l,a)}catch(d){u=d}try{l.remask(),l.setMirror(!0),l.readVersion(),l.readFormatInformation(),l.mirror();const d=this.decodeBitMatrixParser(l,a);return d.setOther(new Hf(!0)),d}catch(d){throw null!==u?u:d}}decodeBitMatrixParser(s,a){const l=s.readVersion(),u=s.readFormatInformation().getErrorCorrectionLevel(),d=s.readCodewords(),h=ft.getDataBlocks(d,l,u);let p=0;for(const _ of h)p+=_.getNumDataCodewords();const y=new Uint8Array(p);let C=0;for(const _ of h){const x=_.getCodewords(),A=_.getNumDataCodewords();this.correctErrors(x,A);for(let S=0;S<A;S++)y[C++]=x[S]}return bs.decode(y,l,u,a)}correctErrors(s,a){const l=new Int32Array(s);try{this.rsDecoder.decode(l,s.length-a)}catch{throw new qt}for(let u=0;u<a;u++)s[u]=l[u]}}class X extends he{constructor(s,a,l){super(s,a),this.estimatedModuleSize=l}aboutEquals(s,a,l){if(Math.abs(a-this.getY())<=s&&Math.abs(l-this.getX())<=s){const u=Math.abs(s-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(s,a,l){const u=(this.getX()+a)/2,d=(this.getY()+s)/2;return new X(u,d,(this.estimatedModuleSize+l)/2)}}class Ri{constructor(s,a,l,u,d,h,p){this.image=s,this.startX=a,this.startY=l,this.width=u,this.height=d,this.moduleSize=h,this.resultPointCallback=p,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const s=this.startX,a=this.height,u=s+this.width,d=this.startY+a/2,h=new Int32Array(3),p=this.image;for(let y=0;y<a;y++){const C=d+(1&y?-Math.floor((y+1)/2):Math.floor((y+1)/2));h[0]=0,h[1]=0,h[2]=0;let _=s;for(;_<u&&!p.get(_,C);)_++;let x=0;for(;_<u;){if(p.get(_,C))if(1===x)h[1]++;else if(2===x){if(this.foundPatternCross(h)){const A=this.handlePossibleCenter(h,C,_);if(null!==A)return A}h[0]=h[2],h[1]=1,h[2]=0,x=1}else h[++x]++;else 1===x&&x++,h[x]++;_++}if(this.foundPatternCross(h)){const A=this.handlePossibleCenter(h,C,u);if(null!==A)return A}}if(0!==this.possibleCenters.length)return this.possibleCenters[0];throw new G}static centerFromEnd(s,a){return a-s[2]-s[1]/2}foundPatternCross(s){const a=this.moduleSize,l=a/2;for(let u=0;u<3;u++)if(Math.abs(a-s[u])>=l)return!1;return!0}crossCheckVertical(s,a,l,u){const d=this.image,h=d.getHeight(),p=this.crossCheckStateCount;p[0]=0,p[1]=0,p[2]=0;let y=s;for(;y>=0&&d.get(a,y)&&p[1]<=l;)p[1]++,y--;if(y<0||p[1]>l)return NaN;for(;y>=0&&!d.get(a,y)&&p[0]<=l;)p[0]++,y--;if(p[0]>l)return NaN;for(y=s+1;y<h&&d.get(a,y)&&p[1]<=l;)p[1]++,y++;if(y===h||p[1]>l)return NaN;for(;y<h&&!d.get(a,y)&&p[2]<=l;)p[2]++,y++;return p[2]>l||5*Math.abs(p[0]+p[1]+p[2]-u)>=2*u?NaN:this.foundPatternCross(p)?Ri.centerFromEnd(p,y):NaN}handlePossibleCenter(s,a,l){const u=s[0]+s[1]+s[2],d=Ri.centerFromEnd(s,l),h=this.crossCheckVertical(a,d,2*s[1],u);if(!isNaN(h)){const p=(s[0]+s[1]+s[2])/3;for(const C of this.possibleCenters)if(C.aboutEquals(p,h,d))return C.combineEstimate(h,d,p);const y=new X(d,h,p);this.possibleCenters.push(y),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(y)}return null}}class De extends he{constructor(s,a,l,u){super(s,a),this.estimatedModuleSize=l,this.count=u,void 0===u&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(s,a,l){if(Math.abs(a-this.getY())<=s&&Math.abs(l-this.getX())<=s){const u=Math.abs(s-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(s,a,l){const u=this.count+1,d=(this.count*this.getX()+a)/u,h=(this.count*this.getY()+s)/u;return new De(d,h,(this.count*this.estimatedModuleSize+l)/u,u)}}class it{constructor(s){this.bottomLeft=s[0],this.topLeft=s[1],this.topRight=s[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}let zf=(()=>{class v{constructor(a,l){this.image=a,this.resultPointCallback=l,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=l}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(a){const l=null!=a&&void 0!==a.get(_t.TRY_HARDER),u=null!=a&&void 0!==a.get(_t.PURE_BARCODE),d=this.image,h=d.getHeight(),p=d.getWidth();let y=Math.floor(3*h/(4*v.MAX_MODULES));(y<v.MIN_SKIP||l)&&(y=v.MIN_SKIP);let C=!1;const _=new Int32Array(5);for(let A=y-1;A<h&&!C;A+=y){_[0]=0,_[1]=0,_[2]=0,_[3]=0,_[4]=0;let S=0;for(let N=0;N<p;N++)if(d.get(N,A))1==(1&S)&&S++,_[S]++;else if(1&S)_[S]++;else if(4===S)if(v.foundPatternCross(_)){if(!0!==this.handlePossibleCenter(_,A,N,u)){_[0]=_[2],_[1]=_[3],_[2]=_[4],_[3]=1,_[4]=0,S=3;continue}if(y=2,!0===this.hasSkipped)C=this.haveMultiplyConfirmedCenters();else{const L=this.findRowSkip();L>_[2]&&(A+=L-_[2]-y,N=p-1)}S=0,_[0]=0,_[1]=0,_[2]=0,_[3]=0,_[4]=0}else _[0]=_[2],_[1]=_[3],_[2]=_[4],_[3]=1,_[4]=0,S=3;else _[++S]++;v.foundPatternCross(_)&&!0===this.handlePossibleCenter(_,A,p,u)&&(y=_[0],this.hasSkipped&&(C=this.haveMultiplyConfirmedCenters()))}const x=this.selectBestPatterns();return he.orderBestPatterns(x),new it(x)}static centerFromEnd(a,l){return l-a[4]-a[3]-a[2]/2}static foundPatternCross(a){let l=0;for(let h=0;h<5;h++){const p=a[h];if(0===p)return!1;l+=p}if(l<7)return!1;const u=l/7,d=u/2;return Math.abs(u-a[0])<d&&Math.abs(u-a[1])<d&&Math.abs(3*u-a[2])<3*d&&Math.abs(u-a[3])<d&&Math.abs(u-a[4])<d}getCrossCheckStateCount(){const a=this.crossCheckStateCount;return a[0]=0,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a}crossCheckDiagonal(a,l,u,d){const h=this.getCrossCheckStateCount();let p=0;const y=this.image;for(;a>=p&&l>=p&&y.get(l-p,a-p);)h[2]++,p++;if(a<p||l<p)return!1;for(;a>=p&&l>=p&&!y.get(l-p,a-p)&&h[1]<=u;)h[1]++,p++;if(a<p||l<p||h[1]>u)return!1;for(;a>=p&&l>=p&&y.get(l-p,a-p)&&h[0]<=u;)h[0]++,p++;if(h[0]>u)return!1;const C=y.getHeight(),_=y.getWidth();for(p=1;a+p<C&&l+p<_&&y.get(l+p,a+p);)h[2]++,p++;if(a+p>=C||l+p>=_)return!1;for(;a+p<C&&l+p<_&&!y.get(l+p,a+p)&&h[3]<u;)h[3]++,p++;if(a+p>=C||l+p>=_||h[3]>=u)return!1;for(;a+p<C&&l+p<_&&y.get(l+p,a+p)&&h[4]<u;)h[4]++,p++;return!(h[4]>=u)&&Math.abs(h[0]+h[1]+h[2]+h[3]+h[4]-d)<2*d&&v.foundPatternCross(h)}crossCheckVertical(a,l,u,d){const h=this.image,p=h.getHeight(),y=this.getCrossCheckStateCount();let C=a;for(;C>=0&&h.get(l,C);)y[2]++,C--;if(C<0)return NaN;for(;C>=0&&!h.get(l,C)&&y[1]<=u;)y[1]++,C--;if(C<0||y[1]>u)return NaN;for(;C>=0&&h.get(l,C)&&y[0]<=u;)y[0]++,C--;if(y[0]>u)return NaN;for(C=a+1;C<p&&h.get(l,C);)y[2]++,C++;if(C===p)return NaN;for(;C<p&&!h.get(l,C)&&y[3]<u;)y[3]++,C++;if(C===p||y[3]>=u)return NaN;for(;C<p&&h.get(l,C)&&y[4]<u;)y[4]++,C++;return y[4]>=u||5*Math.abs(y[0]+y[1]+y[2]+y[3]+y[4]-d)>=2*d?NaN:v.foundPatternCross(y)?v.centerFromEnd(y,C):NaN}crossCheckHorizontal(a,l,u,d){const h=this.image,p=h.getWidth(),y=this.getCrossCheckStateCount();let C=a;for(;C>=0&&h.get(C,l);)y[2]++,C--;if(C<0)return NaN;for(;C>=0&&!h.get(C,l)&&y[1]<=u;)y[1]++,C--;if(C<0||y[1]>u)return NaN;for(;C>=0&&h.get(C,l)&&y[0]<=u;)y[0]++,C--;if(y[0]>u)return NaN;for(C=a+1;C<p&&h.get(C,l);)y[2]++,C++;if(C===p)return NaN;for(;C<p&&!h.get(C,l)&&y[3]<u;)y[3]++,C++;if(C===p||y[3]>=u)return NaN;for(;C<p&&h.get(C,l)&&y[4]<u;)y[4]++,C++;return y[4]>=u||5*Math.abs(y[0]+y[1]+y[2]+y[3]+y[4]-d)>=d?NaN:v.foundPatternCross(y)?v.centerFromEnd(y,C):NaN}handlePossibleCenter(a,l,u,d){const h=a[0]+a[1]+a[2]+a[3]+a[4];let p=v.centerFromEnd(a,u),y=this.crossCheckVertical(l,Math.floor(p),a[2],h);if(!isNaN(y)&&(p=this.crossCheckHorizontal(Math.floor(p),Math.floor(y),a[2],h),!isNaN(p)&&(!d||this.crossCheckDiagonal(Math.floor(y),Math.floor(p),a[2],h)))){const C=h/7;let _=!1;const x=this.possibleCenters;for(let A=0,S=x.length;A<S;A++){const N=x[A];if(N.aboutEquals(C,y,p)){x[A]=N.combineEstimate(y,p,C),_=!0;break}}if(!_){const A=new De(p,y,C);x.push(A),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(A)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let l=null;for(const u of this.possibleCenters)if(u.getCount()>=v.CENTER_QUORUM){if(null!=l)return this.hasSkipped=!0,Math.floor((Math.abs(l.getX()-u.getX())-Math.abs(l.getY()-u.getY()))/2);l=u}return 0}haveMultiplyConfirmedCenters(){let a=0,l=0;const u=this.possibleCenters.length;for(const p of this.possibleCenters)p.getCount()>=v.CENTER_QUORUM&&(a++,l+=p.getEstimatedModuleSize());if(a<3)return!1;const d=l/u;let h=0;for(const p of this.possibleCenters)h+=Math.abs(p.getEstimatedModuleSize()-d);return h<=.05*l}selectBestPatterns(){const a=this.possibleCenters.length;if(a<3)throw new G;const l=this.possibleCenters;let u;if(a>3){let d=0,h=0;for(const C of this.possibleCenters){const _=C.getEstimatedModuleSize();d+=_,h+=_*_}u=d/a;let p=Math.sqrt(h/a-u*u);l.sort((C,_)=>{const x=Math.abs(_.getEstimatedModuleSize()-u),A=Math.abs(C.getEstimatedModuleSize()-u);return x<A?-1:x>A?1:0});const y=Math.max(.2*u,p);for(let C=0;C<l.length&&l.length>3;C++)Math.abs(l[C].getEstimatedModuleSize()-u)>y&&(l.splice(C,1),C--)}if(l.length>3){let d=0;for(const h of l)d+=h.getEstimatedModuleSize();u=d/l.length,l.sort((h,p)=>{if(p.getCount()===h.getCount()){const y=Math.abs(p.getEstimatedModuleSize()-u),C=Math.abs(h.getEstimatedModuleSize()-u);return y<C?1:y>C?-1:0}return p.getCount()-h.getCount()}),l.splice(3)}return[l[0],l[1],l[2]]}}return v.CENTER_QUORUM=2,v.MIN_SKIP=3,v.MAX_MODULES=57,v})();class Is{constructor(s){this.image=s}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(s){this.resultPointCallback=null==s?null:s.get(_t.NEED_RESULT_POINT_CALLBACK);const l=new zf(this.image,this.resultPointCallback).find(s);return this.processFinderPatternInfo(l)}processFinderPatternInfo(s){const a=s.getTopLeft(),l=s.getTopRight(),u=s.getBottomLeft(),d=this.calculateModuleSize(a,l,u);if(d<1)throw new G("No pattern found in proccess finder.");const h=Is.computeDimension(a,l,u,d),p=ye.getProvisionalVersionForDimension(h),y=p.getDimensionForVersion()-7;let C=null;if(p.getAlignmentPatternCenters().length>0){const S=l.getX()-a.getX()+u.getX(),N=l.getY()-a.getY()+u.getY(),O=1-3/y,L=Math.floor(a.getX()+O*(S-a.getX())),U=Math.floor(a.getY()+O*(N-a.getY()));for(let Q=4;Q<=16;Q<<=1)try{C=this.findAlignmentInRegion(d,L,U,Q);break}catch(J){if(!(J instanceof G))throw J}}const _=Is.createTransform(a,l,u,C,h),x=Is.sampleGrid(this.image,_,h);let A;return A=null===C?[u,a,l]:[u,a,l,C],new Vo(x,A)}static createTransform(s,a,l,u,d){const h=d-3.5;let p,y,C,_;return null!==u?(p=u.getX(),y=u.getY(),C=h-3,_=C):(p=a.getX()-s.getX()+l.getX(),y=a.getY()-s.getY()+l.getY(),C=h,_=h),Vn.quadrilateralToQuadrilateral(3.5,3.5,h,3.5,C,_,3.5,h,s.getX(),s.getY(),a.getX(),a.getY(),p,y,l.getX(),l.getY())}static sampleGrid(s,a,l){return ti.getInstance().sampleGridWithTransform(s,l,l,a)}static computeDimension(s,a,l,u){const d=Ze.round(he.distance(s,a)/u),h=Ze.round(he.distance(s,l)/u);let p=Math.floor((d+h)/2)+7;switch(3&p){case 0:p++;break;case 2:p--;break;case 3:throw new G("Dimensions could be not found.")}return p}calculateModuleSize(s,a,l){return(this.calculateModuleSizeOneWay(s,a)+this.calculateModuleSizeOneWay(s,l))/2}calculateModuleSizeOneWay(s,a){const l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(s.getX()),Math.floor(s.getY()),Math.floor(a.getX()),Math.floor(a.getY())),u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.getX()),Math.floor(a.getY()),Math.floor(s.getX()),Math.floor(s.getY()));return isNaN(l)?u/7:isNaN(u)?l/7:(l+u)/14}sizeOfBlackWhiteBlackRunBothWays(s,a,l,u){let d=this.sizeOfBlackWhiteBlackRun(s,a,l,u),h=1,p=s-(l-s);p<0?(h=s/(s-p),p=0):p>=this.image.getWidth()&&(h=(this.image.getWidth()-1-s)/(p-s),p=this.image.getWidth()-1);let y=Math.floor(a-(u-a)*h);return h=1,y<0?(h=a/(a-y),y=0):y>=this.image.getHeight()&&(h=(this.image.getHeight()-1-a)/(y-a),y=this.image.getHeight()-1),p=Math.floor(s+(p-s)*h),d+=this.sizeOfBlackWhiteBlackRun(s,a,p,y),d-1}sizeOfBlackWhiteBlackRun(s,a,l,u){const d=Math.abs(u-a)>Math.abs(l-s);if(d){let S=s;s=a,a=S,S=l,l=u,u=S}const h=Math.abs(l-s),p=Math.abs(u-a);let y=-h/2;const C=s<l?1:-1,_=a<u?1:-1;let x=0;const A=l+C;for(let S=s,N=a;S!==A;S+=C){if(1===x===this.image.get(d?N:S,d?S:N)){if(2===x)return Ze.distance(S,N,s,a);x++}if(y+=p,y>0){if(N===u)break;N+=_,y-=h}}return 2===x?Ze.distance(l+C,u,s,a):NaN}findAlignmentInRegion(s,a,l,u){const d=Math.floor(u*s),h=Math.max(0,a-d),p=Math.min(this.image.getWidth()-1,a+d);if(p-h<3*s)throw new G("Alignment top exceeds estimated module size.");const y=Math.max(0,l-d),C=Math.min(this.image.getHeight()-1,l+d);if(C-y<3*s)throw new G("Alignment bottom exceeds estimated module size.");return new Ri(this.image,h,y,p-h,C-y,s,this.resultPointCallback).find()}}class si{constructor(){this.decoder=new Jc}getDecoder(){return this.decoder}decode(s,a){let l,u;if(null!=a&&void 0!==a.get(_t.PURE_BARCODE)){const y=si.extractPureBits(s.getBlackMatrix());l=this.decoder.decodeBitMatrix(y,a),u=si.NO_POINTS}else{const y=new Is(s.getBlackMatrix()).detect(a);l=this.decoder.decodeBitMatrix(y.getBits(),a),u=y.getPoints()}l.getOther()instanceof Hf&&l.getOther().applyMirroredCorrection(u);const d=new At(l.getText(),l.getRawBytes(),void 0,u,_e.QR_CODE,void 0),h=l.getByteSegments();null!==h&&d.putMetadata(He.BYTE_SEGMENTS,h);const p=l.getECLevel();return null!==p&&d.putMetadata(He.ERROR_CORRECTION_LEVEL,p),l.hasStructuredAppend()&&(d.putMetadata(He.STRUCTURED_APPEND_SEQUENCE,l.getStructuredAppendSequenceNumber()),d.putMetadata(He.STRUCTURED_APPEND_PARITY,l.getStructuredAppendParity())),d}reset(){}static extractPureBits(s){const a=s.getTopLeftOnBit(),l=s.getBottomRightOnBit();if(null===a||null===l)throw new G;const u=this.moduleSize(a,s);let d=a[1],h=l[1],p=a[0],y=l[0];if(p>=y||d>=h)throw new G;if(h-d!=y-p&&(y=p+(h-d),y>=s.getWidth()))throw new G;const C=Math.round((y-p+1)/u),_=Math.round((h-d+1)/u);if(C<=0||_<=0)throw new G;if(_!==C)throw new G;const x=Math.floor(u/2);d+=x,p+=x;const A=p+Math.floor((C-1)*u)-y;if(A>0){if(A>x)throw new G;p-=A}const S=d+Math.floor((_-1)*u)-h;if(S>0){if(S>x)throw new G;d-=S}const N=new Jt(C,_);for(let O=0;O<_;O++){const L=d+Math.floor(O*u);for(let U=0;U<C;U++)s.get(p+Math.floor(U*u),L)&&N.set(U,O)}return N}static moduleSize(s,a){const l=a.getHeight(),u=a.getWidth();let d=s[0],h=s[1],p=!0,y=0;for(;d<u&&h<l;){if(p!==a.get(d,h)){if(5==++y)break;p=!p}d++,h++}if(d===u||h===l)throw new G;return(d-s[0])/7}}si.NO_POINTS=new Array;class xe{PDF417Common(){}static getBitCountSum(s){return Ze.sum(s)}static toIntArray(s){if(null==s||!s.length)return xe.EMPTY_INT_ARRAY;const a=new Int32Array(s.length);let l=0;for(const u of s)a[l++]=u;return a}static getCodeword(s){const a=Ut.binarySearch(xe.SYMBOL_TABLE,262143&s);return a<0?-1:(xe.CODEWORD_TABLE[a]-1)%xe.NUMBER_OF_CODEWORDS}}xe.NUMBER_OF_CODEWORDS=929,xe.MAX_CODEWORDS_IN_BARCODE=xe.NUMBER_OF_CODEWORDS-1,xe.MIN_ROWS_IN_BARCODE=3,xe.MAX_ROWS_IN_BARCODE=90,xe.MODULES_IN_CODEWORD=17,xe.MODULES_IN_STOP_PATTERN=18,xe.BARS_IN_MODULE=8,xe.EMPTY_INT_ARRAY=new Int32Array([]),xe.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),xe.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Un{constructor(s,a){this.bits=s,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class Ve{static detectMultiple(s,a,l){let u=s.getBlackMatrix(),d=Ve.detect(l,u);return d.length||(u=u.clone(),u.rotate180(),d=Ve.detect(l,u)),new Un(u,d)}static detect(s,a){const l=new Array;let u=0,d=0,h=!1;for(;u<a.getHeight();){const p=Ve.findVertices(a,u,d);if(null!=p[0]||null!=p[3]){if(h=!0,l.push(p),!s)break;null!=p[2]?(d=Math.trunc(p[2].getX()),u=Math.trunc(p[2].getY())):(d=Math.trunc(p[4].getX()),u=Math.trunc(p[4].getY()))}else{if(!h)break;h=!1,d=0;for(const y of l)null!=y[1]&&(u=Math.trunc(Math.max(u,y[1].getY()))),null!=y[3]&&(u=Math.max(u,Math.trunc(y[3].getY())));u+=Ve.ROW_STEP}}return l}static findVertices(s,a,l){const u=s.getHeight(),d=s.getWidth(),h=new Array(8);return Ve.copyToResult(h,Ve.findRowsWithPattern(s,u,d,a,l,Ve.START_PATTERN),Ve.INDEXES_START_PATTERN),null!=h[4]&&(l=Math.trunc(h[4].getX()),a=Math.trunc(h[4].getY())),Ve.copyToResult(h,Ve.findRowsWithPattern(s,u,d,a,l,Ve.STOP_PATTERN),Ve.INDEXES_STOP_PATTERN),h}static copyToResult(s,a,l){for(let u=0;u<l.length;u++)s[l[u]]=a[u]}static findRowsWithPattern(s,a,l,u,d,h){const p=new Array(4);let y=!1;const C=new Int32Array(h.length);for(;u<a;u+=Ve.ROW_STEP){let x=Ve.findGuardPattern(s,d,u,l,!1,h,C);if(null!=x){for(;u>0;){const A=Ve.findGuardPattern(s,d,--u,l,!1,h,C);if(null==A){u++;break}x=A}p[0]=new he(x[0],u),p[1]=new he(x[1],u),y=!0;break}}let _=u+1;if(y){let x=0,A=Int32Array.from([Math.trunc(p[0].getX()),Math.trunc(p[1].getX())]);for(;_<a;_++){const S=Ve.findGuardPattern(s,A[0],_,l,!1,h,C);if(null!=S&&Math.abs(A[0]-S[0])<Ve.MAX_PATTERN_DRIFT&&Math.abs(A[1]-S[1])<Ve.MAX_PATTERN_DRIFT)A=S,x=0;else{if(x>Ve.SKIPPED_ROW_COUNT_MAX)break;x++}}_-=x+1,p[2]=new he(A[0],_),p[3]=new he(A[1],_)}return _-u<Ve.BARCODE_MIN_HEIGHT&&Ut.fill(p,null),p}static findGuardPattern(s,a,l,u,d,h,p){Ut.fillWithin(p,0,p.length,0);let y=a,C=0;for(;s.get(y,l)&&y>0&&C++<Ve.MAX_PIXEL_DRIFT;)y--;let _=y,x=0,A=h.length;for(let S=d;_<u;_++)if(s.get(_,l)!==S)p[x]++;else{if(x===A-1){if(Ve.patternMatchVariance(p,h,Ve.MAX_INDIVIDUAL_VARIANCE)<Ve.MAX_AVG_VARIANCE)return new Int32Array([y,_]);y+=p[0]+p[1],gt.arraycopy(p,2,p,0,x-1),p[x-1]=0,p[x]=0,x--}else x++;p[x]=1,S=!S}return x===A-1&&Ve.patternMatchVariance(p,h,Ve.MAX_INDIVIDUAL_VARIANCE)<Ve.MAX_AVG_VARIANCE?new Int32Array([y,_-1]):null}static patternMatchVariance(s,a,l){let u=s.length,d=0,h=0;for(let C=0;C<u;C++)d+=s[C],h+=a[C];if(d<h)return 1/0;let p=d/h;l*=p;let y=0;for(let C=0;C<u;C++){let _=s[C],x=a[C]*p,A=_>x?_-x:x-_;if(A>l)return 1/0;y+=A}return y/d}}Ve.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ve.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ve.MAX_AVG_VARIANCE=.42,Ve.MAX_INDIVIDUAL_VARIANCE=.8,Ve.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ve.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ve.MAX_PIXEL_DRIFT=3,Ve.MAX_PATTERN_DRIFT=5,Ve.SKIPPED_ROW_COUNT_MAX=25,Ve.ROW_STEP=5,Ve.BARCODE_MIN_HEIGHT=10;class cn{constructor(s,a){if(0===a.length)throw new ue;this.field=s;let l=a.length;if(l>1&&0===a[0]){let u=1;for(;u<l&&0===a[u];)u++;u===l?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(l-u),gt.arraycopy(a,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return 0===this.coefficients[0]}getCoefficient(s){return this.coefficients[this.coefficients.length-1-s]}evaluateAt(s){if(0===s)return this.getCoefficient(0);if(1===s){let u=0;for(let d of this.coefficients)u=this.field.add(u,d);return u}let a=this.coefficients[0],l=this.coefficients.length;for(let u=1;u<l;u++)a=this.field.add(this.field.multiply(s,a),this.coefficients[u]);return a}add(s){if(!this.field.equals(s.field))throw new ue("ModulusPolys do not have same ModulusGF field");if(this.isZero())return s;if(s.isZero())return this;let a=this.coefficients,l=s.coefficients;if(a.length>l.length){let h=a;a=l,l=h}let u=new Int32Array(l.length),d=l.length-a.length;gt.arraycopy(l,0,u,0,d);for(let h=d;h<l.length;h++)u[h]=this.field.add(a[h-d],l[h]);return new cn(this.field,u)}subtract(s){if(!this.field.equals(s.field))throw new ue("ModulusPolys do not have same ModulusGF field");return s.isZero()?this:this.add(s.negative())}multiply(s){return s instanceof cn?this.multiplyOther(s):this.multiplyScalar(s)}multiplyOther(s){if(!this.field.equals(s.field))throw new ue("ModulusPolys do not have same ModulusGF field");if(this.isZero()||s.isZero())return new cn(this.field,new Int32Array([0]));let a=this.coefficients,l=a.length,u=s.coefficients,d=u.length,h=new Int32Array(l+d-1);for(let p=0;p<l;p++){let y=a[p];for(let C=0;C<d;C++)h[p+C]=this.field.add(h[p+C],this.field.multiply(y,u[C]))}return new cn(this.field,h)}negative(){let s=this.coefficients.length,a=new Int32Array(s);for(let l=0;l<s;l++)a[l]=this.field.subtract(0,this.coefficients[l]);return new cn(this.field,a)}multiplyScalar(s){if(0===s)return new cn(this.field,new Int32Array([0]));if(1===s)return this;let a=this.coefficients.length,l=new Int32Array(a);for(let u=0;u<a;u++)l[u]=this.field.multiply(this.coefficients[u],s);return new cn(this.field,l)}multiplyByMonomial(s,a){if(s<0)throw new ue;if(0===a)return new cn(this.field,new Int32Array([0]));let l=this.coefficients.length,u=new Int32Array(l+s);for(let d=0;d<l;d++)u[d]=this.field.multiply(this.coefficients[d],a);return new cn(this.field,u)}toString(){let s=new nt;for(let a=this.getDegree();a>=0;a--){let l=this.getCoefficient(a);0!==l&&(l<0?(s.append(" - "),l=-l):s.length()>0&&s.append(" + "),(0===a||1!==l)&&s.append(l),0!==a&&(1===a?s.append("x"):(s.append("x^"),s.append(a))))}return s.toString()}}class e0{add(s,a){return(s+a)%this.modulus}subtract(s,a){return(this.modulus+s-a)%this.modulus}exp(s){return this.expTable[s]}log(s){if(0===s)throw new ue;return this.logTable[s]}inverse(s){if(0===s)throw new Za;return this.expTable[this.modulus-this.logTable[s]-1]}multiply(s,a){return 0===s||0===a?0:this.expTable[(this.logTable[s]+this.logTable[a])%(this.modulus-1)]}getSize(){return this.modulus}equals(s){return s===this}}class Gr extends e0{constructor(s,a){super(),this.modulus=s,this.expTable=new Int32Array(s),this.logTable=new Int32Array(s);let l=1;for(let u=0;u<s;u++)this.expTable[u]=l,l=l*a%s;for(let u=0;u<s-1;u++)this.logTable[this.expTable[u]]=u;this.zero=new cn(this,new Int32Array([0])),this.one=new cn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(s,a){if(s<0)throw new ue;if(0===a)return this.zero;let l=new Int32Array(s+1);return l[0]=a,new cn(this,l)}}Gr.PDF417_GF=new Gr(xe.NUMBER_OF_CODEWORDS,3);class Gf{constructor(){this.field=Gr.PDF417_GF}decode(s,a,l){let u=new cn(this.field,s),d=new Int32Array(a),h=!1;for(let N=a;N>0;N--){let O=u.evaluateAt(this.field.exp(N));d[a-N]=O,0!==O&&(h=!0)}if(!h)return 0;let p=this.field.getOne();if(null!=l)for(const N of l){let O=this.field.exp(s.length-1-N),L=new cn(this.field,new Int32Array([this.field.subtract(0,O),1]));p=p.multiply(L)}let y=new cn(this.field,d),C=this.runEuclideanAlgorithm(this.field.buildMonomial(a,1),y,a),_=C[0],x=C[1],A=this.findErrorLocations(_),S=this.findErrorMagnitudes(x,_,A);for(let N=0;N<A.length;N++){let O=s.length-1-this.field.log(A[N]);if(O<0)throw qt.getChecksumInstance();s[O]=this.field.subtract(s[O],S[N])}return A.length}runEuclideanAlgorithm(s,a,l){if(s.getDegree()<a.getDegree()){let A=s;s=a,a=A}let u=s,d=a,h=this.field.getZero(),p=this.field.getOne();for(;d.getDegree()>=Math.round(l/2);){let A=u,S=h;if(u=d,h=p,u.isZero())throw qt.getChecksumInstance();d=A;let N=this.field.getZero(),O=u.getCoefficient(u.getDegree()),L=this.field.inverse(O);for(;d.getDegree()>=u.getDegree()&&!d.isZero();){let U=d.getDegree()-u.getDegree(),Q=this.field.multiply(d.getCoefficient(d.getDegree()),L);N=N.add(this.field.buildMonomial(U,Q)),d=d.subtract(u.multiplyByMonomial(U,Q))}p=N.multiply(h).subtract(S).negative()}let y=p.getCoefficient(0);if(0===y)throw qt.getChecksumInstance();let C=this.field.inverse(y);return[p.multiply(C),d.multiply(C)]}findErrorLocations(s){let a=s.getDegree(),l=new Int32Array(a),u=0;for(let d=1;d<this.field.getSize()&&u<a;d++)0===s.evaluateAt(d)&&(l[u]=this.field.inverse(d),u++);if(u!==a)throw qt.getChecksumInstance();return l}findErrorMagnitudes(s,a,l){let u=a.getDegree(),d=new Int32Array(u);for(let C=1;C<=u;C++)d[u-C]=this.field.multiply(C,a.getCoefficient(C));let h=new cn(this.field,d),p=l.length,y=new Int32Array(p);for(let C=0;C<p;C++){let _=this.field.inverse(l[C]),x=this.field.subtract(0,s.evaluateAt(_)),A=this.field.inverse(h.evaluateAt(_));y[C]=this.field.multiply(x,A)}return y}}class oo{constructor(s,a,l,u,d){s instanceof oo?this.constructor_2(s):this.constructor_1(s,a,l,u,d)}constructor_1(s,a,l,u,d){const h=null==a||null==l,p=null==u||null==d;if(h&&p)throw new G;h?(a=new he(0,u.getY()),l=new he(0,d.getY())):p&&(u=new he(s.getWidth()-1,a.getY()),d=new he(s.getWidth()-1,l.getY())),this.image=s,this.topLeft=a,this.bottomLeft=l,this.topRight=u,this.bottomRight=d,this.minX=Math.trunc(Math.min(a.getX(),l.getX())),this.maxX=Math.trunc(Math.max(u.getX(),d.getX())),this.minY=Math.trunc(Math.min(a.getY(),u.getY())),this.maxY=Math.trunc(Math.max(l.getY(),d.getY()))}constructor_2(s){this.image=s.image,this.topLeft=s.getTopLeft(),this.bottomLeft=s.getBottomLeft(),this.topRight=s.getTopRight(),this.bottomRight=s.getBottomRight(),this.minX=s.getMinX(),this.maxX=s.getMaxX(),this.minY=s.getMinY(),this.maxY=s.getMaxY()}static merge(s,a){return null==s?a:null==a?s:new oo(s.image,s.topLeft,s.bottomLeft,a.topRight,a.bottomRight)}addMissingRows(s,a,l){let u=this.topLeft,d=this.bottomLeft,h=this.topRight,p=this.bottomRight;if(s>0){let y=l?this.topLeft:this.topRight,C=Math.trunc(y.getY()-s);C<0&&(C=0);let _=new he(y.getX(),C);l?u=_:h=_}if(a>0){let y=l?this.bottomLeft:this.bottomRight,C=Math.trunc(y.getY()+a);C>=this.image.getHeight()&&(C=this.image.getHeight()-1);let _=new he(y.getX(),C);l?d=_:p=_}return new oo(this.image,u,d,h,p)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class t0{constructor(s,a,l,u){this.columnCount=s,this.errorCorrectionLevel=u,this.rowCountUpperPart=a,this.rowCountLowerPart=l,this.rowCount=a+l}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ss{constructor(){this.buffer=""}static form(s,a){let l=-1;return s.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,function u(h,p,y,C,_,x){if("%%"===h)return"%";if(void 0===a[++l])return;h=C?parseInt(C.substr(1)):void 0;let S,A=_?parseInt(_.substr(1)):void 0;switch(x){case"s":S=a[l];break;case"c":S=a[l][0];break;case"f":S=parseFloat(a[l]).toFixed(h);break;case"p":S=parseFloat(a[l]).toPrecision(h);break;case"e":S=parseFloat(a[l]).toExponential(h);break;case"x":S=parseInt(a[l]).toString(A||16);break;case"d":S=parseFloat(parseInt(a[l],A||10).toPrecision(h)).toFixed(0)}S="object"==typeof S?JSON.stringify(S):(+S).toString(A);let N=parseInt(y),O=y&&y[0]+""=="0"?"0":" ";for(;S.length<N;)S=void 0!==p?S+O:O+S;return S})}format(s,...a){this.buffer+=Ss.form(s,a)}toString(){return this.buffer}}let eu=(()=>{class v{constructor(a){this.boundingBox=new oo(a),this.codewords=new Array(a.getMaxY()-a.getMinY()+1)}getCodewordNearby(a){let l=this.getCodeword(a);if(null!=l)return l;for(let u=1;u<v.MAX_NEARBY_DISTANCE;u++){let d=this.imageRowToCodewordIndex(a)-u;if(d>=0&&(l=this.codewords[d],null!=l)||(d=this.imageRowToCodewordIndex(a)+u,d<this.codewords.length&&(l=this.codewords[d],null!=l)))return l}return null}imageRowToCodewordIndex(a){return a-this.boundingBox.getMinY()}setCodeword(a,l){this.codewords[this.imageRowToCodewordIndex(a)]=l}getCodeword(a){return this.codewords[this.imageRowToCodewordIndex(a)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const a=new Ss;let l=0;for(const u of this.codewords)null!=u?a.format("%3d: %3d|%3d%n",l++,u.getRowNumber(),u.getValue()):a.format("%3d:    |   %n",l++);return a.toString()}}return v.MAX_NEARBY_DISTANCE=5,v})();class Ts{constructor(){this.values=new Map}setValue(s){s=Math.trunc(s);let a=this.values.get(s);null==a&&(a=0),a++,this.values.set(s,a)}getValue(){let s=-1,a=new Array;for(const[l,u]of this.values.entries()){const d={getKey:()=>l,getValue:()=>u};d.getValue()>s?(s=d.getValue(),a=[],a.push(d.getKey())):d.getValue()===s&&a.push(d.getKey())}return xe.toIntArray(a)}getConfidence(s){return this.values.get(s)}}class tu extends eu{constructor(s,a){super(s),this._isLeft=a}setRowNumbers(){for(let s of this.getCodewords())s?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(s){let a=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(a,s);let l=this.getBoundingBox(),u=this._isLeft?l.getTopLeft():l.getTopRight(),d=this._isLeft?l.getBottomLeft():l.getBottomRight(),h=this.imageRowToCodewordIndex(Math.trunc(u.getY())),p=this.imageRowToCodewordIndex(Math.trunc(d.getY())),y=-1,C=1,_=0;for(let x=h;x<p;x++){if(null==a[x])continue;let A=a[x],S=A.getRowNumber()-y;if(0===S)_++;else if(1===S)C=Math.max(C,_),_=1,y=A.getRowNumber();else if(S<0||A.getRowNumber()>=s.getRowCount()||S>x)a[x]=null;else{let N;N=C>2?(C-2)*S:S;let O=N>=x;for(let L=1;L<=N&&!O;L++)O=null!=a[x-L];O?a[x]=null:(y=A.getRowNumber(),_=1)}}}getRowHeights(){let s=this.getBarcodeMetadata();if(null==s)return null;this.adjustIncompleteIndicatorColumnRowNumbers(s);let a=new Int32Array(s.getRowCount());for(let l of this.getCodewords())if(null!=l){let u=l.getRowNumber();if(u>=a.length)continue;a[u]++}return a}adjustIncompleteIndicatorColumnRowNumbers(s){let a=this.getBoundingBox(),l=this._isLeft?a.getTopLeft():a.getTopRight(),u=this._isLeft?a.getBottomLeft():a.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=this.imageRowToCodewordIndex(Math.trunc(u.getY())),p=this.getCodewords(),y=-1;for(let C=d;C<h;C++){if(null==p[C])continue;let _=p[C];_.setRowNumberAsRowIndicatorColumn();let x=_.getRowNumber()-y;0===x||(1===x?y=_.getRowNumber():_.getRowNumber()>=s.getRowCount()?p[C]=null:y=_.getRowNumber())}}getBarcodeMetadata(){let s=this.getCodewords(),a=new Ts,l=new Ts,u=new Ts,d=new Ts;for(let p of s){if(null==p)continue;p.setRowNumberAsRowIndicatorColumn();let y=p.getValue()%30,C=p.getRowNumber();switch(this._isLeft||(C+=2),C%3){case 0:l.setValue(3*y+1);break;case 1:d.setValue(y/3),u.setValue(y%3);break;case 2:a.setValue(y+1)}}if(0===a.getValue().length||0===l.getValue().length||0===u.getValue().length||0===d.getValue().length||a.getValue()[0]<1||l.getValue()[0]+u.getValue()[0]<xe.MIN_ROWS_IN_BARCODE||l.getValue()[0]+u.getValue()[0]>xe.MAX_ROWS_IN_BARCODE)return null;let h=new t0(a.getValue()[0],l.getValue()[0],u.getValue()[0],d.getValue()[0]);return this.removeIncorrectCodewords(s,h),h}removeIncorrectCodewords(s,a){for(let l=0;l<s.length;l++){let u=s[l];if(null==s[l])continue;let d=u.getValue()%30,h=u.getRowNumber();if(h>a.getRowCount())s[l]=null;else switch(this._isLeft||(h+=2),h%3){case 0:3*d+1!==a.getRowCountUpperPart()&&(s[l]=null);break;case 1:(Math.trunc(d/3)!==a.getErrorCorrectionLevel()||d%3!==a.getRowCountLowerPart())&&(s[l]=null);break;case 2:d+1!==a.getColumnCount()&&(s[l]=null)}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+"\n"+super.toString()}}class Ms{constructor(s,a){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=s,this.barcodeColumnCount=s.getColumnCount(),this.boundingBox=a,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let a,s=xe.MAX_CODEWORDS_IN_BARCODE;do{a=s,s=this.adjustRowNumbersAndGetCount()}while(s>0&&s<a);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(s){s?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let s=this.adjustRowNumbersByRow();if(0===s)return 0;for(let a=1;a<this.barcodeColumnCount+1;a++){let l=this.detectionResultColumns[a].getCodewords();for(let u=0;u<l.length;u++)null!=l[u]&&(l[u].hasValidRowNumber()||this.adjustRowNumbers(a,u,l))}return s}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(null==this.detectionResultColumns[0]||null==this.detectionResultColumns[this.barcodeColumnCount+1])return;let s=this.detectionResultColumns[0].getCodewords(),a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<s.length;l++)if(null!=s[l]&&null!=a[l]&&s[l].getRowNumber()===a[l].getRowNumber())for(let u=1;u<=this.barcodeColumnCount;u++){let d=this.detectionResultColumns[u].getCodewords()[l];null!=d&&(d.setRowNumber(s[l].getRowNumber()),d.hasValidRowNumber()||(this.detectionResultColumns[u].getCodewords()[l]=null))}}adjustRowNumbersFromRRI(){if(null==this.detectionResultColumns[this.barcodeColumnCount+1])return 0;let s=0,a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<a.length;l++){if(null==a[l])continue;let u=a[l].getRowNumber(),d=0;for(let h=this.barcodeColumnCount+1;h>0&&d<this.ADJUST_ROW_NUMBER_SKIP;h--){let p=this.detectionResultColumns[h].getCodewords()[l];null!=p&&(d=Ms.adjustRowNumberIfValid(u,d,p),p.hasValidRowNumber()||s++)}}return s}adjustRowNumbersFromLRI(){if(null==this.detectionResultColumns[0])return 0;let s=0,a=this.detectionResultColumns[0].getCodewords();for(let l=0;l<a.length;l++){if(null==a[l])continue;let u=a[l].getRowNumber(),d=0;for(let h=1;h<this.barcodeColumnCount+1&&d<this.ADJUST_ROW_NUMBER_SKIP;h++){let p=this.detectionResultColumns[h].getCodewords()[l];null!=p&&(d=Ms.adjustRowNumberIfValid(u,d,p),p.hasValidRowNumber()||s++)}}return s}static adjustRowNumberIfValid(s,a,l){return null==l||l.hasValidRowNumber()||(l.isValidRowNumber(s)?(l.setRowNumber(s),a=0):++a),a}adjustRowNumbers(s,a,l){if(!this.detectionResultColumns[s-1])return;let u=l[a],d=this.detectionResultColumns[s-1].getCodewords(),h=d;null!=this.detectionResultColumns[s+1]&&(h=this.detectionResultColumns[s+1].getCodewords());let p=new Array(14);p[2]=d[a],p[3]=h[a],a>0&&(p[0]=l[a-1],p[4]=d[a-1],p[5]=h[a-1]),a>1&&(p[8]=l[a-2],p[10]=d[a-2],p[11]=h[a-2]),a<l.length-1&&(p[1]=l[a+1],p[6]=d[a+1],p[7]=h[a+1]),a<l.length-2&&(p[9]=l[a+2],p[12]=d[a+2],p[13]=h[a+2]);for(let y of p)if(Ms.adjustRowNumber(u,y))return}static adjustRowNumber(s,a){return!(null==a||!a.hasValidRowNumber()||a.getBucket()!==s.getBucket()||(s.setRowNumber(a.getRowNumber()),0))}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(s){this.boundingBox=s}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(s,a){this.detectionResultColumns[s]=a}getDetectionResultColumn(s){return this.detectionResultColumns[s]}toString(){let s=this.detectionResultColumns[0];null==s&&(s=this.detectionResultColumns[this.barcodeColumnCount+1]);let a=new Ss;for(let l=0;l<s.getCodewords().length;l++){a.format("CW %3d:",l);for(let u=0;u<this.barcodeColumnCount+2;u++){if(null==this.detectionResultColumns[u]){a.format("    |   ");continue}let d=this.detectionResultColumns[u].getCodewords()[l];null!=d?a.format(" %3d|%3d",d.getRowNumber(),d.getValue()):a.format("    |   ")}a.format("%n")}return a.toString()}}let er=(()=>{class v{constructor(a,l,u,d){this.rowNumber=v.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(a),this.endX=Math.trunc(l),this.bucket=Math.trunc(u),this.value=Math.trunc(d)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(a){return a!==v.BARCODE_ROW_UNKNOWN&&this.bucket===a%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(3*Math.trunc(this.value/30)+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(a){this.rowNumber=a}toString(){return this.rowNumber+"|"+this.value}}return v.BARCODE_ROW_UNKNOWN=-1,v})();class pe{static initialize(){for(let s=0;s<xe.SYMBOL_TABLE.length;s++){let a=xe.SYMBOL_TABLE[s],l=1&a;for(let u=0;u<xe.BARS_IN_MODULE;u++){let d=0;for(;(1&a)===l;)d+=1,a>>=1;l=1&a,pe.RATIOS_TABLE[s]||(pe.RATIOS_TABLE[s]=new Array(xe.BARS_IN_MODULE)),pe.RATIOS_TABLE[s][xe.BARS_IN_MODULE-u-1]=Math.fround(d/xe.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(s){let a=pe.getDecodedCodewordValue(pe.sampleBitCounts(s));return-1!==a?a:pe.getClosestDecodedValue(s)}static sampleBitCounts(s){let a=Ze.sum(s),l=new Int32Array(xe.BARS_IN_MODULE),u=0,d=0;for(let h=0;h<xe.MODULES_IN_CODEWORD;h++)d+s[u]<=a/(2*xe.MODULES_IN_CODEWORD)+h*a/xe.MODULES_IN_CODEWORD&&(d+=s[u],u++),l[u]++;return l}static getDecodedCodewordValue(s){let a=pe.getBitValue(s);return-1===xe.getCodeword(a)?-1:a}static getBitValue(s){let a=0;for(let l=0;l<s.length;l++)for(let u=0;u<s[l];u++)a=a<<1|(l%2==0?1:0);return Math.trunc(a)}static getClosestDecodedValue(s){let a=Ze.sum(s),l=new Array(xe.BARS_IN_MODULE);if(a>1)for(let h=0;h<l.length;h++)l[h]=Math.fround(s[h]/a);let u=Qa.MAX_VALUE,d=-1;this.bSymbolTableReady||pe.initialize();for(let h=0;h<pe.RATIOS_TABLE.length;h++){let p=0,y=pe.RATIOS_TABLE[h];for(let C=0;C<xe.BARS_IN_MODULE;C++){let _=Math.fround(y[C]-l[C]);if(p+=Math.fround(_*_),p>=u)break}p<u&&(u=p,d=xe.SYMBOL_TABLE[h])}return d}}pe.bSymbolTableReady=!1,pe.RATIOS_TABLE=new Array(xe.SYMBOL_TABLE.length).map(v=>new Array(xe.BARS_IN_MODULE));class Wf{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(s){this.segmentIndex=s}getFileId(){return this.fileId}setFileId(s){this.fileId=s}getOptionalData(){return this.optionalData}setOptionalData(s){this.optionalData=s}isLastSegment(){return this.lastSegment}setLastSegment(s){this.lastSegment=s}getSegmentCount(){return this.segmentCount}setSegmentCount(s){this.segmentCount=s}getSender(){return this.sender||null}setSender(s){this.sender=s}getAddressee(){return this.addressee||null}setAddressee(s){this.addressee=s}getFileName(){return this.fileName}setFileName(s){this.fileName=s}getFileSize(){return this.fileSize}setFileSize(s){this.fileSize=s}getChecksum(){return this.checksum}setChecksum(s){this.checksum=s}getTimestamp(){return this.timestamp}setTimestamp(s){this.timestamp=s}}class $f{static parseLong(s,a=void 0){return parseInt(s,a)}}let n0=(()=>{class v extends hn{}return v.kind="NullPointerException",v})();class me{writeBytes(s){this.writeBytesOffset(s,0,s.length)}writeBytesOffset(s,a,l){if(null==s)throw new n0;if(a<0||a>s.length||l<0||a+l>s.length||a+l<0)throw new Ya;if(0!==l)for(let u=0;u<l;u++)this.write(s[a+u])}flush(){}close(){}}class r0 extends hn{}class jn extends me{constructor(s=32){if(super(),this.count=0,s<0)throw new ue("Negative initial size: "+s);this.buf=new Uint8Array(s)}ensureCapacity(s){s-this.buf.length>0&&this.grow(s)}grow(s){let l=this.buf.length<<1;if(l-s<0&&(l=s),l<0){if(s<0)throw new r0;l=Se.MAX_VALUE}this.buf=Ut.copyOfUint8Array(this.buf,l)}write(s){this.ensureCapacity(this.count+1),this.buf[this.count]=s,this.count+=1}writeBytesOffset(s,a,l){if(a<0||a>s.length||l<0||a+l-s.length>0)throw new Ya;this.ensureCapacity(this.count+l),gt.arraycopy(s,a,this.buf,this.count,l),this.count+=l}writeTo(s){s.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return Ut.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(s){return s?"string"==typeof s?this.toString_string(s):this.toString_number(s):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(s){return new String(this.buf).toString()}toString_number(s){return new String(this.buf).toString()}close(){}}var ot=function(v){return v[v.ALPHA=0]="ALPHA",v[v.LOWER=1]="LOWER",v[v.MIXED=2]="MIXED",v[v.PUNCT=3]="PUNCT",v[v.ALPHA_SHIFT=4]="ALPHA_SHIFT",v[v.PUNCT_SHIFT=5]="PUNCT_SHIFT",v}(ot||{});function nu(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Go;function ai(v){if(typeof Go>"u"&&(Go=nu()),null===Go)throw new Error("BigInt is not supported!");return Go(v)}class j{static decode(s,a){let l=new nt(""),u=ee.ISO8859_1;l.enableDecoding(u);let d=1,h=s[d++],p=new Wf;for(;d<s[0];){switch(h){case j.TEXT_COMPACTION_MODE_LATCH:d=j.textCompaction(s,d,l);break;case j.BYTE_COMPACTION_MODE_LATCH:case j.BYTE_COMPACTION_MODE_LATCH_6:d=j.byteCompaction(h,s,u,d,l);break;case j.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(s[d++]);break;case j.NUMERIC_COMPACTION_MODE_LATCH:d=j.numericCompaction(s,d,l);break;case j.ECI_CHARSET:ee.getCharacterSetECIByValue(s[d++]);break;case j.ECI_GENERAL_PURPOSE:d+=2;break;case j.ECI_USER_DEFINED:d++;break;case j.BEGIN_MACRO_PDF417_CONTROL_BLOCK:d=j.decodeMacroBlock(s,d,p);break;case j.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case j.MACRO_PDF417_TERMINATOR:throw new oe;default:d--,d=j.textCompaction(s,d,l)}if(!(d<s.length))throw oe.getFormatInstance();h=s[d++]}if(0===l.length())throw oe.getFormatInstance();let y=new Lo(null,l.toString(),null,a);return y.setOther(p),y}static decodeMacroBlock(s,a,l){if(a+j.NUMBER_OF_SEQUENCE_CODEWORDS>s[0])throw oe.getFormatInstance();let u=new Int32Array(j.NUMBER_OF_SEQUENCE_CODEWORDS);for(let p=0;p<j.NUMBER_OF_SEQUENCE_CODEWORDS;p++,a++)u[p]=s[a];l.setSegmentIndex(Se.parseInt(j.decodeBase900toBase10(u,j.NUMBER_OF_SEQUENCE_CODEWORDS)));let d=new nt;a=j.textCompaction(s,a,d),l.setFileId(d.toString());let h=-1;for(s[a]===j.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(h=a+1);a<s[0];)switch(s[a]){case j.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(s[++a]){case j.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let p=new nt;a=j.textCompaction(s,a+1,p),l.setFileName(p.toString());break;case j.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let y=new nt;a=j.textCompaction(s,a+1,y),l.setSender(y.toString());break;case j.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let C=new nt;a=j.textCompaction(s,a+1,C),l.setAddressee(C.toString());break;case j.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let _=new nt;a=j.numericCompaction(s,a+1,_),l.setSegmentCount(Se.parseInt(_.toString()));break;case j.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let x=new nt;a=j.numericCompaction(s,a+1,x),l.setTimestamp($f.parseLong(x.toString()));break;case j.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let A=new nt;a=j.numericCompaction(s,a+1,A),l.setChecksum(Se.parseInt(A.toString()));break;case j.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let S=new nt;a=j.numericCompaction(s,a+1,S),l.setFileSize($f.parseLong(S.toString()));break;default:throw oe.getFormatInstance()}break;case j.MACRO_PDF417_TERMINATOR:a++,l.setLastSegment(!0);break;default:throw oe.getFormatInstance()}if(-1!==h){let p=a-h;l.isLastSegment()&&p--,l.setOptionalData(Ut.copyOfRange(s,h,h+p))}return a}static textCompaction(s,a,l){let u=new Int32Array(2*(s[0]-a)),d=new Int32Array(2*(s[0]-a)),h=0,p=!1;for(;a<s[0]&&!p;){let y=s[a++];if(y<j.TEXT_COMPACTION_MODE_LATCH)u[h]=y/30,u[h+1]=y%30,h+=2;else switch(y){case j.TEXT_COMPACTION_MODE_LATCH:u[h++]=j.TEXT_COMPACTION_MODE_LATCH;break;case j.BYTE_COMPACTION_MODE_LATCH:case j.BYTE_COMPACTION_MODE_LATCH_6:case j.NUMERIC_COMPACTION_MODE_LATCH:case j.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case j.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case j.MACRO_PDF417_TERMINATOR:a--,p=!0;break;case j.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u[h]=j.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,y=s[a++],d[h]=y,h++}}return j.decodeTextCompaction(u,d,h,l),a}static decodeTextCompaction(s,a,l,u){let d=ot.ALPHA,h=ot.ALPHA,p=0;for(;p<l;){let y=s[p],C="";switch(d){case ot.ALPHA:if(y<26)C=String.fromCharCode(65+y);else switch(y){case 26:C=" ";break;case j.LL:d=ot.LOWER;break;case j.ML:d=ot.MIXED;break;case j.PS:h=d,d=ot.PUNCT_SHIFT;break;case j.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[p]);break;case j.TEXT_COMPACTION_MODE_LATCH:d=ot.ALPHA}break;case ot.LOWER:if(y<26)C=String.fromCharCode(97+y);else switch(y){case 26:C=" ";break;case j.AS:h=d,d=ot.ALPHA_SHIFT;break;case j.ML:d=ot.MIXED;break;case j.PS:h=d,d=ot.PUNCT_SHIFT;break;case j.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[p]);break;case j.TEXT_COMPACTION_MODE_LATCH:d=ot.ALPHA}break;case ot.MIXED:if(y<j.PL)C=j.MIXED_CHARS[y];else switch(y){case j.PL:d=ot.PUNCT;break;case 26:C=" ";break;case j.LL:d=ot.LOWER;break;case j.AL:d=ot.ALPHA;break;case j.PS:h=d,d=ot.PUNCT_SHIFT;break;case j.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[p]);break;case j.TEXT_COMPACTION_MODE_LATCH:d=ot.ALPHA}break;case ot.PUNCT:if(y<j.PAL)C=j.PUNCT_CHARS[y];else switch(y){case j.PAL:d=ot.ALPHA;break;case j.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[p]);break;case j.TEXT_COMPACTION_MODE_LATCH:d=ot.ALPHA}break;case ot.ALPHA_SHIFT:if(d=h,y<26)C=String.fromCharCode(65+y);else switch(y){case 26:C=" ";break;case j.TEXT_COMPACTION_MODE_LATCH:d=ot.ALPHA}break;case ot.PUNCT_SHIFT:if(d=h,y<j.PAL)C=j.PUNCT_CHARS[y];else switch(y){case j.PAL:d=ot.ALPHA;break;case j.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[p]);break;case j.TEXT_COMPACTION_MODE_LATCH:d=ot.ALPHA}}""!==C&&u.append(C),p++}}static byteCompaction(s,a,l,u,d){let h=new jn,p=0,y=0,C=!1;switch(s){case j.BYTE_COMPACTION_MODE_LATCH:let _=new Int32Array(6),x=a[u++];for(;u<a[0]&&!C;)switch(_[p++]=x,y=900*y+x,x=a[u++],x){case j.TEXT_COMPACTION_MODE_LATCH:case j.BYTE_COMPACTION_MODE_LATCH:case j.NUMERIC_COMPACTION_MODE_LATCH:case j.BYTE_COMPACTION_MODE_LATCH_6:case j.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case j.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case j.MACRO_PDF417_TERMINATOR:u--,C=!0;break;default:if(p%5==0&&p>0){for(let A=0;A<6;++A)h.write(Number(ai(y)>>ai(8*(5-A))));y=0,p=0}}u===a[0]&&x<j.TEXT_COMPACTION_MODE_LATCH&&(_[p++]=x);for(let A=0;A<p;A++)h.write(_[A]);break;case j.BYTE_COMPACTION_MODE_LATCH_6:for(;u<a[0]&&!C;){let A=a[u++];if(A<j.TEXT_COMPACTION_MODE_LATCH)p++,y=900*y+A;else switch(A){case j.TEXT_COMPACTION_MODE_LATCH:case j.BYTE_COMPACTION_MODE_LATCH:case j.NUMERIC_COMPACTION_MODE_LATCH:case j.BYTE_COMPACTION_MODE_LATCH_6:case j.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case j.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case j.MACRO_PDF417_TERMINATOR:u--,C=!0}if(p%5==0&&p>0){for(let S=0;S<6;++S)h.write(Number(ai(y)>>ai(8*(5-S))));y=0,p=0}}}return d.append(an.decode(h.toByteArray(),l)),u}static numericCompaction(s,a,l){let u=0,d=!1,h=new Int32Array(j.MAX_NUMERIC_CODEWORDS);for(;a<s[0]&&!d;){let p=s[a++];if(a===s[0]&&(d=!0),p<j.TEXT_COMPACTION_MODE_LATCH)h[u]=p,u++;else switch(p){case j.TEXT_COMPACTION_MODE_LATCH:case j.BYTE_COMPACTION_MODE_LATCH:case j.BYTE_COMPACTION_MODE_LATCH_6:case j.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case j.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case j.MACRO_PDF417_TERMINATOR:a--,d=!0}(u%j.MAX_NUMERIC_CODEWORDS==0||p===j.NUMERIC_COMPACTION_MODE_LATCH||d)&&u>0&&(l.append(j.decodeBase900toBase10(h,u)),u=0)}return a}static decodeBase900toBase10(s,a){let l=ai(0);for(let d=0;d<a;d++)l+=j.EXP900[a-d-1]*ai(s[d]);let u=l.toString();if("1"!==u.charAt(0))throw new oe;return u.substring(1)}}j.TEXT_COMPACTION_MODE_LATCH=900,j.BYTE_COMPACTION_MODE_LATCH=901,j.NUMERIC_COMPACTION_MODE_LATCH=902,j.BYTE_COMPACTION_MODE_LATCH_6=924,j.ECI_USER_DEFINED=925,j.ECI_GENERAL_PURPOSE=926,j.ECI_CHARSET=927,j.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,j.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,j.MACRO_PDF417_TERMINATOR=922,j.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,j.MAX_NUMERIC_CODEWORDS=15,j.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,j.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,j.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,j.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,j.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,j.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,j.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,j.PL=25,j.LL=27,j.AS=27,j.ML=28,j.AL=28,j.PS=29,j.PAL=29,j.PUNCT_CHARS=";<>@[\\]_`~!\r\t,:\n-.$/\"|*()?{}'",j.MIXED_CHARS="0123456789&\r\t,:#-.$/+%*=^",j.EXP900=nu()?function Ns(){let v=[];v[0]=ai(1);let s=ai(900);v[1]=s;for(let a=2;a<16;a++)v[a]=v[a-1]*s;return v}():[],j.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Fe{constructor(){}static decode(s,a,l,u,d,h,p){let x,y=new oo(s,a,l,u,d),C=null,_=null;for(let N=!0;;N=!1){if(null!=a&&(C=Fe.getRowIndicatorColumn(s,y,a,!0,h,p)),null!=u&&(_=Fe.getRowIndicatorColumn(s,y,u,!1,h,p)),x=Fe.merge(C,_),null==x)throw G.getNotFoundInstance();let O=x.getBoundingBox();if(!N||null==O||!(O.getMinY()<y.getMinY()||O.getMaxY()>y.getMaxY()))break;y=O}x.setBoundingBox(y);let A=x.getBarcodeColumnCount()+1;x.setDetectionResultColumn(0,C),x.setDetectionResultColumn(A,_);let S=null!=C;for(let N=1;N<=A;N++){let L,O=S?N:A-N;if(void 0!==x.getDetectionResultColumn(O))continue;L=0===O||O===A?new tu(y,0===O):new eu(y),x.setDetectionResultColumn(O,L);let U=-1,Q=U;for(let J=y.getMinY();J<=y.getMaxY();J++){if(U=Fe.getStartColumn(x,O,J,S),U<0||U>y.getMaxX()){if(-1===Q)continue;U=Q}let W=Fe.detectCodeword(s,y.getMinX(),y.getMaxX(),S,U,J,h,p);null!=W&&(L.setCodeword(J,W),Q=U,h=Math.min(h,W.getWidth()),p=Math.max(p,W.getWidth()))}}return Fe.createDecoderResult(x)}static merge(s,a){if(null==s&&null==a)return null;let l=Fe.getBarcodeMetadata(s,a);if(null==l)return null;let u=oo.merge(Fe.adjustBoundingBox(s),Fe.adjustBoundingBox(a));return new Ms(l,u)}static adjustBoundingBox(s){if(null==s)return null;let a=s.getRowHeights();if(null==a)return null;let l=Fe.getMax(a),u=0;for(let p of a)if(u+=l-p,p>0)break;let d=s.getCodewords();for(let p=0;u>0&&null==d[p];p++)u--;let h=0;for(let p=a.length-1;p>=0&&(h+=l-a[p],!(a[p]>0));p--);for(let p=d.length-1;h>0&&null==d[p];p--)h--;return s.getBoundingBox().addMissingRows(u,h,s.isLeft())}static getMax(s){let a=-1;for(let l of s)a=Math.max(a,l);return a}static getBarcodeMetadata(s,a){let l,u;return null==s||null==(l=s.getBarcodeMetadata())?null==a?null:a.getBarcodeMetadata():null==a||null==(u=a.getBarcodeMetadata())?l:l.getColumnCount()!==u.getColumnCount()&&l.getErrorCorrectionLevel()!==u.getErrorCorrectionLevel()&&l.getRowCount()!==u.getRowCount()?null:l}static getRowIndicatorColumn(s,a,l,u,d,h){let p=new tu(a,u);for(let y=0;y<2;y++){let C=0===y?1:-1,_=Math.trunc(Math.trunc(l.getX()));for(let x=Math.trunc(Math.trunc(l.getY()));x<=a.getMaxY()&&x>=a.getMinY();x+=C){let A=Fe.detectCodeword(s,0,s.getWidth(),u,_,x,d,h);null!=A&&(p.setCodeword(x,A),_=u?A.getStartX():A.getEndX())}}return p}static adjustCodewordCount(s,a){let l=a[0][1],u=l.getValue(),d=s.getBarcodeColumnCount()*s.getBarcodeRowCount()-Fe.getNumberOfECCodeWords(s.getBarcodeECLevel());if(0===u.length){if(d<1||d>xe.MAX_CODEWORDS_IN_BARCODE)throw G.getNotFoundInstance();l.setValue(d)}else u[0]!==d&&l.setValue(d)}static createDecoderResult(s){let a=Fe.createBarcodeMatrix(s);Fe.adjustCodewordCount(s,a);let l=new Array,u=new Int32Array(s.getBarcodeRowCount()*s.getBarcodeColumnCount()),d=[],h=new Array;for(let y=0;y<s.getBarcodeRowCount();y++)for(let C=0;C<s.getBarcodeColumnCount();C++){let _=a[y][C+1].getValue(),x=y*s.getBarcodeColumnCount()+C;0===_.length?l.push(x):1===_.length?u[x]=_[0]:(h.push(x),d.push(_))}let p=new Array(d.length);for(let y=0;y<p.length;y++)p[y]=d[y];return Fe.createDecoderResultFromAmbiguousValues(s.getBarcodeECLevel(),u,xe.toIntArray(l),xe.toIntArray(h),p)}static createDecoderResultFromAmbiguousValues(s,a,l,u,d){let h=new Int32Array(u.length),p=100;for(;p-- >0;){for(let y=0;y<h.length;y++)a[u[y]]=d[y][h[y]];try{return Fe.decodeCodewords(a,s,l)}catch(y){if(!(y instanceof qt))throw y}if(0===h.length)throw qt.getChecksumInstance();for(let y=0;y<h.length;y++){if(h[y]<d[y].length-1){h[y]++;break}if(h[y]=0,y===h.length-1)throw qt.getChecksumInstance()}}throw qt.getChecksumInstance()}static createBarcodeMatrix(s){let a=Array.from({length:s.getBarcodeRowCount()},()=>new Array(s.getBarcodeColumnCount()+2));for(let u=0;u<a.length;u++)for(let d=0;d<a[u].length;d++)a[u][d]=new Ts;let l=0;for(let u of s.getDetectionResultColumns()){if(null!=u)for(let d of u.getCodewords())if(null!=d){let h=d.getRowNumber();if(h>=0){if(h>=a.length)continue;a[h][l].setValue(d.getValue())}}l++}return a}static isValidBarcodeColumn(s,a){return a>=0&&a<=s.getBarcodeColumnCount()+1}static getStartColumn(s,a,l,u){let d=u?1:-1,h=null;if(Fe.isValidBarcodeColumn(s,a-d)&&(h=s.getDetectionResultColumn(a-d).getCodeword(l)),null!=h)return u?h.getEndX():h.getStartX();if(h=s.getDetectionResultColumn(a).getCodewordNearby(l),null!=h)return u?h.getStartX():h.getEndX();if(Fe.isValidBarcodeColumn(s,a-d)&&(h=s.getDetectionResultColumn(a-d).getCodewordNearby(l)),null!=h)return u?h.getEndX():h.getStartX();let p=0;for(;Fe.isValidBarcodeColumn(s,a-d);){a-=d;for(let y of s.getDetectionResultColumn(a).getCodewords())if(null!=y)return(u?y.getEndX():y.getStartX())+d*p*(y.getEndX()-y.getStartX());p++}return u?s.getBoundingBox().getMinX():s.getBoundingBox().getMaxX()}static detectCodeword(s,a,l,u,d,h,p,y){d=Fe.adjustCodewordStartColumn(s,a,l,u,d,h);let C=Fe.getModuleBitCount(s,a,l,u,d,h);if(null==C)return null;let _,x=Ze.sum(C);if(u)_=d+x;else{for(let N=0;N<C.length/2;N++){let O=C[N];C[N]=C[C.length-1-N],C[C.length-1-N]=O}_=d,d=_-x}if(!Fe.checkCodewordSkew(x,p,y))return null;let A=pe.getDecodedValue(C),S=xe.getCodeword(A);return-1===S?null:new er(d,_,Fe.getCodewordBucketNumber(A),S)}static getModuleBitCount(s,a,l,u,d,h){let p=d,y=new Int32Array(8),C=0,_=u?1:-1,x=u;for(;(u?p<l:p>=a)&&C<y.length;)s.get(p,h)===x?(y[C]++,p+=_):(C++,x=!x);return C===y.length||p===(u?l:a)&&C===y.length-1?y:null}static getNumberOfECCodeWords(s){return 2<<s}static adjustCodewordStartColumn(s,a,l,u,d,h){let p=d,y=u?-1:1;for(let C=0;C<2;C++){for(;(u?p>=a:p<l)&&u===s.get(p,h);){if(Math.abs(d-p)>Fe.CODEWORD_SKEW_SIZE)return d;p+=y}y=-y,u=!u}return p}static checkCodewordSkew(s,a,l){return a-Fe.CODEWORD_SKEW_SIZE<=s&&s<=l+Fe.CODEWORD_SKEW_SIZE}static decodeCodewords(s,a,l){if(0===s.length)throw oe.getFormatInstance();let u=1<<a+1,d=Fe.correctErrors(s,l,u);Fe.verifyCodewordCount(s,u);let h=j.decode(s,""+a);return h.setErrorsCorrected(d),h.setErasures(l.length),h}static correctErrors(s,a,l){if(null!=a&&a.length>l/2+Fe.MAX_ERRORS||l<0||l>Fe.MAX_EC_CODEWORDS)throw qt.getChecksumInstance();return Fe.errorCorrection.decode(s,l,a)}static verifyCodewordCount(s,a){if(s.length<4)throw oe.getFormatInstance();let l=s[0];if(l>s.length)throw oe.getFormatInstance();if(0===l){if(!(a<s.length))throw oe.getFormatInstance();s[0]=s.length-a}}static getBitCountForCodeword(s){let a=new Int32Array(8),l=0,u=a.length-1;for(;!((1&s)!==l&&(l=1&s,u--,u<0));)a[u]++,s>>=1;return a}static getCodewordBucketNumber(s){return s instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(s):this.getCodewordBucketNumber_number(s)}static getCodewordBucketNumber_number(s){return Fe.getCodewordBucketNumber(Fe.getBitCountForCodeword(s))}static getCodewordBucketNumber_Int32Array(s){return(s[0]-s[2]+s[4]-s[6]+9)%9}static toString(s){let a=new Ss;for(let l=0;l<s.length;l++){a.format("Row %2d: ",l);for(let u=0;u<s[l].length;u++){let d=s[l][u];0===d.getValue().length?a.format("        ",null):a.format("%4d(%2d)",d.getValue()[0],d.getConfidence(d.getValue()[0]))}a.format("%n")}return a.toString()}}Fe.CODEWORD_SKEW_SIZE=2,Fe.MAX_ERRORS=3,Fe.MAX_EC_CODEWORDS=512,Fe.errorCorrection=new Gf;class nn{decode(s,a=null){let l=nn.decode(s,a,!1);if(null==l||0===l.length||null==l[0])throw G.getNotFoundInstance();return l[0]}decodeMultiple(s,a=null){try{return nn.decode(s,a,!0)}catch(l){throw l instanceof oe||l instanceof qt?G.getNotFoundInstance():l}}static decode(s,a,l){const u=new Array,d=Ve.detectMultiple(s,a,l);for(const h of d.getPoints()){const p=Fe.decode(d.getBits(),h[4],h[5],h[6],h[7],nn.getMinCodewordWidth(h),nn.getMaxCodewordWidth(h)),y=new At(p.getText(),p.getRawBytes(),void 0,h,_e.PDF_417);y.putMetadata(He.ERROR_CORRECTION_LEVEL,p.getECLevel());const C=p.getOther();null!=C&&y.putMetadata(He.PDF417_EXTRA_METADATA,C),u.push(y)}return u.map(h=>h)}static getMaxWidth(s,a){return null==s||null==a?0:Math.trunc(Math.abs(s.getX()-a.getX()))}static getMinWidth(s,a){return null==s||null==a?Se.MAX_VALUE:Math.trunc(Math.abs(s.getX()-a.getX()))}static getMaxCodewordWidth(s){return Math.floor(Math.max(Math.max(nn.getMaxWidth(s[0],s[4]),nn.getMaxWidth(s[6],s[2])*xe.MODULES_IN_CODEWORD/xe.MODULES_IN_STOP_PATTERN),Math.max(nn.getMaxWidth(s[1],s[5]),nn.getMaxWidth(s[7],s[3])*xe.MODULES_IN_CODEWORD/xe.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(s){return Math.floor(Math.min(Math.min(nn.getMinWidth(s[0],s[4]),nn.getMinWidth(s[6],s[2])*xe.MODULES_IN_CODEWORD/xe.MODULES_IN_STOP_PATTERN),Math.min(nn.getMinWidth(s[1],s[5]),nn.getMinWidth(s[7],s[3])*xe.MODULES_IN_CODEWORD/xe.MODULES_IN_STOP_PATTERN)))}reset(){}}let ol=(()=>{class v extends hn{}return v.kind="ReaderException",v})();class ke{constructor(s,a){this.verbose=!0===s,a&&this.setHints(a)}decode(s,a){return a&&this.setHints(a),this.decodeInternal(s)}decodeWithState(s){return null==this.readers&&this.setHints(null),this.decodeInternal(s)}setHints(s){this.hints=s;const a=!Xe(s)&&!0===s.get(_t.TRY_HARDER),l=Xe(s)?null:s.get(_t.POSSIBLE_FORMATS),u=new Array;if(!Xe(l)){const d=l.some(h=>h===_e.UPC_A||h===_e.UPC_E||h===_e.EAN_13||h===_e.EAN_8||h===_e.CODABAR||h===_e.CODE_39||h===_e.CODE_93||h===_e.CODE_128||h===_e.ITF||h===_e.RSS_14||h===_e.RSS_EXPANDED);d&&!a&&u.push(new Mi(s,this.verbose)),l.includes(_e.QR_CODE)&&u.push(new si),l.includes(_e.DATA_MATRIX)&&u.push(new ae),l.includes(_e.AZTEC)&&u.push(new cr),l.includes(_e.PDF_417)&&u.push(new nn),d&&a&&u.push(new Mi(s,this.verbose))}0===u.length&&(a||u.push(new Mi(s,this.verbose)),u.push(new si),u.push(new ae),u.push(new cr),u.push(new nn),a&&u.push(new Mi(s,this.verbose))),this.readers=u}reset(){if(null!==this.readers)for(const s of this.readers)s.reset()}decodeInternal(s){if(null===this.readers)throw new ol("No readers where selected, nothing can be read.");for(const a of this.readers)try{return a.decode(s,this.hints)}catch(l){if(l instanceof ol)continue}throw new G("No MultiFormat Readers were able to detect the code.")}}var al=function(v){return v[v.ERROR_CORRECTION=0]="ERROR_CORRECTION",v[v.CHARACTER_SET=1]="CHARACTER_SET",v[v.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",v[v.MIN_SIZE=3]="MIN_SIZE",v[v.MAX_SIZE=4]="MAX_SIZE",v[v.MARGIN=5]="MARGIN",v[v.PDF417_COMPACT=6]="PDF417_COMPACT",v[v.PDF417_COMPACTION=7]="PDF417_COMPACTION",v[v.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",v[v.AZTEC_LAYERS=9]="AZTEC_LAYERS",v[v.QR_VERSION=10]="QR_VERSION",v}(al||{}),rn=al;class at{constructor(s){this.field=s,this.cachedGenerators=[],this.cachedGenerators.push(new pn(s,Int32Array.from([1])))}buildGenerator(s){const a=this.cachedGenerators;if(s>=a.length){let l=a[a.length-1];const u=this.field;for(let d=a.length;d<=s;d++){const h=l.multiply(new pn(u,Int32Array.from([1,u.exp(d-1+u.getGeneratorBase())])));a.push(h),l=h}}return a[s]}encode(s,a){if(0===a)throw new ue("No error correction bytes");const l=s.length-a;if(l<=0)throw new ue("No data bytes provided");const u=this.buildGenerator(a),d=new Int32Array(l);gt.arraycopy(s,0,d,0,l);let h=new pn(this.field,d);h=h.multiplyByMonomial(a,1);const y=h.divide(u)[1].getCoefficients(),C=a-y.length;for(let _=0;_<C;_++)s[l+_]=0;gt.arraycopy(y,0,s,l+C,y.length)}}let Wo=(()=>{class v{constructor(){}static applyMaskPenaltyRule1(a){return v.applyMaskPenaltyRule1Internal(a,!0)+v.applyMaskPenaltyRule1Internal(a,!1)}static applyMaskPenaltyRule2(a){let l=0;const u=a.getArray(),d=a.getWidth(),h=a.getHeight();for(let p=0;p<h-1;p++){const y=u[p];for(let C=0;C<d-1;C++){const _=y[C];_===y[C+1]&&_===u[p+1][C]&&_===u[p+1][C+1]&&l++}}return v.N2*l}static applyMaskPenaltyRule3(a){let l=0;const u=a.getArray(),d=a.getWidth(),h=a.getHeight();for(let p=0;p<h;p++)for(let y=0;y<d;y++){const C=u[p];y+6<d&&1===C[y]&&0===C[y+1]&&1===C[y+2]&&1===C[y+3]&&1===C[y+4]&&0===C[y+5]&&1===C[y+6]&&(v.isWhiteHorizontal(C,y-4,y)||v.isWhiteHorizontal(C,y+7,y+11))&&l++,p+6<h&&1===u[p][y]&&0===u[p+1][y]&&1===u[p+2][y]&&1===u[p+3][y]&&1===u[p+4][y]&&0===u[p+5][y]&&1===u[p+6][y]&&(v.isWhiteVertical(u,y,p-4,p)||v.isWhiteVertical(u,y,p+7,p+11))&&l++}return l*v.N3}static isWhiteHorizontal(a,l,u){l=Math.max(l,0),u=Math.min(u,a.length);for(let d=l;d<u;d++)if(1===a[d])return!1;return!0}static isWhiteVertical(a,l,u,d){u=Math.max(u,0),d=Math.min(d,a.length);for(let h=u;h<d;h++)if(1===a[h][l])return!1;return!0}static applyMaskPenaltyRule4(a){let l=0;const u=a.getArray(),d=a.getWidth(),h=a.getHeight();for(let C=0;C<h;C++){const _=u[C];for(let x=0;x<d;x++)1===_[x]&&l++}const p=a.getHeight()*a.getWidth();return Math.floor(10*Math.abs(2*l-p)/p)*v.N4}static getDataMaskBit(a,l,u){let d,h;switch(a){case 0:d=u+l&1;break;case 1:d=1&u;break;case 2:d=l%3;break;case 3:d=(u+l)%3;break;case 4:d=Math.floor(u/2)+Math.floor(l/3)&1;break;case 5:h=u*l,d=(1&h)+h%3;break;case 6:h=u*l,d=(1&h)+h%3&1;break;case 7:h=u*l,d=h%3+(u+l&1)&1;break;default:throw new ue("Invalid mask pattern: "+a)}return 0===d}static applyMaskPenaltyRule1Internal(a,l){let u=0;const d=l?a.getHeight():a.getWidth(),h=l?a.getWidth():a.getHeight(),p=a.getArray();for(let y=0;y<d;y++){let C=0,_=-1;for(let x=0;x<h;x++){const A=l?p[y][x]:p[x][y];A===_?C++:(C>=5&&(u+=v.N1+(C-5)),C=1,_=A)}C>=5&&(u+=v.N1+(C-5))}return u}}return v.N1=3,v.N2=3,v.N3=40,v.N4=10,v})();class ll{constructor(s,a){this.width=s,this.height=a;const l=new Array(a);for(let u=0;u!==a;u++)l[u]=new Uint8Array(s);this.bytes=l}getHeight(){return this.height}getWidth(){return this.width}get(s,a){return this.bytes[a][s]}getArray(){return this.bytes}setNumber(s,a,l){this.bytes[a][s]=l}setBoolean(s,a,l){this.bytes[a][s]=l?1:0}clear(s){for(const a of this.bytes)Ut.fill(a,s)}equals(s){if(!(s instanceof ll))return!1;const a=s;if(this.width!==a.width||this.height!==a.height)return!1;for(let l=0,u=this.height;l<u;++l){const d=this.bytes[l],h=a.bytes[l];for(let p=0,y=this.width;p<y;++p)if(d[p]!==h[p])return!1}return!0}toString(){const s=new nt;for(let a=0,l=this.height;a<l;++a){const u=this.bytes[a];for(let d=0,h=this.width;d<h;++d)switch(u[d]){case 0:s.append(" 0");break;case 1:s.append(" 1");break;default:s.append("  ")}s.append("\n")}return s.toString()}}let so=(()=>{class v{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const a=new nt;return a.append("<<\n"),a.append(" mode: "),a.append(this.mode?this.mode.toString():"null"),a.append("\n ecLevel: "),a.append(this.ecLevel?this.ecLevel.toString():"null"),a.append("\n version: "),a.append(this.version?this.version.toString():"null"),a.append("\n maskPattern: "),a.append(this.maskPattern.toString()),this.matrix?(a.append("\n matrix:\n"),a.append(this.matrix.toString())):a.append("\n matrix: null\n"),a.append(">>\n"),a.toString()}setMode(a){this.mode=a}setECLevel(a){this.ecLevel=a}setVersion(a){this.version=a}setMaskPattern(a){this.maskPattern=a}setMatrix(a){this.matrix=a}static isValidMaskPattern(a){return a>=0&&a<v.NUM_MASK_PATTERNS}}return v.NUM_MASK_PATTERNS=8,v})(),ht=(()=>{class v extends hn{}return v.kind="WriterException",v})();class Ee{constructor(){}static clearMatrix(s){s.clear(255)}static buildMatrix(s,a,l,u,d){Ee.clearMatrix(d),Ee.embedBasicPatterns(l,d),Ee.embedTypeInfo(a,u,d),Ee.maybeEmbedVersionInfo(l,d),Ee.embedDataBits(s,u,d)}static embedBasicPatterns(s,a){Ee.embedPositionDetectionPatternsAndSeparators(a),Ee.embedDarkDotAtLeftBottomCorner(a),Ee.maybeEmbedPositionAdjustmentPatterns(s,a),Ee.embedTimingPatterns(a)}static embedTypeInfo(s,a,l){const u=new mt;Ee.makeTypeInfoBits(s,a,u);for(let d=0,h=u.getSize();d<h;++d){const p=u.get(u.getSize()-1-d),y=Ee.TYPE_INFO_COORDINATES[d];if(l.setBoolean(y[0],y[1],p),d<8){const x=l.getWidth()-d-1;l.setBoolean(x,8,p)}else{const A=l.getHeight()-7+(d-8);l.setBoolean(8,A,p)}}}static maybeEmbedVersionInfo(s,a){if(s.getVersionNumber()<7)return;const l=new mt;Ee.makeVersionInfoBits(s,l);let u=17;for(let d=0;d<6;++d)for(let h=0;h<3;++h){const p=l.get(u);u--,a.setBoolean(d,a.getHeight()-11+h,p),a.setBoolean(a.getHeight()-11+h,d,p)}}static embedDataBits(s,a,l){let u=0,d=-1,h=l.getWidth()-1,p=l.getHeight()-1;for(;h>0;){for(6===h&&(h-=1);p>=0&&p<l.getHeight();){for(let y=0;y<2;++y){const C=h-y;if(!Ee.isEmpty(l.get(C,p)))continue;let _;u<s.getSize()?(_=s.get(u),++u):_=!1,255!==a&&Wo.getDataMaskBit(a,C,p)&&(_=!_),l.setBoolean(C,p,_)}p+=d}d=-d,p+=d,h-=2}if(u!==s.getSize())throw new ht("Not all bits consumed: "+u+"/"+s.getSize())}static findMSBSet(s){return 32-Se.numberOfLeadingZeros(s)}static calculateBCHCode(s,a){if(0===a)throw new ue("0 polynomial");const l=Ee.findMSBSet(a);for(s<<=l-1;Ee.findMSBSet(s)>=l;)s^=a<<Ee.findMSBSet(s)-l;return s}static makeTypeInfoBits(s,a,l){if(!so.isValidMaskPattern(a))throw new ht("Invalid mask pattern");const u=s.getBits()<<3|a;l.appendBits(u,5);const d=Ee.calculateBCHCode(u,Ee.TYPE_INFO_POLY);l.appendBits(d,10);const h=new mt;if(h.appendBits(Ee.TYPE_INFO_MASK_PATTERN,15),l.xor(h),15!==l.getSize())throw new ht("should not happen but we got: "+l.getSize())}static makeVersionInfoBits(s,a){a.appendBits(s.getVersionNumber(),6);const l=Ee.calculateBCHCode(s.getVersionNumber(),Ee.VERSION_INFO_POLY);if(a.appendBits(l,12),18!==a.getSize())throw new ht("should not happen but we got: "+a.getSize())}static isEmpty(s){return 255===s}static embedTimingPatterns(s){for(let a=8;a<s.getWidth()-8;++a){const l=(a+1)%2;Ee.isEmpty(s.get(a,6))&&s.setNumber(a,6,l),Ee.isEmpty(s.get(6,a))&&s.setNumber(6,a,l)}}static embedDarkDotAtLeftBottomCorner(s){if(0===s.get(8,s.getHeight()-8))throw new ht;s.setNumber(8,s.getHeight()-8,1)}static embedHorizontalSeparationPattern(s,a,l){for(let u=0;u<8;++u){if(!Ee.isEmpty(l.get(s+u,a)))throw new ht;l.setNumber(s+u,a,0)}}static embedVerticalSeparationPattern(s,a,l){for(let u=0;u<7;++u){if(!Ee.isEmpty(l.get(s,a+u)))throw new ht;l.setNumber(s,a+u,0)}}static embedPositionAdjustmentPattern(s,a,l){for(let u=0;u<5;++u){const d=Ee.POSITION_ADJUSTMENT_PATTERN[u];for(let h=0;h<5;++h)l.setNumber(s+h,a+u,d[h])}}static embedPositionDetectionPattern(s,a,l){for(let u=0;u<7;++u){const d=Ee.POSITION_DETECTION_PATTERN[u];for(let h=0;h<7;++h)l.setNumber(s+h,a+u,d[h])}}static embedPositionDetectionPatternsAndSeparators(s){const a=Ee.POSITION_DETECTION_PATTERN[0].length;Ee.embedPositionDetectionPattern(0,0,s),Ee.embedPositionDetectionPattern(s.getWidth()-a,0,s),Ee.embedPositionDetectionPattern(0,s.getWidth()-a,s);Ee.embedHorizontalSeparationPattern(0,7,s),Ee.embedHorizontalSeparationPattern(s.getWidth()-8,7,s),Ee.embedHorizontalSeparationPattern(0,s.getWidth()-8,s);Ee.embedVerticalSeparationPattern(7,0,s),Ee.embedVerticalSeparationPattern(s.getHeight()-7-1,0,s),Ee.embedVerticalSeparationPattern(7,s.getHeight()-7,s)}static maybeEmbedPositionAdjustmentPatterns(s,a){if(s.getVersionNumber()<2)return;const l=s.getVersionNumber()-1,u=Ee.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[l];for(let d=0,h=u.length;d!==h;d++){const p=u[d];if(p>=0)for(let y=0;y!==h;y++){const C=u[y];C>=0&&Ee.isEmpty(a.get(C,p))&&Ee.embedPositionAdjustmentPattern(C-2,p-2,a)}}}}Ee.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Ee.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Ee.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Ee.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Ee.VERSION_INFO_POLY=7973,Ee.TYPE_INFO_POLY=1335,Ee.TYPE_INFO_MASK_PATTERN=21522;class cl{constructor(s,a){this.dataBytes=s,this.errorCorrectionBytes=a}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Dt{constructor(){}static calculateMaskPenalty(s){return Wo.applyMaskPenaltyRule1(s)+Wo.applyMaskPenaltyRule2(s)+Wo.applyMaskPenaltyRule3(s)+Wo.applyMaskPenaltyRule4(s)}static encode(s,a,l=null){let u=Dt.DEFAULT_BYTE_MODE_ENCODING;const d=null!==l&&void 0!==l.get(rn.CHARACTER_SET);d&&(u=l.get(rn.CHARACTER_SET).toString());const h=this.chooseMode(s,u),p=new mt;if(h===we.BYTE&&(d||Dt.DEFAULT_BYTE_MODE_ENCODING!==u)){const J=ee.getCharacterSetECIByName(u);void 0!==J&&this.appendECI(J,p)}this.appendModeInfo(h,p);const y=new mt;let C;if(this.appendBytes(s,h,y,u),null!==l&&void 0!==l.get(rn.QR_VERSION)){const J=Number.parseInt(l.get(rn.QR_VERSION).toString(),10);C=ye.getVersionForNumber(J);const W=this.calculateBitsNeeded(h,p,y,C);if(!this.willFit(W,C,a))throw new ht("Data too big for requested version")}else C=this.recommendVersion(a,h,p,y);const _=new mt;_.appendBitArray(p);const x=h===we.BYTE?y.getSizeInBytes():s.length;this.appendLengthInfo(x,C,h,_),_.appendBitArray(y);const A=C.getECBlocksForLevel(a),S=C.getTotalCodewords()-A.getTotalECCodewords();this.terminateBits(S,_);const N=this.interleaveWithECBytes(_,C.getTotalCodewords(),S,A.getNumBlocks()),O=new so;O.setECLevel(a),O.setMode(h),O.setVersion(C);const L=C.getDimensionForVersion(),U=new ll(L,L),Q=this.chooseMaskPattern(N,a,C,U);return O.setMaskPattern(Q),Ee.buildMatrix(N,a,C,Q,U),O.setMatrix(U),O}static recommendVersion(s,a,l,u){const d=this.calculateBitsNeeded(a,l,u,ye.getVersionForNumber(1)),h=this.chooseVersion(d,s),p=this.calculateBitsNeeded(a,l,u,h);return this.chooseVersion(p,s)}static calculateBitsNeeded(s,a,l,u){return a.getSize()+s.getCharacterCountBits(u)+l.getSize()}static getAlphanumericCode(s){return s<Dt.ALPHANUMERIC_TABLE.length?Dt.ALPHANUMERIC_TABLE[s]:-1}static chooseMode(s,a=null){if(ee.SJIS.getName()===a&&this.isOnlyDoubleByteKanji(s))return we.KANJI;let l=!1,u=!1;for(let d=0,h=s.length;d<h;++d){const p=s.charAt(d);if(Dt.isDigit(p))l=!0;else{if(-1===this.getAlphanumericCode(p.charCodeAt(0)))return we.BYTE;u=!0}}return u?we.ALPHANUMERIC:l?we.NUMERIC:we.BYTE}static isOnlyDoubleByteKanji(s){let a;try{a=an.encode(s,ee.SJIS)}catch{return!1}const l=a.length;if(l%2!=0)return!1;for(let u=0;u<l;u+=2){const d=255&a[u];if((d<129||d>159)&&(d<224||d>235))return!1}return!0}static chooseMaskPattern(s,a,l,u){let d=Number.MAX_SAFE_INTEGER,h=-1;for(let p=0;p<so.NUM_MASK_PATTERNS;p++){Ee.buildMatrix(s,a,l,p,u);let y=this.calculateMaskPenalty(u);y<d&&(d=y,h=p)}return h}static chooseVersion(s,a){for(let l=1;l<=40;l++){const u=ye.getVersionForNumber(l);if(Dt.willFit(s,u,a))return u}throw new ht("Data too big")}static willFit(s,a,l){return a.getTotalCodewords()-a.getECBlocksForLevel(l).getTotalECCodewords()>=(s+7)/8}static terminateBits(s,a){const l=8*s;if(a.getSize()>l)throw new ht("data bits cannot fit in the QR Code"+a.getSize()+" > "+l);for(let h=0;h<4&&a.getSize()<l;++h)a.appendBit(!1);const u=7&a.getSize();if(u>0)for(let h=u;h<8;h++)a.appendBit(!1);const d=s-a.getSizeInBytes();for(let h=0;h<d;++h)a.appendBits(1&h?17:236,8);if(a.getSize()!==l)throw new ht("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(s,a,l,u,d,h){if(u>=l)throw new ht("Block ID too large");const p=s%l,y=l-p,C=Math.floor(s/l),_=C+1,x=Math.floor(a/l),A=x+1,S=C-x,N=_-A;if(S!==N)throw new ht("EC bytes mismatch");if(l!==y+p)throw new ht("RS blocks mismatch");if(s!==(x+S)*y+(A+N)*p)throw new ht("Total bytes mismatch");u<y?(d[0]=x,h[0]=S):(d[0]=A,h[0]=N)}static interleaveWithECBytes(s,a,l,u){if(s.getSizeInBytes()!==l)throw new ht("Number of bits and data bytes does not match");let d=0,h=0,p=0;const y=new Array;for(let _=0;_<u;++_){const x=new Int32Array(1),A=new Int32Array(1);Dt.getNumDataBytesAndNumECBytesForBlockID(a,l,u,_,x,A);const S=x[0],N=new Uint8Array(S);s.toBytes(8*d,N,0,S);const O=Dt.generateECBytes(N,A[0]);y.push(new cl(N,O)),h=Math.max(h,S),p=Math.max(p,O.length),d+=x[0]}if(l!==d)throw new ht("Data bytes does not match offset");const C=new mt;for(let _=0;_<h;++_)for(const x of y){const A=x.getDataBytes();_<A.length&&C.appendBits(A[_],8)}for(let _=0;_<p;++_)for(const x of y){const A=x.getErrorCorrectionBytes();_<A.length&&C.appendBits(A[_],8)}if(a!==C.getSizeInBytes())throw new ht("Interleaving error: "+a+" and "+C.getSizeInBytes()+" differ.");return C}static generateECBytes(s,a){const l=s.length,u=new Int32Array(l+a);for(let h=0;h<l;h++)u[h]=255&s[h];new at(qe.QR_CODE_FIELD_256).encode(u,a);const d=new Uint8Array(a);for(let h=0;h<a;h++)d[h]=u[l+h];return d}static appendModeInfo(s,a){a.appendBits(s.getBits(),4)}static appendLengthInfo(s,a,l,u){const d=l.getCharacterCountBits(a);if(s>=1<<d)throw new ht(s+" is bigger than "+((1<<d)-1));u.appendBits(s,d)}static appendBytes(s,a,l,u){switch(a){case we.NUMERIC:Dt.appendNumericBytes(s,l);break;case we.ALPHANUMERIC:Dt.appendAlphanumericBytes(s,l);break;case we.BYTE:Dt.append8BitBytes(s,l,u);break;case we.KANJI:Dt.appendKanjiBytes(s,l);break;default:throw new ht("Invalid mode: "+a)}}static getDigit(s){return s.charCodeAt(0)-48}static isDigit(s){const a=Dt.getDigit(s);return a>=0&&a<=9}static appendNumericBytes(s,a){const l=s.length;let u=0;for(;u<l;){const d=Dt.getDigit(s.charAt(u));if(u+2<l){const h=Dt.getDigit(s.charAt(u+1)),p=Dt.getDigit(s.charAt(u+2));a.appendBits(100*d+10*h+p,10),u+=3}else if(u+1<l){const h=Dt.getDigit(s.charAt(u+1));a.appendBits(10*d+h,7),u+=2}else a.appendBits(d,4),u++}}static appendAlphanumericBytes(s,a){const l=s.length;let u=0;for(;u<l;){const d=Dt.getAlphanumericCode(s.charCodeAt(u));if(-1===d)throw new ht;if(u+1<l){const h=Dt.getAlphanumericCode(s.charCodeAt(u+1));if(-1===h)throw new ht;a.appendBits(45*d+h,11),u+=2}else a.appendBits(d,6),u++}}static append8BitBytes(s,a,l){let u;try{u=an.encode(s,l)}catch(d){throw new ht(d)}for(let d=0,h=u.length;d!==h;d++)a.appendBits(u[d],8)}static appendKanjiBytes(s,a){let l;try{l=an.encode(s,ee.SJIS)}catch(d){throw new ht(d)}const u=l.length;for(let d=0;d<u;d+=2){const y=(255&l[d])<<8&4294967295|255&l[d+1];let C=-1;if(y>=33088&&y<=40956?C=y-33088:y>=57408&&y<=60351&&(C=y-49472),-1===C)throw new ht("Invalid byte sequence");a.appendBits(192*(C>>8)+(255&C),13)}}static appendECI(s,a){a.appendBits(we.ECI.getBits(),4),a.appendBits(s.getValue(),8)}}Dt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Dt.DEFAULT_BYTE_MODE_ENCODING=ee.UTF8.getName();let ul=(()=>{class v{write(a,l,u,d=null){if(0===a.length)throw new ue("Found empty contents");if(l<0||u<0)throw new ue("Requested dimensions are too small: "+l+"x"+u);let h=je.L,p=v.QUIET_ZONE_SIZE;null!==d&&(void 0!==d.get(rn.ERROR_CORRECTION)&&(h=je.fromString(d.get(rn.ERROR_CORRECTION).toString())),void 0!==d.get(rn.MARGIN)&&(p=Number.parseInt(d.get(rn.MARGIN).toString(),10)));const y=Dt.encode(a,h,d);return this.renderResult(y,l,u,p)}writeToDom(a,l,u,d,h=null){"string"==typeof a&&(a=document.querySelector(a));const p=this.write(l,u,d,h);a&&a.appendChild(p)}renderResult(a,l,u,d){const h=a.getMatrix();if(null===h)throw new zr;const p=h.getWidth(),y=h.getHeight(),C=p+2*d,_=y+2*d,x=Math.max(l,C),A=Math.max(u,_),S=Math.min(Math.floor(x/C),Math.floor(A/_)),N=Math.floor((x-p*S)/2),O=Math.floor((A-y*S)/2),L=this.createSVGElement(x,A);for(let U=0,Q=O;U<y;U++,Q+=S)for(let J=0,W=N;J<p;J++,W+=S)if(1===h.get(J,U)){const Ue=this.createSvgRectElement(W,Q,S,S);L.appendChild(Ue)}return L}createSVGElement(a,l){const u=document.createElementNS(v.SVG_NS,"svg");return u.setAttributeNS(null,"height",a.toString()),u.setAttributeNS(null,"width",l.toString()),u}createSvgRectElement(a,l,u,d){const h=document.createElementNS(v.SVG_NS,"rect");return h.setAttributeNS(null,"x",a.toString()),h.setAttributeNS(null,"y",l.toString()),h.setAttributeNS(null,"height",u.toString()),h.setAttributeNS(null,"width",d.toString()),h.setAttributeNS(null,"fill","#000000"),h}}return v.QUIET_ZONE_SIZE=4,v.SVG_NS="http://www.w3.org/2000/svg",v})(),qf=(()=>{class v{encode(a,l,u,d,h){if(0===a.length)throw new ue("Found empty contents");if(l!==_e.QR_CODE)throw new ue("Can only encode QR_CODE, but got "+l);if(u<0||d<0)throw new ue(`Requested dimensions are too small: ${u}x${d}`);let p=je.L,y=v.QUIET_ZONE_SIZE;null!==h&&(void 0!==h.get(rn.ERROR_CORRECTION)&&(p=je.fromString(h.get(rn.ERROR_CORRECTION).toString())),void 0!==h.get(rn.MARGIN)&&(y=Number.parseInt(h.get(rn.MARGIN).toString(),10)));const C=Dt.encode(a,p,h);return v.renderResult(C,u,d,y)}static renderResult(a,l,u,d){const h=a.getMatrix();if(null===h)throw new zr;const p=h.getWidth(),y=h.getHeight(),C=p+2*d,_=y+2*d,x=Math.max(l,C),A=Math.max(u,_),S=Math.min(Math.floor(x/C),Math.floor(A/_)),N=Math.floor((x-p*S)/2),O=Math.floor((A-y*S)/2),L=new Jt(x,A);for(let U=0,Q=O;U<y;U++,Q+=S)for(let J=0,W=N;J<p;J++,W+=S)1===h.get(J,U)&&L.setRegion(W,Q,S,S);return L}}return v.QUIET_ZONE_SIZE=4,v})();let s0=(()=>{class v extends to{constructor(a,l,u,d,h,p,y,C){if(super(p,y),this.yuvData=a,this.dataWidth=l,this.dataHeight=u,this.left=d,this.top=h,d+p>l||h+y>u)throw new ue("Crop rectangle does not fit within image data.");C&&this.reverseHorizontal(p,y)}getRow(a,l){if(a<0||a>=this.getHeight())throw new ue("Requested row is outside the image: "+a);const u=this.getWidth();return(null==l||l.length<u)&&(l=new Uint8ClampedArray(u)),gt.arraycopy(this.yuvData,(a+this.top)*this.dataWidth+this.left,l,0,u),l}getMatrix(){const a=this.getWidth(),l=this.getHeight();if(a===this.dataWidth&&l===this.dataHeight)return this.yuvData;const u=a*l,d=new Uint8ClampedArray(u);let h=this.top*this.dataWidth+this.left;if(a===this.dataWidth)return gt.arraycopy(this.yuvData,h,d,0,u),d;for(let p=0;p<l;p++)gt.arraycopy(this.yuvData,h,d,p*a,a),h+=this.dataWidth;return d}isCropSupported(){return!0}crop(a,l,u,d){return new v(this.yuvData,this.dataWidth,this.dataHeight,this.left+a,this.top+l,u,d,!1)}renderThumbnail(){const a=this.getWidth()/v.THUMBNAIL_SCALE_FACTOR,l=this.getHeight()/v.THUMBNAIL_SCALE_FACTOR,u=new Int32Array(a*l),d=this.yuvData;let h=this.top*this.dataWidth+this.left;for(let p=0;p<l;p++){const y=p*a;for(let C=0;C<a;C++)u[y+C]=4278190080|65793*(255&d[h+C*v.THUMBNAIL_SCALE_FACTOR]);h+=this.dataWidth*v.THUMBNAIL_SCALE_FACTOR}return u}getThumbnailWidth(){return this.getWidth()/v.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/v.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(a,l){const u=this.yuvData;for(let d=0,h=this.top*this.dataWidth+this.left;d<l;d++,h+=this.dataWidth){const p=h+a/2;for(let y=h,C=h+a-1;y<p;y++,C--){const _=u[y];u[y]=u[C],u[C]=_}}}invert(){return new dt(this)}}return v.THUMBNAIL_SCALE_FACTOR=2,v})();class iu extends to{constructor(s,a,l,u,d,h,p){if(super(a,l),this.dataWidth=u,this.dataHeight=d,this.left=h,this.top=p,4===s.BYTES_PER_ELEMENT){const y=a*l,C=new Uint8ClampedArray(y);for(let _=0;_<y;_++){const x=s[_];C[_]=((x>>16&255)+(x>>7&510)+(255&x))/4&255}this.luminances=C}else this.luminances=s;if(void 0===u&&(this.dataWidth=a),void 0===d&&(this.dataHeight=l),void 0===h&&(this.left=0),void 0===p&&(this.top=0),this.left+a>this.dataWidth||this.top+l>this.dataHeight)throw new ue("Crop rectangle does not fit within image data.")}getRow(s,a){if(s<0||s>=this.getHeight())throw new ue("Requested row is outside the image: "+s);const l=this.getWidth();return(null==a||a.length<l)&&(a=new Uint8ClampedArray(l)),gt.arraycopy(this.luminances,(s+this.top)*this.dataWidth+this.left,a,0,l),a}getMatrix(){const s=this.getWidth(),a=this.getHeight();if(s===this.dataWidth&&a===this.dataHeight)return this.luminances;const l=s*a,u=new Uint8ClampedArray(l);let d=this.top*this.dataWidth+this.left;if(s===this.dataWidth)return gt.arraycopy(this.luminances,d,u,0,l),u;for(let h=0;h<a;h++)gt.arraycopy(this.luminances,d,u,h*s,s),d+=this.dataWidth;return u}isCropSupported(){return!0}crop(s,a,l,u){return new iu(this.luminances,l,u,this.dataWidth,this.dataHeight,this.left+s,this.top+a)}invert(){return new dt(this)}}class Yf extends ee{static forName(s){return this.getCharacterSetECIByName(s)}}class Oi{}Oi.ISO_8859_1=ee.ISO8859_1;class Rs{isCompact(){return this.compact}setCompact(s){this.compact=s}getSize(){return this.size}setSize(s){this.size=s}getLayers(){return this.layers}setLayers(s){this.layers=s}getCodeWords(){return this.codeWords}setCodeWords(s){this.codeWords=s}getMatrix(){return this.matrix}setMatrix(s){this.matrix=s}}class $o{static singletonList(s){return[s]}static min(s,a){return s.sort(a)[0]}}class Xf{constructor(s){this.previous=s}getPrevious(){return this.previous}}class ao extends Xf{constructor(s,a,l){super(s),this.value=a,this.bitCount=l}appendTo(s,a){s.appendBits(this.value,this.bitCount)}add(s,a){return new ao(this,s,a)}addBinaryShift(s,a){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new ao(this,s,a)}toString(){let s=this.value&(1<<this.bitCount)-1;return s|=1<<this.bitCount,"<"+Se.toBinaryString(s|1<<this.bitCount).substring(1)+">"}}class dl extends ao{constructor(s,a,l){super(s,0,0),this.binaryShiftStart=a,this.binaryShiftByteCount=l}appendTo(s,a){for(let l=0;l<this.binaryShiftByteCount;l++)(0===l||31===l&&this.binaryShiftByteCount<=62)&&(s.appendBits(31,5),this.binaryShiftByteCount>62?s.appendBits(this.binaryShiftByteCount-31,16):s.appendBits(0===l?Math.min(this.binaryShiftByteCount,31):this.binaryShiftByteCount-31,5)),s.appendBits(a[this.binaryShiftStart+l],8)}addBinaryShift(s,a){return new dl(this,s,a)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Tr(v,s,a){return new ao(v,s,a)}const Zf=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Ps=new ao(null,0,0),qo=[Int32Array.from([0,327708,327710,327709,656318]),Int32Array.from([590318,0,327710,327709,656318]),Int32Array.from([262158,590300,0,590301,932798]),Int32Array.from([327709,327708,656318,0,327710]),Int32Array.from([327711,656380,656382,656381,0])];const su=function Yo(v){for(let s of v)Ut.fill(s,-1);return v[0][4]=0,v[1][4]=0,v[1][0]=28,v[3][4]=0,v[2][4]=0,v[2][0]=15,v}(Ut.createInt32Array(6,6));class Mr{constructor(s,a,l,u){this.token=s,this.mode=a,this.binaryShiftByteCount=l,this.bitCount=u}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(s,a){let l=this.bitCount,u=this.token;if(s!==this.mode){let h=qo[this.mode][s];u=Tr(u,65535&h,h>>16),l+=h>>16}let d=2===s?4:5;return u=Tr(u,a,d),new Mr(u,s,0,l+d)}shiftAndAppend(s,a){let l=this.token,u=2===this.mode?4:5;return l=Tr(l,su[this.mode][s],u),l=Tr(l,a,5),new Mr(l,this.mode,0,this.bitCount+u+5)}addBinaryShiftChar(s){let a=this.token,l=this.mode,u=this.bitCount;if(4===this.mode||2===this.mode){let p=qo[l][0];a=Tr(a,65535&p,p>>16),u+=p>>16,l=0}let h=new Mr(a,l,this.binaryShiftByteCount+1,u+(0===this.binaryShiftByteCount||31===this.binaryShiftByteCount?18:62===this.binaryShiftByteCount?9:8));return 2078===h.binaryShiftByteCount&&(h=h.endBinaryShift(s+1)),h}endBinaryShift(s){if(0===this.binaryShiftByteCount)return this;let a=this.token;return a=function ou(v,s,a){return new dl(v,s,a)}(a,s-this.binaryShiftByteCount,this.binaryShiftByteCount),new Mr(a,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(s){let a=this.bitCount+(qo[this.mode][s.mode]>>16);return this.binaryShiftByteCount<s.binaryShiftByteCount?a+=Mr.calculateBinaryShiftCost(s)-Mr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>s.binaryShiftByteCount&&s.binaryShiftByteCount>0&&(a+=10),a<=s.bitCount}toBitArray(s){let a=[];for(let u=this.endBinaryShift(s.length).token;null!==u;u=u.getPrevious())a.unshift(u);let l=new mt;for(const u of a)u.appendTo(l,s);return l}toString(){return be.format("%s bits=%d bytes=%d",Zf[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(s){return s.binaryShiftByteCount>62?21:s.binaryShiftByteCount>31?20:s.binaryShiftByteCount>0?10:0}}Mr.INITIAL_STATE=new Mr(Ps,0,0,0);const fr=function Qf(v){const s=be.getCharCode(" "),a=be.getCharCode("."),l=be.getCharCode(",");v[0][s]=1;const u=be.getCharCode("Z"),d=be.getCharCode("A");for(let A=d;A<=u;A++)v[0][A]=A-d+2;v[1][s]=1;const h=be.getCharCode("z"),p=be.getCharCode("a");for(let A=p;A<=h;A++)v[1][A]=A-p+2;v[2][s]=1;const y=be.getCharCode("9"),C=be.getCharCode("0");for(let A=C;A<=y;A++)v[2][A]=A-C+2;v[2][l]=12,v[2][a]=13;const _=["\0"," ","\x01","\x02","\x03","\x04","\x05","\x06","\x07","\b","\t","\n","\v","\f","\r","\x1b","\x1c","\x1d","\x1e","\x1f","@","\\","^","_","`","|","~","\x7f"];for(let A=0;A<_.length;A++)v[3][be.getCharCode(_[A])]=A;const x=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let A=0;A<x.length;A++)be.getCharCode(x[A])>0&&(v[4][be.getCharCode(x[A])]=A);return v}(Ut.createInt32Array(5,256));class li{constructor(s){this.text=s}encode(){const s=be.getCharCode(" "),a=be.getCharCode("\n");let l=$o.singletonList(Mr.INITIAL_STATE);for(let d=0;d<this.text.length;d++){let h,p=d+1<this.text.length?this.text[d+1]:0;switch(this.text[d]){case be.getCharCode("\r"):h=p===a?2:0;break;case be.getCharCode("."):h=p===s?3:0;break;case be.getCharCode(","):h=p===s?4:0;break;case be.getCharCode(":"):h=p===s?5:0;break;default:h=0}h>0?(l=li.updateStateListForPair(l,d,h),d++):l=this.updateStateListForChar(l,d)}return $o.min(l,(d,h)=>d.getBitCount()-h.getBitCount()).toBitArray(this.text)}updateStateListForChar(s,a){const l=[];for(let u of s)this.updateStateForChar(u,a,l);return li.simplifyStates(l)}updateStateForChar(s,a,l){let u=255&this.text[a],d=fr[s.getMode()][u]>0,h=null;for(let p=0;p<=4;p++){let y=fr[p][u];if(y>0){if(null==h&&(h=s.endBinaryShift(a)),!d||p===s.getMode()||2===p){const C=h.latchAndAppend(p,y);l.push(C)}if(!d&&su[s.getMode()][p]>=0){const C=h.shiftAndAppend(p,y);l.push(C)}}}if(s.getBinaryShiftByteCount()>0||0===fr[s.getMode()][u]){let p=s.addBinaryShiftChar(a);l.push(p)}}static updateStateListForPair(s,a,l){const u=[];for(let d of s)this.updateStateForPair(d,a,l,u);return this.simplifyStates(u)}static updateStateForPair(s,a,l,u){let d=s.endBinaryShift(a);if(u.push(d.latchAndAppend(4,l)),4!==s.getMode()&&u.push(d.shiftAndAppend(4,l)),3===l||4===l){let h=d.latchAndAppend(2,16-l).latchAndAppend(2,1);u.push(h)}if(s.getBinaryShiftByteCount()>0){let h=s.addBinaryShiftChar(a).addBinaryShiftChar(a+1);u.push(h)}}static simplifyStates(s){let a=[];for(const l of s){let u=!0;for(const d of a){if(d.isBetterThanOrEqualTo(l)){u=!1;break}l.isBetterThanOrEqualTo(d)&&(a=a.filter(h=>h!==d))}u&&a.push(l)}return a}}class Me{constructor(){}static encodeBytes(s){return Me.encode(s,Me.DEFAULT_EC_PERCENT,Me.DEFAULT_AZTEC_LAYERS)}static encode(s,a,l){let p,y,C,_,x,u=new li(s).encode(),d=Se.truncDivision(u.getSize()*a,100)+11,h=u.getSize()+d;if(l!==Me.DEFAULT_AZTEC_LAYERS){if(p=l<0,y=Math.abs(l),y>(p?Me.MAX_NB_BITS_COMPACT:Me.MAX_NB_BITS))throw new ue(be.format("Illegal value %s for layers",l));C=Me.totalBitsInLayer(y,p),_=Me.WORD_SIZE[y];let W=C-C%_;if(x=Me.stuffBits(u,_),x.getSize()+d>W)throw new ue("Data to large for user specified layer");if(p&&x.getSize()>64*_)throw new ue("Data to large for user specified layer")}else{_=0,x=null;for(let W=0;;W++){if(W>Me.MAX_NB_BITS)throw new ue("Data too large for an Aztec code");if(p=W<=3,y=p?W+1:W,C=Me.totalBitsInLayer(y,p),h>C)continue;(null==x||_!==Me.WORD_SIZE[y])&&(_=Me.WORD_SIZE[y],x=Me.stuffBits(u,_));let Ue=C-C%_;if(!(p&&x.getSize()>64*_)&&x.getSize()+d<=Ue)break}}let U,A=Me.generateCheckWords(x,C,_),S=x.getSize()/_,N=Me.generateModeMessage(p,y,S),O=(p?11:14)+4*y,L=new Int32Array(O);if(p){U=O;for(let W=0;W<L.length;W++)L[W]=W}else{U=O+1+2*Se.truncDivision(Se.truncDivision(O,2)-1,15);let W=Se.truncDivision(O,2),Ue=Se.truncDivision(U,2);for(let Re=0;Re<W;Re++){let Tn=Re+Se.truncDivision(Re,15);L[W-Re-1]=Ue-Tn-1,L[W+Re]=Ue+Tn+1}}let Q=new Jt(U);for(let W=0,Ue=0;W<y;W++){let Re=4*(y-W)+(p?9:12);for(let Tn=0;Tn<Re;Tn++){let hr=2*Tn;for(let Mn=0;Mn<2;Mn++)A.get(Ue+hr+Mn)&&Q.set(L[2*W+Mn],L[2*W+Tn]),A.get(Ue+2*Re+hr+Mn)&&Q.set(L[2*W+Tn],L[O-1-2*W-Mn]),A.get(Ue+4*Re+hr+Mn)&&Q.set(L[O-1-2*W-Mn],L[O-1-2*W-Tn]),A.get(Ue+6*Re+hr+Mn)&&Q.set(L[O-1-2*W-Tn],L[2*W+Mn])}Ue+=8*Re}if(Me.drawModeMessage(Q,p,U,N),p)Me.drawBullsEye(Q,Se.truncDivision(U,2),5);else{Me.drawBullsEye(Q,Se.truncDivision(U,2),7);for(let W=0,Ue=0;W<Se.truncDivision(O,2)-1;W+=15,Ue+=16)for(let Re=1&Se.truncDivision(U,2);Re<U;Re+=2)Q.set(Se.truncDivision(U,2)-Ue,Re),Q.set(Se.truncDivision(U,2)+Ue,Re),Q.set(Re,Se.truncDivision(U,2)-Ue),Q.set(Re,Se.truncDivision(U,2)+Ue)}let J=new Rs;return J.setCompact(p),J.setSize(U),J.setLayers(y),J.setCodeWords(S),J.setMatrix(Q),J}static drawBullsEye(s,a,l){for(let u=0;u<l;u+=2)for(let d=a-u;d<=a+u;d++)s.set(d,a-u),s.set(d,a+u),s.set(a-u,d),s.set(a+u,d);s.set(a-l,a-l),s.set(a-l+1,a-l),s.set(a-l,a-l+1),s.set(a+l,a-l),s.set(a+l,a-l+1),s.set(a+l,a+l-1)}static generateModeMessage(s,a,l){let u=new mt;return s?(u.appendBits(a-1,2),u.appendBits(l-1,6),u=Me.generateCheckWords(u,28,4)):(u.appendBits(a-1,5),u.appendBits(l-1,11),u=Me.generateCheckWords(u,40,4)),u}static drawModeMessage(s,a,l,u){let d=Se.truncDivision(l,2);if(a)for(let h=0;h<7;h++){let p=d-3+h;u.get(h)&&s.set(p,d-5),u.get(h+7)&&s.set(d+5,p),u.get(20-h)&&s.set(p,d+5),u.get(27-h)&&s.set(d-5,p)}else for(let h=0;h<10;h++){let p=d-5+h+Se.truncDivision(h,5);u.get(h)&&s.set(p,d-7),u.get(h+10)&&s.set(d+7,p),u.get(29-h)&&s.set(p,d+7),u.get(39-h)&&s.set(d-7,p)}}static generateCheckWords(s,a,l){let u=s.getSize()/l,d=new at(Me.getGF(l)),h=Se.truncDivision(a,l),p=Me.bitsToWords(s,l,h);d.encode(p,h-u);let y=a%l,C=new mt;C.appendBits(0,y);for(const _ of Array.from(p))C.appendBits(_,l);return C}static bitsToWords(s,a,l){let d,h,u=new Int32Array(l);for(d=0,h=s.getSize()/a;d<h;d++){let p=0;for(let y=0;y<a;y++)p|=s.get(d*a+y)?1<<a-y-1:0;u[d]=p}return u}static getGF(s){switch(s){case 4:return qe.AZTEC_PARAM;case 6:return qe.AZTEC_DATA_6;case 8:return qe.AZTEC_DATA_8;case 10:return qe.AZTEC_DATA_10;case 12:return qe.AZTEC_DATA_12;default:throw new ue("Unsupported word size "+s)}}static stuffBits(s,a){let l=new mt,u=s.getSize(),d=(1<<a)-2;for(let h=0;h<u;h+=a){let p=0;for(let y=0;y<a;y++)(h+y>=u||s.get(h+y))&&(p|=1<<a-1-y);(p&d)===d?(l.appendBits(p&d,a),h--):p&d?l.appendBits(p,a):(l.appendBits(1|p,a),h--)}return l}static totalBitsInLayer(s,a){return((a?88:112)+16*s)*s}}Me.DEFAULT_EC_PERCENT=33,Me.DEFAULT_AZTEC_LAYERS=0,Me.MAX_NB_BITS=32,Me.MAX_NB_BITS_COMPACT=4,Me.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Hn{encode(s,a,l,u){return this.encodeWithHints(s,a,l,u,null)}encodeWithHints(s,a,l,u,d){let h=Oi.ISO_8859_1,p=Me.DEFAULT_EC_PERCENT,y=Me.DEFAULT_AZTEC_LAYERS;return null!=d&&(d.has(rn.CHARACTER_SET)&&(h=Yf.forName(d.get(rn.CHARACTER_SET).toString())),d.has(rn.ERROR_CORRECTION)&&(p=Se.parseInt(d.get(rn.ERROR_CORRECTION).toString())),d.has(rn.AZTEC_LAYERS)&&(y=Se.parseInt(d.get(rn.AZTEC_LAYERS).toString()))),Hn.encodeLayers(s,a,l,u,h,p,y)}static encodeLayers(s,a,l,u,d,h,p){if(a!==_e.AZTEC)throw new ue("Can only encode AZTEC, but got "+a);let y=Me.encode(be.getBytes(s,d),h,p);return Hn.renderResult(y,l,u)}static renderResult(s,a,l){let u=s.getMatrix();if(null==u)throw new zr;let d=u.getWidth(),h=u.getHeight(),p=Math.max(a,d),y=Math.max(l,h),C=Math.min(p/d,y/h),_=(p-d*C)/2,x=(y-h*C)/2,A=new Jt(p,y);for(let S=0,N=x;S<h;S++,N+=C)for(let O=0,L=_;O<d;O++,L+=C)u.get(O,S)&&A.setRegion(L,N,C,C);return A}}Z.AbstractExpandedDecoder=nl,Z.ArgumentException=Bn,Z.ArithmeticException=Za,Z.AztecCode=Rs,Z.AztecCodeReader=cr,Z.AztecCodeWriter=Hn,Z.AztecDecoder=Hc,Z.AztecDetector=Gc,Z.AztecDetectorResult=zc,Z.AztecEncoder=Me,Z.AztecHighLevelEncoder=li,Z.AztecPoint=_n,Z.BarcodeFormat=_e,Z.Binarizer=ws,Z.BinaryBitmap=Ur,Z.BitArray=mt,Z.BitMatrix=Jt,Z.BitSource=il,Z.BrowserAztecCodeReader=class Wc extends Ii{constructor(s=500){super(new cr,s)}},Z.BrowserBarcodeReader=class Qc extends Ii{constructor(s=500,a){super(new Mi(a),s,a)}},Z.BrowserCodeReader=Ii,Z.BrowserDatamatrixCodeReader=class Kc extends Ii{constructor(s=500){super(new ae,s)}},Z.BrowserMultiFormatReader=class sl extends Ii{constructor(s=null,a=500){const l=new ke;l.setHints(s),super(l,a)}decodeBitmap(s){return this.reader.decodeWithState(s)}},Z.BrowserPDF417Reader=class ru extends Ii{constructor(s=500){super(new nn,s)}},Z.BrowserQRCodeReader=class Sn extends Ii{constructor(s=500){super(new si,s)}},Z.BrowserQRCodeSvgWriter=ul,Z.CharacterSetECI=ee,Z.ChecksumException=qt,Z.Code128Reader=re,Z.Code39Reader=el,Z.DataMatrixDecodedBitStreamParser=Et,Z.DataMatrixReader=ae,Z.DecodeHintType=_t,Z.DecoderResult=Lo,Z.DefaultGridSampler=Ja,Z.DetectorResult=Vo,Z.EAN13Reader=_s,Z.EncodeHintType=rn,Z.Exception=hn,Z.FormatException=oe,Z.GenericGF=qe,Z.GenericGFPoly=pn,Z.GlobalHistogramBinarizer=xt,Z.GridSampler=Ka,Z.GridSamplerInstance=ti,Z.HTMLCanvasElementLuminanceSource=Hr,Z.HybridBinarizer=Le,Z.ITFReader=yt,Z.IllegalArgumentException=ue,Z.IllegalStateException=zr,Z.InvertedLuminanceSource=dt,Z.LuminanceSource=to,Z.MathUtils=Ze,Z.MultiFormatOneDReader=Mi,Z.MultiFormatReader=ke,Z.MultiFormatWriter=class o0{encode(s,a,l,u,d){let h;if(a!==_e.QR_CODE)throw new ue("No encoder available for format "+a);return h=new qf,h.encode(s,a,l,u,d)}},Z.NotFoundException=G,Z.OneDReader=Ht,Z.PDF417DecodedBitStreamParser=j,Z.PDF417DecoderErrorCorrection=Gf,Z.PDF417Reader=nn,Z.PDF417ResultMetadata=Wf,Z.PerspectiveTransform=Vn,Z.PlanarYUVLuminanceSource=s0,Z.QRCodeByteMatrix=ll,Z.QRCodeDataMask=In,Z.QRCodeDecodedBitStreamParser=bs,Z.QRCodeDecoderErrorCorrectionLevel=je,Z.QRCodeDecoderFormatInformation=gn,Z.QRCodeEncoder=Dt,Z.QRCodeEncoderQRCode=so,Z.QRCodeMaskUtil=Wo,Z.QRCodeMatrixUtil=Ee,Z.QRCodeMode=we,Z.QRCodeReader=si,Z.QRCodeVersion=ye,Z.QRCodeWriter=qf,Z.RGBLuminanceSource=iu,Z.RSS14Reader=Rt,Z.RSSExpandedReader=q,Z.ReaderException=ol,Z.ReedSolomonDecoder=Bo,Z.ReedSolomonEncoder=at,Z.ReedSolomonException=ko,Z.Result=At,Z.ResultMetadataType=He,Z.ResultPoint=he,Z.StringUtils=be,Z.UnsupportedOperationException=jr,Z.VideoInputDevice=jc,Z.WhiteRectangleDetector=no,Z.WriterException=ht,Z.ZXingArrays=Ut,Z.ZXingCharset=Yf,Z.ZXingInteger=Se,Z.ZXingStandardCharsets=Oi,Z.ZXingStringBuilder=nt,Z.ZXingStringEncoding=an,Z.ZXingSystem=gt,Z.createAbstractExpandedDecoder=Zc,Object.defineProperty(Z,"__esModule",{value:!0})}(kc)}},Lc=>{Lc(Lc.s=190)}]);